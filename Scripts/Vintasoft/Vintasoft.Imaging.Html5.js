// Copyright 2014-2020 VintaSoft Ltd. All rights reserved.
// This software is protected by International copyright laws.
// Any copying, duplication, deployment, redistribution, modification or other
// disposition hereof is STRICTLY PROHIBITED without an express written license
// granted by VintaSoft Ltd. This notice may not be removed or otherwise
// altered under any circumstances.
// This code may NOT be used apart of the VintaSoft product.
(function(I){if(void 0==I.Shared)throw Error("Vintasoft.Shared is not found.");if("1.4.0.1"!==I.version)throw Error("Wrong version of Vintasoft.Shared script.");var b=I.Shared,s=I.Imaging={};s.version="9.0.0.21";s.engine="html5";var k=I.Imaging.Utils={},Z=I.Imaging.ImageProcessing={},la=I.Imaging.UI={},ob=I.Imaging.UI.VisualTools={};(function(w){function aa(e){null==e&&(e=b.WebServiceJS.defaultFileService);b.pv.c(e,b.WebServiceJS,"Please specify correct file service OR define the default file service.");
return e}(function(e){var d=function(f,g,m,h,r,l){var e=d.prototype;e.get_m11=function(){return this._3688};e.set_m11=function(f){b.pv.n(f);this._3688=f};e.get_m12=function(){return this._4219};e.set_m12=function(f){b.pv.n(f);this._4219=f};e.get_m21=function(){return this._5463};e.set_m21=function(f){b.pv.n(f);this._5463=f};e.get_m22=function(){return this._7824};e.set_m22=function(f){b.pv.n(f);this._7824=f};e.get_offsetx=function(){return this._4316};e.set_offsetx=function(f){b.pv.n(f);this._4316=
f};e.get_offsety=function(){return this._5407};e.set_offsety=function(f){b.pv.n(f);this._5407=f};e.determinant=function(){return this._3688*this._7824-this._4219*this._5463};e.invert=function(){var f=1/this.determinant(),f=new d(this._7824*f,-this._4219*f,-this._5463*f,this._3688*f,(this._5463*this._5407-this._4316*this._7824)*f,(this._4219*this._4316-this._5407*this._3688)*f);this.setMatrix(f);return this};e.transformVector=function(f){f={x:f.x,y:f.y};this.multiplyVector(f);return f};e.transformPoint=
function(f){f={x:f.x,y:f.y};this.multiplyPoint(f);return f};e.transformPoints=function(f){for(var b=0;b<f.length;b++)this.multiplyPoint(f[b])};e.transformRectangle=function(f){var b=[{x:f.x,y:f.y},{x:f.x+f.width,y:f.y+f.height}];this.transformPoints(b);f.x=b[0].x;f.y=b[0].y;f.width=b[1].x-b[0].x;f.height=b[1].y-b[0].y};e.multiplyVector=function(f){var b=f.y*this._5463,g=f.x*this._4219;f.x*=this._3688;f.x+=b;f.y*=this._7824;f.y+=g};e.multiplyPoint=function(f){var b=f.y*this._5463+this._4316,g=f.x*
this._4219+this._5407;f.x*=this._3688;f.x+=b;f.y*=this._7824;f.y+=g};e.rotate=function(f,b){var g=0,m=0;null!=b&&(g=b.x,m=b.y);g=d.multiplyMatrix(this,d._8194(a._10537(f%360),g,m));this.setMatrix(g)};e.rotatePrepend=function(f,b){var g=0,m=0;null!=b&&(g=b.x,m=b.y);g=d.multiplyMatrix(d._8194(a._10537(f%360),g,m),this);this.setMatrix(g)};e.setMatrix=function(f){this._3688=f._3688;this._4219=f._4219;this._5463=f._5463;this._7824=f._7824;this._4316=f._4316;this._5407=f._5407};e.translate=function(f,b){var g=
new d(this._3688,this._4219,this._5463,this._7824,this._4316+f,this._5407+b);this.setMatrix(g)};e.translatePrepend=function(f,b){var g=d.multiplyMatrix(d._5761(f,b),this);this.setMatrix(g)};e.scale=function(f,b){var g=d.multiplyMatrix(this,d._7373(f,b));this.setMatrix(g)};e.scalePrepend=function(f,b){var g=d.multiplyMatrix(d._7373(f,b),this);this.setMatrix(g)};e.compareMatrix=function(f){return this._3688==f._3688&&this._4219==f._4219&&this._5463==f._5463&&this._7824==f._7824&&this._4316==f._4316&&
this._5407==f._5407};e._4798=function(){return{m11:this._3688,m12:this._4219,m21:this._5463,m22:this._7824,offsetx:this._4316,offsety:this._5407}};null!=f?(this._3688=+f,this._4219=+g,this._5463=+m,this._7824=+h,this._4316=+r,this._5407=+l):(this._3688=1,this._5463=this._4219=0,this._7824=1,this._5407=this._4316=0)};d.multiplyMatrix=function(f,b){return new d(f._3688*b._3688+f._4219*b._5463,f._3688*b._4219+f._4219*b._7824,f._5463*b._3688+f._7824*b._5463,f._5463*b._4219+f._7824*b._7824,f._4316*b._3688+
f._5407*b._5463+b._4316,f._4316*b._4219+f._5407*b._7824+b._5407)};d._9215=function(f){var b=new d;b.setMatrix(f);return b};d._7373=function(f,b){return new d(f,0,0,b,0,0)};d._8194=function(f,b,a){null==b&&(a=b=0);var h=Math.sin(f);f=Math.cos(f);if(1===h||-1===h)f=0;if(1===f||-1===f)h=0;return new d(f,h,-h,f,b*(1-f)+a*h,a*(1-f)-b*h)};d._5761=function(f,b){return new d(1,0,0,1,f,b)};WebImageCacheManagerJS=function(){function f(f,b){var g="";null==b&&(b=f.get_RenderingSettings());var a=b.gsi(f);if(null!=
a&&!a.isEmpty()&&a.iai(f)){var m=a.get_Resolution(),h=a.get_InterpolationMode(),d=a.get_SmoothingMode(),g=g+("Rs"+m.x+","+m.y+","+h.valueOf()+","+d.valueOf());"Pdf"===a.get_Type()&&(a.get_DrawNonMarkupAnnotations()||(g+="P0"))}return g}function g(f,b){var g="";null==b&&(b=f.get_DecodingSettings());null!=b&&b.get_IsColorManagementEnabled()&&(g+="Cm");return g}function a(f,b,g,m){null==f._2873[b]&&(f._2873[b]={});f._2873[b][g]=m}function h(f,g){for(;g>f._7605;){var a=f._9738();if(null!=a){var m=f._9237(a.data);
f._3142(a.iKey,a.cKey);g-=m}else b.pv.te("Error")}}function d(f,b,g){var a=!0;if(null!=f[b]){delete f[b][g];for(var m in f[b]){a=!1;break}a&&delete f[b]}}var e=WebImageCacheManagerJS.prototype;e.get_MaxCacheSize=function(){return this._7605};e.set_MaxCacheSize=function(f){b.pv.n(f);0>f&&b.pv.te("Size must be positive.");if(this._7605!==f){var g=this._7605;this._7605=f;if(0===f)this._2873={};else{if(0===g){f=Date.now();for(var d in this._5999)for(var e in this._5999[d])a(this,d,e,f)}d=this.get_CacheSize();
h(this,d)}}};e.get_CacheSize=function(){var f=0;if(null!=this._5999)for(var b in this._5999)f+=this._9418(b);return f};e.addImageData=function(f,g,d){null==d&&b.pv.te("Data can not be null.");this.containsImageData(f,g)&&b.pv.te("Cache manager already contains data with specified key.");f=f.get_Guid();var e=!1;if(0!=this._7605){var r=this._9237(d);r<=this._7605&&(e=this.get_CacheSize(),h(this,e+r),e=!0,a(this,f,g,Date.now()))}else e=!0;e&&(null==this._5999[f]&&(this._5999[f]={}),this._5999[f][g]=
d)};e.containsImageData=function(f,g){b.pv.c(f,b.WebImageJS);b.pv.s(g);var a=f.get_Guid();return null!=this._5999[a]?null!=this._5999[a][g]:!1};e.getImageData=function(f,g){b.pv.c(f,b.WebImageJS);b.pv.s(g);var h=f.get_Guid();if(null!=this._5999[h]){var d=this._5999[h][g];null!=d&&0!==this._7605&&a(this,h,g,Date.now());return d}};e.clear=function(){this._5999={};this._2873={}};e.contains=function(f){b.pv.c(f,b.WebImageJS);f=f.get_Guid();return null!=this._5999[f]};e.clearImageCache=function(f){b.pv.c(f,
b.WebImageJS);f=f.get_Guid();null!=this._5999[f]&&delete this._5999[f];null!=this._2873[f]&&delete this._2873[f]};e._9197=function(b,a,m,h,d,e){b="tlL"+b.x+","+b.y;b+="S"+m.x+","+m.y+"Sz"+a.width+","+a.height;b+=f(h,d);return b+=g(h,e)};e._10240=function(b,a,m,h,d){b="thS"+b+","+a+f(m,h);return b+=g(m,d)};e._3142=function(f,b){d(this._5999,f,b);d(this._2873,f,b)};e._9418=function(f){var b=0;if(null!=this._5999[f])for(var g in this._5999[f])b+=this._9237(this._5999[f][g]);return b};e._9237=function(f){return 2*
f.length};e._9738=function(){if(null!=this._2873){var f=Date.now(),b,g;for(g in this._2873){var a=this._4876(g);null!=a&&f>a.date&&(f=a.date,b=a)}return b}};e._4876=function(f){if(null!=this._2873[f]){var b=Date.now(),g="",a;for(a in this._2873[f]){var m=this._2873[f][a];m<b&&(b=m,g=a)}return{data:this._5999[f][g],iKey:f,cKey:g,date:b}}};this._6354=b.WebImagingEnviromentJS.guid();this._5999={};this._2873={};this._7605=64E3};var a=function(){};a._6730=function(){};a._6730=-3.40282347E38;a._2151=function(f,
b,a){if(0===a)return f;a=-a*Math.PI/180;var h=Math.sin(a);a=Math.cos(a);var d=f.x-b.x;f=f.y-b.y;return{x:d*a+f*h+b.x,y:-d*h+f*a+b.y}};a._7216=function(f,b,a){if(0!=a){a*=-Math.PI/180;var h=Math.sin(a);a=Math.cos(a);for(var d,e,t=0;t<f.length;t++)d=f[t].x-b.x,e=f[t].y-b.y,f[t].x=d*a+e*h+b.x,f[t].y=-d*h+e*a+b.y}};a._10537=function(f){return Math.PI/180*f};a._7271=function(f){return f/Math.PI*180};a._2637=function(f,b,a){for(var h=0;h<f.length;h++)f[h].x*=b,f[h].y*=a};a._2840=function(f,b){return Math.sqrt((f.x-
b.x)*(f.x-b.x)+(f.y-b.y)*(f.y-b.y))};a._9961=function(f,b,m){null==b&&(b=0);null==m&&(m=f.length-1);for(var h=0;b<m;b++)h+=a._2840(f[b],f[b+1]);return h};a._7056=function(f,b){for(var a=0;a<f.length;a++)f[a].x+=b.x,f[a].y+=b.y};a._6869=function(f,b,a){f=Math.atan2(b.y-f.y,b.x-f.x)-Math.atan2(a.y-b.y,a.x-b.x);return Math.abs(180-Math.abs(180/Math.PI*f))};a._9668=function(f,b,a){f=Math.atan2(f.x-b.x,f.y-b.y);for(f=180*(a?1:0)+180-180*f/Math.PI;360<f;)f-=360;for(;0>f;)f+=360;return f};a._3803=function(f){for(;360<=
f;)f-=360;for(;0>f;)f+=360;return f};a._642=function(f){(-360>=f||360<=f)&&b.pv.te("angleInDegrees");return 90-Math.abs(90-Math.abs(Math.abs(f)-180))};a._7361=function(f){for(;0>f;)f+=360;for(;360<f;)f-=360;360==f&&(f=0);return f};a._858=function(f,b){var a=0,h=0,d=b.x-f.x,e=b.y-f.y;0==d||0==e?0==d?h=0>e?-1:1:a=0>d?-1:1:(c=Math.sqrt(d*d+e*e),a=d/c,h=e/c);return{x:a,y:h}};a._580=function(f,b){b=Math.asin(Math.max(-1,Math.min(1,0*f.x-1*f.y)));beta=Math.acos(Math.max(-1,Math.min(1,0*f.x+1*f.y)));b=0<=
b?beta:2*Math.PI-beta;var a=Math.cos(b),h=Math.sin(b);return{x:a,y:h}};a._3146=function(f,b,a){return{x:f.x+b.x*a,y:f.y+b.y*a}};a._3007=function(f,b,a){var h=b.x-f.x,d=b.y-f.y;b=a.x-f.x;f=a.y-f.y;var e=Math.sqrt(h*h+d*d);a=Math.sqrt(b*b+f*f);if(.01>e||.01>a)return 0;h/=e;d/=e;b/=a;a=f/a;f=Math.asin(Math.max(-1,Math.min(1,h*a-b*d)));b=Math.acos(Math.max(-1,Math.min(1,h*b+d*a)));return 0<=f?b:2*Math.PI-b};a._7431=function(b,g,a){return{x:b.x+a*(g.x-b.x),y:b.y+a*(g.y-b.y)}};a._1799=function(b,g,m){m=
a._2170(b,g,m);var h=a._2840(b,m),d=a._2840(g,m),e=a._2840(b,g);return h<=e&&d<=e?m:h<d?b:g};a._2170=function(b,g,a){if(b.x==g.x)return g=b.x,b=a.y,{x:g,y:b};if(b.y==g.y)return g=a.x,b=b.y,{x:g,y:b};var h=(g.y-b.y)/(g.x-b.x);g=(a.x/h+a.y-(-h*b.x+b.y))/(h+1/h);b=-1/h*(g-a.x)+a.y;return{x:g,y:b}};a._1159=function(b,g){var d=g.y-b.y;if(0==d)return 0;var h=g.x-b.x;return 0==h?90:0<d?a._7271(Math.atan2(d,h)):a._7271(Math.atan2(-d,-h))};a._2401=function(b,g){var a=Math.asin(Math.max(-1,Math.min(1,b.x*g.y-
g.x*b.y))),h=Math.acos(Math.max(-1,Math.min(1,b.x*g.x+b.y*g.y)));return 0<=a?h:2*Math.PI-h};a._8266=function(b,g,a,h){return{x:(b.x+g.x+a.x+h.x)/4,y:(b.y+g.y+a.y+h.y)/4}};a._8992=function(b){return{x:b.x+b.width/2,y:b.y+b.height/2}};a._1694=function(b){if(0==b.length)return a._8313();for(var g=b[0].x,d=g,h=b[0].y,e=h,l=1;l<b.length;l++){var t=b[l].x,A=b[l].y;g>t?g=t:d<t&&(d=t);h>A?h=A:e<A&&(e=A)}return{x:g,y:h,width:d-g,height:e-h}};a._6501=function(b){b=a._1694(b);return a._8992(b)};a._10213=function(b){return[{x:b.x,
y:b.y},{x:b.x,y:b.y+b.height},{x:b.x+b.width,y:b.y+b.height},{x:b.x+b.width,y:b.y}]};a._2716=function(b,g){for(var a=[],h=0,d=b.length;h<d-1*!g;h++){var e=[b[h-1],b[h],b[h+1],b[h+2]];g?h?d-2==h?e[3]=b[0]:d-1==h&&(e[2]=b[0],e[3]=b[1]):e[0]=b[d-1]:d-2==h?e[3]=e[2]:h||(e[0]=b[h]);a.push([{x:(-e[0].x+6*e[1].x+e[2].x)/6,y:(-e[0].y+6*e[1].y+e[2].y)/6},{x:(e[1].x+6*e[2].x-e[3].x)/6,y:(e[1].y+6*e[2].y-e[3].y)/6},{x:e[2].x,y:e[2].y}])}return a};a._7207=function(b){var g=b.y-Math.floor(b.y);return{x:Math.floor(b.x),
y:Math.floor(b.y),width:parseInt(b.width+1+(b.x-Math.floor(b.x))),height:parseInt(b.height+1+g)}};a._2466=function(b,g){var a=Math.max(b.x,g.x),h=Math.min(b.x+b.width,g.x+g.width),d=Math.max(b.y,g.y),e=Math.min(b.y+b.height,g.y+g.height);return h>=a&&e>=d};a._4585=function(b,g){var d=Math.max(b.x,g.x),h=Math.min(b.x+b.width,g.x+g.width),e=Math.max(b.y,g.y),l=Math.min(b.y+b.height,g.y+g.height);return h>=d&&l>=e?{x:d,y:e,width:h-d,height:l-e}:a._8313()};a._8822=function(b,g){var a=Math.min(b.x,g.x),
h=Math.max(b.x+b.width,g.x+g.width),d=Math.min(b.y,g.y),e=Math.max(b.y+b.height,g.y+g.height);return{x:a,y:d,width:h-a,height:e-d}};a._2310=function(b,g,d){b=a._10213(b);a._7216(b,d,g);return b};a._460=function(b,a){return b==a?0:b<a?-1:1};a._4216=function(b,g,d,h,e,l){var t=[],A=[],k=a._2840(b,g)+a._2840(g,d)+a._2840(d,h),q=!1;null==l?l=e:(q=!0,e*=e);k=l/k;l*=l;t.push(b);A.push(0);for(var n,x=b,v=0;1>v;){var z,y=v+k;for(1<y&&(y=1);;)if(z=a._1974(b,g,d,h,y),n=a._6150(x,z),n<=l){if(!q)break;if(n>=
e||1<=y)break;else y+=(y-v)/2}else y=v+(y-v)/2;t.push(z);A.push(y);x=z;v=y}return{points:t,times:A}};a._8206=function(b,g,d){for(var h=[],e=0;e<g.length;e++)for(var l=a._4216(b[e],g[e][0],g[e][1],g[e][2],d).points,t=0;t<l.length;t++)h.push(l[t]);return h};a._1974=function(b,a,d,h,e){return{x:(1-e)*(1-e)*(1-e)*b.x+3*e*(1-e)*(1-e)*a.x+3*e*e*(1-e)*d.x+e*e*e*h.x,y:(1-e)*(1-e)*(1-e)*b.y+3*e*(1-e)*(1-e)*a.y+3*e*e*(1-e)*d.y+e*e*e*h.y}};a._8313=function(){return{x:0,y:0,width:0,height:0}};a._1853=function(b){return 0===
b.x&&0===b.y&&0===b.width&&0===b.height};a._4962=function(b){return 0===b.x&&0===b.y};a._9602=function(b,a){return b===a?!0:b.x===a.x&&b.y===a.y&&b.width===a.width&&b.height===a.height};a._8255=function(b){var a=Math.min(b.x,b.x+b.width),d=Math.min(b.y,b.y+b.height),h=Math.max(b.x,b.x+b.width);b=Math.max(b.y,b.y+b.height);return{x:a,y:d,width:h-a,height:b-d}};a._2611=function(b,g,d){for(var h=0;h<g.length-1;h++){var e=a._1799(g[h],g[h+1],b);if(a._2840(b,e)<=d)return!0}return!1};a._6150=function(b,
a){var d=b.x-a.x,h=b.y-a.y;return d*d+h*h};a._9791=function(b,g,d){var h=360-a._7271(a._3007(g,b,d));b=a._2840(b,g);b+=a._2840(g,d);return 180<=h?-b:b};a._10433=function(b,a){return{x:(b.x+a.x)/2,y:(b.y+a.y)/2}};a._2156=function(b,g,d,h){var e=a._10433(b,g),l=a._1159(b,g);b=a._2151(b,e,-l);g=a._2151(g,e,-l);var t=b.x,A=b.y;b=g.x;g=g.y;var k=Math.sqrt(Math.pow(t-b,2)+Math.pow(A-g,2));if(0===k||k>d+d)return{x:0,y:0};d/=k;var q=Math.sqrt(d*d-.25);d=t+.5*(b-t);k=A+.5*(g-A);A=(A-g)*q;t=(t-b)*q;h=h?{x:d+
A,y:k+t}:{x:d-A,y:k-t};return h=a._2151(h,e,l)};a._9509=function(b){var a=[];if(0<b.length){a.push(b[0]);for(var d=1;d<b.length;d++)b[d].x==b[d-1].x&&b[d].y==b[d-1].y||a.push(b[d]);1!=a.length&&a[0].x==a[a.length-1].x&&a[0].y==a[a.length-1].y&&a.splice(a.length-1,1)}return a};a._5472=function(b){var g=0;if(2<b.length){for(var d=b[0],h,e,l=1;l<b.length;l++)h=b[l],e=l==b.length-1?b[0]:b[l+1],g+=a._9791(d,h,e),d=h;g+=a._9791(d,b[0],b[1])}return 0<=g};a._466=function(b){if(4>b.length)return b;for(var g=
1,d=[],h=0;h<b.length;h++)d.push(0);for(var e=b[0].x,l=b[0].y,t=0,h=1;h<b.length;h++){var A=b[h].y;if(l<A||l==A&&e<b[h].x)e=b[h].x,l=A,t=h}e=b[t];l=[];for(h=0;h<b.length;h++)l.push(0);for(var k=0,q=3,t=e,n={x:t.x+1,y:t.y},x,v;;){x=t.x-n.x;v=t.y-n.y;for(var z=x*x+v*v,h=0;h<b.length;h++)if(0==d[h]){var y=b[h].x,A=b[h].y;x=t.x-y;v=t.y-A;var s=x*x+v*v;x=n.x-y;v=n.y-A;A=(z+s-(x*x+v*v))/Math.sqrt(z*s);A<q?(q=A,k=1,l[0]=h):A==q&&(l[k++]=h)}if(1<k)for(A=l[k-1],n=a._6150(t,b[A]),h=k-2;0<=h;h--)k=a._6150(t,
b[l[h]]),k>n&&(n=k,A=l[h]);else A=l[0];n=t;t=b[A];if(t.x==e.x&&t.y==e.y)break;d[A]=g;g++;k=0;q=3}g=[];g[0]=e;for(h=0;h<b.length;h++)0!=d[h]&&(g[d[h]]=b[h]);return g};a._9438=function(b,g,d,e){b=[b,g,d,e];g=a._466(b);if(4!=g.length)return!1;for(d=0;d<g.length;d++)if(b[0].x===g[d].x&&b[0].y===g[d].y){for(e=0;4>e;e++,d=3==d?0:d+1)if(b[e].x!==g[d].x||b[e].y!==g[d].y)return!1;break}return!0};a._9562=function(b,g,d,e,r){return a._4642(d,b,g,r)||a._4642(d,e,g,r)};a._4642=function(b,a,d,e){var r=(e.x-a.x)*
(b.y-a.y)+(e.y-a.y)*(a.x-b.x);a=(e.x-d.x)*(a.y-d.y)+(e.y-d.y)*(d.x-a.x);b=(e.x-b.x)*(d.y-b.y)+(e.y-b.y)*(b.x-d.x);return 0>r&&0>a&&0>b||0<r&&0<a&&0<b||r<Number.EPSILON&&a<Number.EPSILON&&b<Number.EPSILON};a._676=function(b,a,d){return(d.x-b.x)*(d.x-b.x)+(d.y-b.y)*(d.y-b.y)<=a*a};a._4789=function(b,a){return a.x>=b.x&&a.x<=b.x+b.width&&a.y>=b.y&&a.y<=b.y+b.height};a._7795=function(b,g,d){if(0==d.width||0==d.height)return g;var e;e=d.width/2;d=d.height/2;b=a._10537(b%360);b=Math.atan2(e*Math.sin(b),
d*Math.cos(b));e*=Math.cos(b);d*=Math.sin(b);return{x:e+g.x,y:d+g.y}};a._10343=function(b,a){var d=b.length,e,r,l=!1;e=0;for(r=d-1;e<d;r=e++)b[e].y>a.y!=b[r].y>a.y&&a.x<(b[r].x-b[e].x)*(a.y-b[e].y)/(b[r].y-b[e].y)+b[e].x&&(l=!l);return l};a._4298=function(b,g){return a._5584({x:b.x,y:b.y},g)||a._5584({x:b.x+b.width,y:b.y},g)||a._5584({x:b.x,y:b.y+b.height},g)||a._5584({x:b.x+b.width,y:b.y+b.height},g)||a._9212(b,g[0],g[1])||a._9212(b,g[2],g[3])||a._9212(b,g[0],g[3])||a._9212(b,g[1],g[2])?!0:!1};a._9212=
function(b,g,d){var e=Math.min(b.x,b.x+b.width),r=Math.min(b.y,b.y+b.height),l=Math.max(b.x,b.x+b.width);b=Math.max(b.y,b.y+b.height);g={x:g.x,y:g.y};d={x:d.x,y:d.y};var t,A,k,q;t=a._2406(g,e,r,l,b);for(A=a._2406(d,e,r,l,b);0!=t||0!=A;){if(0!=(t&A))return!1;0!=t?(k=t,q=g):(k=A,q=d);0!=(k&1)?(q.y+=(g.y-d.y)*(e-q.x)/(g.x-d.x),q.x=e):0!=(k&2)&&(q.y+=(g.y-d.y)*(l-q.x)/(g.x-d.x),q.x=l);0!=(k&4)?(q.x+=(g.x-d.x)*(r-q.y)/(g.y-d.y),q.y=r):0!=(k&8)&&(q.x+=(g.x-d.x)*(b-q.y)/(g.y-d.y),q.y=b);0!=t?g=q:d=q;k==
t?t=a._2406(g,e,r,l,b):A=a._2406(d,e,r,l,b)}return!0};a._2406=function(b,a,d,e,r){return(b.x<a?1:0)+(b.x>e?2:0)+(b.y<d?4:0)+(b.y>r?8:0)};a._697=function(b,g){var d=b[1],e=b[3],r=a._6150(b[0],b[2]),d=a._6150(d,e);return Math.abs(r-d)<Math.max(r,d)*g};a._6970=function(b){b=a._466(b);if(2>=b.length)return b;for(var g=[],d=Number.MAX_VALUE,e=0;e<b.length;e++){for(var r=b[e],l=e<b.length-1?b[e+1]:b[0],l=a._2994(r,l,b),r=l[0],l=l[1],t={x:0,y:0},A=0,k=0;k<b.length;k++){var q=a._2840(b[k],a._2170(r,l,b[k]));
q>A&&(t=b[k],A=q)}A*=a._2840(r,l);A<d&&(g[0]=r,g[1]=l,d=A,A=a._3146(t,a._858(r,l),1),g[2]=a._2170(t,A,l),g[3]=a._2170(t,A,r))}return g};a._4164=function(b){for(var g=b[0][3],d=b[0][2],e=a._3146(g,a._858(g,d),1E5),r={x:0,y:0},l={x:0,y:0},t,A=Number.MAX_VALUE,k=0,q,n=0;n<b.length;n++)for(var x=b[n],v=0;v<x.length;v++)t=a._2170(g,d,x[v]),q=a._6150(e,t),q>k&&(k=q,r=t),q<A&&(A=q,l=t);g=b[0][0];d=b[b.length-1][1];n=a._2170(g,d,r);g=a._2170(g,d,l);r=[n,g,l,r];if(a._697(r,1E-4))return r;l=[];for(n=0;n<b.length;n++)l=
l.concat(b[n]);b=a._6970(l);return 4!=b.length?r:[b[0],b[3],b[2],b[1]]};a._5584=function(b,g){return a._9562(g[0],g[1],g[3],g[2],b)};a._2994=function(b,g,d){for(var e=a._2170(b,g,d[0]),r=a._3493(b,g,b,e),l={x:e.x,y:e.y},t=r,A=1;A<d.length;A++){var k=a._2170(b,g,d[A]),q=a._3493(b,g,b,k);q<r&&(r=q,e=k);q>t&&(t=q,l=k)}return[e,l]};a._3493=function(b,g,d,e){var r=a._2840(d,e);b=a._858(b,g);d=a._858(d,e);a._3304(b,d)>Math.PI/2&&(r=-r);return r};a._3304=function(b,a){var d=b.x*a.x+b.y*a.y;1<d?d=1:-1>d&&
(d=-1);return Math.acos(d)};a._20=function(b){for(var a=[],d=0;d<b.length;d++)a.push($.extend(!0,{},b[d]));return a};a._8733=function(b,a,d){if(b===a)return!0;if(b.length!==a.length)return!1;null==d&&(d=function(b,a){return b===a});for(var e=0;e<b.length;e++)if(!d(b[e],a[e]))return!1;return!0};e.WebMatrixJS=d;e.WebImageCacheManagerJS=WebImageCacheManagerJS;e._2813=a})(w.Utils);w.WebBorderColorTypeEnumJS=b.EnumGenerator.create([{AutoDetect:0},{Black:1},{White:2},{Transparent:3},{Custom:4}],!1);w.WebRotateFlipTypeEnumJS=
b.EnumGenerator.create([{RotateNoneFlipNone:0},{RotateNoneFlipX:1},{RotateNoneFlipY:2},{RotateNoneFlipXY:3},{Rotate90FlipNone:4},{Rotate90FlipX:5},{Rotate90FlipY:6},{Rotate90FlipXY:7},{Rotate180FlipNone:8},{Rotate180FlipX:9},{Rotate180FlipY:10},{Rotate180FlipXY:11},{Rotate270FlipNone:12},{Rotate270FlipX:13},{Rotate270FlipY:14},{Rotate270FlipXY:15}],!1);w.WebBinarizationModeEnumJS=b.EnumGenerator.create([{Threshold:0},{Global:1},{Adaptive:2},{Halftone:3}],!1);w.WebBorderRemovalColorTypeEnumJS=b.EnumGenerator.create([{Auto:0},
{Black:1},{White:2},{DetectBorderColorForEachSide:3}],!1);w.WebImageSideEnumJS=b.EnumGenerator.create([{None:0},{Left:1},{Right:2},{Top:4},{Bottom:8},{All:15}],!0);w.WebImageProcessingDirectionEnumJS=b.EnumGenerator.create([{Horizontal:1},{Vertical:2}],!0);w.WebColorChannelEnumJS=b.EnumGenerator.create([{R:1},{G:2},{B:4},{RGB:7},{A:8},{RGBA:15}],!0);w.WebLuminanceComputationModeEnumJS=b.EnumGenerator.create([{Standard:0},{Sum:1}],!1);w.WebDesaturateMethodEnumJS=b.EnumGenerator.create([{Lightness:0},
{Luminosity:1},{Average:2}],!1);w.WebImageSizeModeEnumJS=b.EnumGenerator.create([{FitToWidth:0},{FitToHeight:1},{BestFit:2},{Zoom:3},{Normal:4},{PixelToPixel:5}],!1);w.WebThumbnailFlowStyleEnumJS=b.EnumGenerator.create([{SingleColumn:1},{SingleRow:2},{WrappedRows:3},{FixedColumns:4}],!1);w.WebThumbnailScaleEnumJS=b.EnumGenerator.create([{Smallest:50},{Small:75},{Normal:100},{Large:150}],!1);w.WebPaletteTypeJS=b.EnumGenerator.create([{Adaptive:0},{Web:1}],!1);w.WebColorQuantizationMethodEnumJS=b.EnumGenerator.create([{FastPopularity:0},
{AdvancedPopularity:1},{FastMedianCut:2},{AdvancedMedianCut:3}],!1);w.WebNoiseTypeEnumJS=b.EnumGenerator.create([{Perlin:0},{NegativeExponential:1},{Rayleigh:2},{Uniform:3},{Gaussian:4}],!1);w.WebBlendingModeEnumJS=b.EnumGenerator.create([{Normal:0},{Multiply:1},{Screen:2},{Overlay:3},{Darken:4},{Lighten:5},{ColorDodge:6},{ColorBurn:7},{HardLight:8},{SoftLight:9},{Difference:10},{Exclusion:11},{Hue:12},{Saturation:13},{Color:14},{Luminosity:15},{Brightness:32},{Contrast:33},{Gamma:34},{Min:35},{Max:36},
{Sum:37},{Sub:38},{Division:39}],!1);w.WebColorSpaceTypeEnumJS=b.EnumGenerator.create([{Unsupported:0},{Gray:1},{sRGB:2},{CMYK:3},{CMY:4},{CIELab:5},{CIEXYZ:6},{CIEYxy:7},{CIELUV:8},{PCSLab:9},{PCSXYZ:10},{YCbCrK:11},{YCbCr:12},{HSV:13},{HLS:14}],!1);w.WebHistogramTypeEnumJS=b.EnumGenerator.create([{Luminosity:1},{Red:2},{Green:4},{Blue:8},{Rgb:14},{All:15}],!0);w.WebColorBaseJSTypeEnumJS=b.EnumGenerator.create([{Indexed:0},{Gray16:1},{RGB555:2},{RGB565:3},{RGB24:4},{ARGB32:5},{RGB48:6},{ARGB64:7}],
!1);w.WebFrequencyFilterTypeEnumJS=b.EnumGenerator.create([{Ideal:0},{Butterworth:1},{Gaussian:2}],!1);w.WebImageLayoutDirectionEnumJS=b.EnumGenerator.create([{Horizontal:1},{Vertical:2}],!1);w.WebImageViewerDisplayModeEnumJS=b.EnumGenerator.create([{SinglePage:1},{SingleContinuousColumn:2},{SingleContinuousRow:3},{TwoColumns:4},{TwoRows:5},{TwoContinuousColumns:6},{TwoContinuousRows:7},{ThreeColumns:8},{ThreeRows:9},{ThreeContinuousColumns:10},{ThreeContinuousRows:11},{Custom:12}],!1);w.WebImageViewerMultipageDisplayModeEnumJS=
b.EnumGenerator.create([{AllImages:1},{FixedImages:2}],!1);w.WebImageAnchorTypeEnumJS=b.EnumGenerator.create([{None:0},{Top:1},{Bottom:2},{Left:4},{Right:8},{Center:15},{TopLeft:5},{TopRight:9},{BottomLeft:6},{BottomRight:10}],!0);w.WebImageCompareOperatorEnumJS=b.EnumGenerator.create([{Difference:0},{AvgDifference:1},{MaxDifference:2},{MinDifference:3}],!1);w.WebOverlayBinaryOperationTypeEnumJS=b.EnumGenerator.create([{Replace:0},{OR:1},{AND:2},{XOR:4},{ORSourceNOT:65},{OROverlayNOT:129},{ORSourceNOTOverlayNOT:193},
{ANDSourceNOT:66},{ANDOverlayNOT:130},{ANDSourceNOTOverlayNOT:194},{XORSourceNOT:68},{XOROverlayNOT:132},{XORSourceNOTOverlayNOT:196},{SourceNOT:64},{OverlayNOT:128}],!0);w.WebMouseButtonsEnumJS=b.EnumGenerator.create([{None:0},{Left:1},{Right:2},{Middle:4},{Fourth:8},{Fifth:16}],!0);w.WebTextSelectionModeEnumJS=b.EnumGenerator.create([{Rectangle:0},{UseFullLines:1}],!1);w.WebTextSearchModeEnumJS=b.EnumGenerator.create([{CurrentPage:0},{AllPages:1}],!1);var pb=function(e){function d(b){var g=b._frame.contentDocument||
b._frame.contentWindow.document,d=g.body,f=d.style;f.margin=0;f.padding=0;f.width="100%";f.height="100%";for(f=0;f<b._258.length;f++){var e=g.createElement("img");e.id=b._258[f].get_Guid();var m=e.style;m.maxWidth="100%";m.maxHeight="100%";m.margin=0;m.padding=0;m.width="auto";m.height="auto";e.onload=function(){a(b)};d.appendChild(e);f<b._258.length-1&&(e=g.createElement("p"),e.style.pageBreakAfter="always",e.style.margin=0,e.className="pageBreak",d.appendChild(e))}}function a(b){b._ready++;b._ready===
b._258.length&&($(b).triggerHandler("beginPrint"),b._aborted||(b._frame.contentWindow.focus(),b._frame.contentWindow.print()),setTimeout(function(){$(b._frame).remove()},6E3),$(b).triggerHandler("endPrint"))}var f=pb.prototype;f.imagesPreparationFailed=function(b,a){};f.imagePrepared=function(b){};f.beginPrint=function(b){};f.endPrint=function(b){};f.print=function(){for(var b=0;b<this._258.length&&!this._aborted;b++){var a=this._7671(b);null!=a&&this._3936.push(a)}};f.abort=function(){this._3353()};
f._7671=function(b){var a=this;return this._258[b].getImageAsBase64String(function(b){a._1884(b.image.get_Guid(),b.fileId)},function(b){if("abort"!==b.statusText)if(null!=b.errorMessage)a._3353(b.errorMessage);else{var g;b.responseJSON&&(g=b.responseJSON.ExceptionMessage);a._3353(g)}})};f._3353=function(b){this._aborted=!0;for(var a=0;a<this._3936.length;a++){var g=this._3936[a].object;1!==g.readyState&&2!==g.readyState||g.abort()}this._3936=[];$(this._frame).remove();null!=b&&$(this).triggerHandler("imagesPreparationFailed",
b)};f._1884=function(b,a){$(this).triggerHandler("imagePrepared");if(!this._aborted){var g=$(this._frame).contents().find("#"+b)[0];null!=g&&(g.src=a)}};b.pv.ac(e,b.WebImageJS);var g=this;g._258=e;g._ready=0;g._frame=null;g._aborted=!1;g._3936=[];e=document.createElement("iframe");e.id=b.WebImagingEnviromentJS.guid();e.src="";g._frame=e;var m=e.style;m.position="absolute";m.width=1;m.height=1;m.margin=0;m.left="-1000px";m.top="-1000px";document.body.appendChild(e);setTimeout(function(){d(g)},0);delete f.imagesPreparationFailed;
delete f.imagePrepared;delete f.beginPrint;delete f.endPrint};b.WebServiceJS.defaultFileService=-1;VintasoftFileAPI=function(){};VintasoftFileAPI.uploadImageFile=function(e,d,a,f){f=aa(f);b.pv.c(e,File);var g=new FormData;g.append("file",e);e=new b.WebRequestJS("UploadImageFile",d,a,{type:"POST",contentType:!1,processData:!1,data:g});return f.sendRequest(e)};VintasoftFileAPI.uploadImageFiles=function(e,d,a,f){f=aa(f);b.pv.ac(e,File);for(var g=new FormData,m=0;m<e.length;m++)g.append("files",e[m]);
e=new b.WebRequestJS("UploadImageFiles",d,a,{type:"POST",contentType:!1,processData:!1,data:g});return f.sendRequest(e)};VintasoftFileAPI.uploadBase64Image=function(e,d,a,f,g){var m;b.pv.isf(d)?(m=d,g=f,d=null):(m=a,a=f);g=aa(g);b.pv.s(e);null!=d&&b.pv.s(d);""===d&&(d=null);e={imageAsBase64String:e};null!=d&&(e.fileName=d);d=new b.WebRequestJS("UploadBase64Image",m,a,{type:"POST",data:e});return g.sendRequest(d)};VintasoftFileAPI.uploadBase64Images=function(e,d,a,f,g){var m;b.pv.isf(d)?(m=d,g=f,d=
null):(m=a,a=f);g=aa(g);b.pv.ad(e,b.pv.s);null!=d&&b.pv.s(d);""===d&&(d=null);e={imagesAsBase64Strings:e};null!=d&&(e.fileName=d);d=new b.WebRequestJS("UploadBase64Images",m,a,{type:"POST",data:e});return g.sendRequest(d)};VintasoftFileAPI.downloadImageFile=function(e,d,a,f){f=aa(f);b.pv.s(e);var g=e.split("/").pop();null==g&&(g=e);var m=new XMLHttpRequest;m.onload=function(b){b=this.response;if(200==this.status){var f=this.getAllResponseHeaders(),e=g,f=f.match(/filename=(.+);/);null!=f&&2<=f.length&&
(e=f[1]);d&&d({blob:b,filename:e,xmlHttpRequest:this})}else 500==this.status&&(e=this.statusText,""===e?(e=new FileReader,$(e).on("loadend",function(b){a&&a({errorMessage:this.result})}),e.readAsText(b)):a&&a({errorMessage:e}))};m.onerror=a;e={fileId:e,sessionId:I.Shared.WebImagingEnviromentJS.get_SessionId()};var h=f.get_ServiceRoute();b.pv.ic(f,b.WebServiceControllerJS)?(m.open("POST",h+"/DownloadImageFile",!0),m.setRequestHeader("Content-type","application/json"),e=JSON.stringify(e)):(m.open("POST",
h,!0),m.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e="action=DownloadImageFile&requestParams="+JSON.stringify(e));m.responseType="arraybuffer";m.responseType="blob";return m.send(e)};VintasoftFileAPI.copyFile=function(e,d,a,f){f=aa(f);b.pv.s(e);e=new b.WebRequestJS("CopyFile",d,a,{type:"POST",data:{fileId:e}});return f.sendRequest(e)};var mb=function(e,d){var a=mb.prototype;a.get_BackgroundStyle=function(){return this._2524};a.get_BorderStyle=function(){return this._5828};
a.equals=function(a){return this===a?!0:b.pv.ic(a,mb)?a._5828===this._5828&&a._2524===this._2524:!1};a._633=function(){var b="background:"+this._2524+";",b=b+("border:"+this._5828+";"),b=b+("margin-left:-"+this._6245+"px;"),b=b+("margin-top:-"+this._6245+"px;");return b+="box-sizing: content-box;-webkit-box-sizing: content-box;"};b.pv.s(e,d);this._2524=e;this._5828=d;this._6245=function(b){b=b.split(" ");for(var a,d=0;d<b.length;d++)if(a=parseInt(b[d]),!isNaN(a))return 0<a?a:0;if(isNaN(a))return 0}(this._5828)},
ma=function(e,d,a){var f=ma.prototype;f.changed=function(b){};f.get_BackColor=function(){return this._5091};f.set_BackColor=function(a){b.pv.s(a);this._5091!==a&&(this._5091=a,this._9550())};f.get_BorderColor=function(){return this._578};f.set_BorderColor=function(a){b.pv.s(a);this._578!==a&&(this._578=a,this._9550())};f.get_BorderWidth=function(){return this._4556};f.set_BorderWidth=function(a){b.pv.n(a);0>a&&b.pv.toe();this._4556!==a&&(this._4556=a,this._9550())};f.equals=function(a){return b.pv.ic(a,
ma)?this._5091===a._5091&&this._578===a._578&&this._4556===a._4556&&this._5828===a._5828:!1};f.clone=function(){return new ma(this._5091,this._578,this._4556,this._5828)};f._9550=function(b){$(this._9052).triggerHandler("changed",b);$(this).triggerHandler("changed",b)};this._5091="rgba(255,255,255,0)";this._578="rgba(0,0,0,1)";this._4556=0;this._5828="solid";this._9052={};null!=e&&(b.pv.s(e,d),this._5091=e,this._578=d,b.pv.n(a),0>a&&b.pv.toe(),this._4556=a);delete f.changed},na=function(e,d){var a=
na.prototype;a.get_ActionSource=function(){return this._936};a.get_IsValid=function(){return!0};a.get_Source=function(){return this._10084};a.get_SourceItems=function(){return null};a.get_CurrentState=function(){return this._7184};a.set_CurrentState=function(b){this._7184=b};a.dispose=function(){null!=this._7184&&b.pv.isf(this._7184.dispose)&&this._7184.dispose()};a.toString=function(){return null==this._10084?"":null==this._936?this._10084.toString()+" (original)":this._10084.toString()+": "+this._936};
a.undo=function(){b.pv.tne()};a._7333=function(b){this._10084=b};a._1677=function(b,a){if(null!=this._5373)for(var d=Math.min(b.length,a.length),e=0;e<d;e++)this._9217(b[e],a[e])};a._9217=function(b,a){};a._9925=function(b){this._7184=b};this._936=d;this._10084=e;this._5373=this._7184=null;this._6354=b.WebImagingEnviromentJS.guid()},R=function(b){var d=R.superclass;d.constructor.call(this,null,b);b=R.prototype;b.toString=function(){return null==this._936?d.toString.call(this):this._936.toString()};
b.undo=function(){}};b.extend(R,na);var C=function(e){var d=C.superclass;d.constructor.call(this,e);var a=C.prototype;a.get_IsValid=function(){if(0==this._2434.length)return!0;for(var b=0;b<this._2434.length;b++)if(this._2434[b].get_IsValid())return!0;return!1};a.getActions=function(){this._7003();return this._2434};a.dispose=function(){d.dispose.call(this);for(var b=0;b<this._2434.length;b++)this._2434[b].dispose()};a.toString=function(){return null!=this._936?this._936.toString():d.toString.call(this)};
a.undo=function(){};a._8760=function(a){this._7003();if(null==a){if(0!==this._2434.length)return a=this._2434[this._2434.length-1],b.pv.ic(a,C)&&(a=a._8760()),a}else for(var d=this._2434.length-1;0<=d;d--)if(b.pv.ic(this._2434[d],C)){var e=this._2434[d]._8760(a);if(null!=e)return e}else if(this._2434[d]._10084==a)return this._2434[d]};a._3945=function(b,a){this._7003();if(0<this._2434.length){var d=this._2434[this._2434.length-1];if(d._10084==b._10084&&null!=a){var e=a.clone();d._9925(e)}}null!=b&&
null==b._7184&&null!=b._10084&&(e=b._10084.clone(),b._9925(e));this._2434.push(b)};a._9006=function(a){this._7003();for(var d=0;d<this._2434.length;d++)if(b.pv.ic(this._2434[d],C)){if(this._2434[d]._9006(a))return!0}else if(this._2434[d]==a)return!0;return!1};a._7960=function(){var a=[];this._7003();for(var d=0;d<this._2434.length;d++)b.pv.ic(this._2434[d],C)?a.addRange(this._2434[d]._7960()):a.push(this._2434[d]);return a};a._7003=function(){for(var b=this._2434.length-1;0<=b;b--)this._2434[b].get_IsValid()||
this._2434.splice(b,1)};this._2434=[];this._936=e;this._10084=null};b.extend(C,na);var X=function(){function e(a,d){for(var g=0;g<a._2434.length;g++){var m=a._2434[g];if(m===d||b.pv.ic(m,C)&&e(m,d))return!0}return!1}var d=X.prototype;d.changing=function(b,d){};d.changed=function(b,d){};d.navigated=function(b,d){};d.get_IsInitializing=function(){return 0!=this._8457};d.get_IsCompositeActionStarted=function(){return 0!==this._3343.length};d.get_IsEnabled=function(){return this._2111};d.set_IsEnabled=
function(a){b.pv.b(a);(this._2111=a)&&this._7003()};d.get_UndoLevel=function(){return this._6288-1};d.set_UndoLevel=function(a){b.pv.n(a);1>a&&b.pv.te("Undo level cannot be less than 1.");a+=1;if(this._6288>a){var d=Math.min(this._6288,this._2434.length)-a;if(0<d){var g=this._7466,e=[],h=[];if(0<this._2434.length-this._7466){for(var r=Math.min(this._2434.length-this._7466-1,d),l=this._2434.length-r,t=0;t<r;t++)h.push(l+t),e.push(this._2434[l+t]);d-=r}if(0<d){for(t=0;t<d;t++)h.push(t),e.push(this._2434[t]);
g-=d}d={type:"removeActions",actions:e.slice()};this._6364(d);for(t=h.length-1;0<=t;t--)l=h[t],this._2434[l].dispose(),this._2434.splice(l,1);this._7466=g;g={type:"removeActions",actions:e.slice()};this._1088(g)}}this._6288=a};d.get_UndoCount=function(){var b=this.get_CurrentActionIndex();return 1>b?0:b};d.get_UndoDescription=function(){var b=this.get_CurrentActionIndex();return 0==this.get_UndoCount()||-1==b?"":this._2434[b].toString()};d.get_RedoCount=function(){this._7003();return this._2434.length-
this._7466-1};d.get_RedoDescription=function(){var b=this.get_CurrentActionIndex();return 0==this.get_RedoCount()||-1==b?"":this._2434[b+1].toString()};d.get_CurrentActionIndex=function(){this._7003();return this._7466};d.set_CurrentActionIndex=function(a){this._2111&&!this.get_IsInitializing()&&(this._7003(),0>a&&b.pv.te("Index of current undo action cannot be less than 0."),a>this._2434.length&&b.pv.te("Index of current undo action cannot be greater than "+this._2434.length+"."),this.set_CurrentAction(this._2434[a]))};
d.get_CurrentAction=function(){var b=this.get_CurrentActionIndex();return-1==b?null:this._2434[b]};d.set_CurrentAction=function(b){if(this._2111&&!this.get_IsInitializing()&&b.get_IsValid()){this._7003();var d=this._7466;this._2475(b);this._7466=this._2434.indexOf(b);this._26(this._7466-d)}};d._1386=function(){return this._6354};d._5779=function(){this._7003();return 0==this.get_UndoCount()||-1==this._7466?null:this._2434[this._7466-1]};d._5806=function(){return this._2434.length};d.beginInit=function(){this._8457++};
d.endInit=function(){0==this._8457&&b.pv.te("Invalid operation exception.");this._8457--};d.containsActionForSourceObject=function(a){for(var d=Math.min(this._7466+1,this._2434.length),g=0;g<d;g++){var e=this._2434[g];if(b.pv.ic(e,C)){if(null!=e._8760(a))return!0}else if(this._2434[g]._10084==a)return!0}if(0<this._3343.length)for(g=0;g<this._3343.length;g++)if(null!=this._3343[g]._8760(a))return!0;return!1};d.beginCompositeAction=function(b){b=new C(b);b._7333();this._3343.push(b)};d.endCompositeAction=
function(){0==this._3343.length&&b.pv.te("Composite action stack length cannot be 0.");var a=this._3343.pop();0<a._2434.length&&(0===this._3343.length&&0===this._2434.length&&this.addAction(new R(a.toString()+" (original)")),this.addAction(a,null))};d.removeCompositeAction=function(){0!=this._3343.length&&this._3343.pop()};d.addAction=function(a,d){if(!this._2111||this.get_IsInitializing())null!=a&&a.dispose();else if(null==a&&b.pv.te("UndoAction parameter cannot be null."),a.get_IsValid())if(0<this._3343.length)this._3343[this._3343.length-
1]._3945(a,d);else{this._6364({type:"addActions",actions:[a]});this.beginInit();this.removeRedoActions();if(-1!=this._7466){var g=this._2434[this._7466];if(g._10084==a._10084&&null!=d){var e=d.clone();g._9925(e)}}null!=a&&null==a._7184&&null!=a._10084&&(e=a._10084.clone(),a._9925(e));this._2434.push(a);this._2434.length>this._6288&&this.removeFirstAction();this._7466=this._2434.length-1;this.endInit();this._7003();this._1088({type:"addActions",actions:[a]});this._26(1)}else a.dispose()};d.removeRedoActions=
function(){if(this._2111&&this._7466<this._2434.length-1){for(var b=[],d=[],g=this._2434.length,e=this._7466+1;e<g;e++)d.push(e),b.push(this._2434[e]);if(0<b.length){e={type:"removeActions",actions:b.slice()};this._6364(e);for(e=d.length-1;0<=e;e--)g=d[e],this._2434[g].dispose(),this._2434.splice(g,1);b={type:"removeActions",actions:b.slice()};this._1088(b)}}};d.removeFirstAction=function(){if(this._2111&&0!=this._2434.length){var b=this._2434[0];this._6364({type:"removeActions",actions:[b]});this._2434.splice(0,
1);b.dispose();this._1088({type:"removeActions",actions:[b]})}};d.undo=function(b){this._3204(-Math.abs(b))};d.redo=function(b){this._3204(Math.abs(b))};d.getActions=function(){this._7003();return this._2434};d.clear=function(){this._2111&&this._6433(!0)};d.dispose=function(){this._6433(!1);this._5763=null};d._3307=function(b,d,g,e){var h=this._5341();if(0!==h.length){for(var r=0;r<h.length;r++)this._6711(h[r],b,g);if(null!=d&&null!=e)for(b=Math.min(d.length,e.length),r=0;r<b;r++)for(g=0;g<h.length;g++)this._6711(h[g],
d[r],e[r])}};d._10377=function(b){this._5763=b};d._572=function(b){for(var d=!0,e=0;e<b.length;e++)d&=this._5455(b[e]);return d};d._5455=function(b){if(null==b)return!1;var d=this._2434.indexOf(b);if(-1==d)return!1;-1!=this._7466&&d<=this._7466&&this._7466--;return this._2434.splice(d,1)?(b.dispose(),!0):!1};d._9794=function(b,d){var e=b._5373;return null==e||-1===e.indexOf(d)?!1:!0};d._9208=function(a,d){for(var g=-1,m=0;m<this._2434.length;m++){var h=this._2434[m];if(h===a){g=m;break}else if(b.pv.ic(h,
C)&&e(h,a)){g=m;break}}return-1==g?!0:0==g?d:this.get_CurrentActionIndex()>=g?!1:!0};d._7003=function(){if(!this.get_IsInitializing()&&this._2111){for(var b=[],d=this._7466,e=this._2434.length-1;0<=e;e--){var m=this._2434[e];m.get_IsValid()||(b.push(m),d>=e&&d--)}0<b.length&&(b.slice(),this.beginInit(),this._572(b),this._7466=d,this.endInit(),b={type:"removeActions",actions:b.slice()},this._1088(b))}};d._2475=function(a){this.beginInit();try{b.pv.ic(a,C)&&(a=a._8760());var d=this.get_CurrentAction();
if(b.pv.ic(d,C)){var e=d,d=e._8760();null==d&&(d=e)}var m=this._5341();a.get_IsValid()||b.pv.te("Invalid action.");-1==m.indexOf(a)&&b.pv.te("Action is not found.");this._5616(d,a);var h=a._10084,r=a._5373;a.undo();var l=a._10084,t=a._5373;null==this._5763?this._3307(h,r,l,t):this._5763._3307(h,r,l,t);this._7466=this._2434.indexOf(a)}finally{this.endInit()}};d._5616=function(b,d){if(!this._7211){this._7211=!0;var e=this._5341(),m=e.indexOf(b),h=e.indexOf(d),r=Math.max(m,h),l=Math.min(m,h);if(1<r-
l){for(var t=[],k=!1;r>=l;r--){var k=!1,s=e[r];if(s._10084!=d._10084){for(var q=0;q<t.length;q++){var n=t[q];if(n._10084==s._10084){k=!0;break}}k||t.push(s)}}if(0<t.length)if(m>h){n=t;t=[];for(r=0;r<n.length;r++){k=n[r]._10084;for(q=l-1;0<=q;q--)if(k==e[q]._10084){t.push(e[q]);break}for(q=l;q<e.length;q++)if(k==e[q]._10084){t.push(e[q]);break}}if(0==t.length)for(r=0;r<n.length;r++)for(q=0;q<e.length;q++)if(n[r]._10084==e[q]._10084){t.push(e[q]);break}for(r=t.length-1;0<=r;r--)if(null!=t[r]._5373)for(this._2475(t[r]),
q=0;q<t[r]._5373.length;q++)l=t[r]._5373[q],l=this._8771(e,m,l),null!=l&&this._2475(l);for(r=t.length-1;0<=r;r--)null==t[r]._5373&&this._2475(t[r])}else{for(r=0;r<t.length;r++)null!=t[r]._5373&&this._2475(t[r]);for(r=0;r<t.length;r++)null==t[r]._5373&&this._2475(t[r])}}if(1==m-h&&b._10084!=d._10084&&(n=this._8771(e,m,b._10084),null!=n&&(this._2475(n),null!=n._5373)))for(r=0;r<n._5373.length;r++)l=n._5373[r],l=this._8771(e,m,l),null!=l&&this._2475(l);this._7211=!1}};d._3204=function(b){this._2111&&
!this.get_IsInitializing()&&0!=b&&(this._7003(),b=Math.min(Math.max(this.get_CurrentActionIndex()+b,0),this._2434.length-1),this.set_CurrentAction(this._2434[b]))};d._6711=function(a,d,e){var m=!1;if(b.pv.ic(a,C))for(var h=0;h<a._2434.length;h++)m|=this._6711(a._2434[h],d,e);a._10084===d&&(a._7333(e),m=!0);this._9794(a,d)&&(a._9217(d,e),m=!0);return m};d._6433=function(b){var d;b&&(d={type:"clearActions",actions:this._2434.slice()},this._6364(d),d={type:"clearActions",actions:this._2434.slice()});
for(var e=0;e<this._2434.length;e++)this._2434[e].dispose();this._2434=[];this._7466=-1;b&&this._1088(d)};d._8771=function(a,d,e){for(--d;0<=d;d--){var m=a[d];if(b.pv.ic(m,C)){if(m=m._8760(e),null!=m)return m}else if(m._10084==e)return m}};d._5341=function(){for(var a=[],d=0;d<this._2434.length;d++)a[d]=this._2434[d];for(d=0;d<a.length;d++)if(b.pv.ic(a[d],C)){var e=a[d];a.splice(d,1);for(var e=e._7960(),m=d,h=0;h<e.length;h++)a.splice(m,0,e[h]),m++;d+=e.length-1}return a};d._6364=function(b){$(this).triggerHandler("changing",
b)};d._1088=function(b){$(this).triggerHandler("changed",b)};d._26=function(b){$(this).triggerHandler("navigated",b)};this._6354=b.WebImagingEnviromentJS.guid();this._2111=!0;this._6288=6;this._7466=-1;this._2434=[];this._8457=0;this._7211=!1;this._3343=[];this._5763=null;delete d.changing;delete d.changed;delete d.navigated},vb=function(b,d,a){this._1142=b;this._6991=d;this._3835=a},qb=function(){var e=qb.prototype;e._3510=function(b,a){};e._6947=function(d){this._2133(d);b.pv.ic(d,C)&&null!=this._9392[d._6354]&&
this._5315(d,!0);this._7941()};e._5455=function(d){if(-1!==this._2803.indexOf(d))b.pv.ic(d,C)&&delete this._9392[d._6354],this._7990(d),null!=this._7139[d._6354]&&(this._7139[d._6354]._1142._5455(d),delete this._7139[d._6354]),b.pv.ic(d,C)&&this._5315(d,!1),this._7941();else{var a=this._6069[d._6354];null!=a&&(delete this._6069[d._6354],a._2434.splice(a._2434.indexOf(d),1),delete this._7139[d._6354],0==a._2434.length&&this._5455(a))}};e._4249=function(b){for(var a=[],e=0;e<this._2803.length;e++)for(var g=
this._2803[e],m=0;m<b.length;m++)if(this._8371(g,b[m])){a.push(g);break}return this._1960(a)};e._8371=function(d,a){if(b.pv.ic(d,C)&&null!=this._9392[d._6354])for(var e=0;e<d._2434.length;e++){if(this._8371(d._2434[e],a))return!0}else if(e=this._7139[d._6354],null!=e&&e._1142===a)return!0;return!1};e._10112=function(b,a){var e=new vb(a,a._5779(),a.get_CurrentAction());this._7139[b._6354]=e};e._2588=function(b){this._9392[b._6354]=!1};e._2133=function(b){this._2803.push(b)};e._7990=function(b){this._2803.splice(this._2803.indexOf(b),
1)};e._1533=function(b){var a=[];this._3878(a,b);return a};e._3878=function(d,a){var e=b.pv.ic(a,C);if(!e||e&&null==this._9392[a._6354])d.push(this._7139[a._6354]);else for(e=0;e<a._2434.length;e++)this._3878(d,a._2434[e])};e._6469=function(d,a){for(var e=0;e<a.length;e++){var g=a[e];if(b.pv.ic(g,C)){if(this._6469(d,g._2434))return!0}else if(this._7139[g._6354]._1142===d)return!0}return!1};e._1650=function(d){if(0==d.length)return null;for(var a=d.length-1;0<=a;a--){var e=d[a];if(null!=this._9392[e._6354]){if(!this._9208(e,
!0))return e}else{var g=this._7139[e._6354];if(null!=g){if(!g._1142._9208(e,!0))return e}else if(b.pv.ic(e,C)&&!this._9208(e,!0))return e}}return d[0]};e._8402=function(){this._2803=[];this._6069={};this._7139={}};e._9208=function(d,a){if(b.pv.ic(d,C)&&null!=this._9392[d._6354]){for(var e=0;e<d._2434.length;e++){var g=d._2434[e];if(b.pv.ic(g,C)){if(!this._9208(g,a))return!1}else{var m=this._7139[g._6354];if(null!=m&&!m._1142._9208(g,a))return!1}}return!0}return this._7139[d._6354]._1142._9208(d,a)?
!0:!1};e._6810=function(b){if(-1!==this._2803.indexOf(b))return b;b=this._6069[b._6354];if(null!=b)return this._6810(b)};e._5315=function(d,a){for(var e=0;e<d._2434.length;e++){var g=d._2434[e];a?this._6069[g._6354]=d:(delete this._6069[g._6354],delete this._7139[g._6354]);b.pv.ic(g,C)&&this._5315(g,a)}};e._1960=function(d){for(var a=d.slice(),e=[],g={},m=0;m<d.length;m++){var h=this._7526(d[m]);this._5717(e,h);if(b.pv.ic(d[m],C))for(h=-1;h!=e.length;)for(var h=e.length,r=0;r<this._2803.length;r++)if(-1===
a.indexOf(this._2803[r])){var l=g[this._2803[r]._6354];null==l&&(l=this._7526(this._2803[r]),g[this._2803[r]._6354]=l);this._4812(e,l)&&a.push(this._2803[r])}}if(a.length==d.length)return d;d=[];for(m=0;m<a.length;m++)e=this._2803.indexOf(a[m]),d[e]=a[m];return d};e._7526=function(d){if(b.pv.ic(d,C)){for(var a=[],e=0;e<d._2434.length;e++){var g=this._7526(d._2434[e]);this._5717(a,g)}return a}a=[];null!=d._10084&&a.push(d._10084);return a};e._5717=function(b,a){for(var e=0;e<a.length;e++){var g=a[e];
-1===b.indexOf(g)&&b.push(g)}};e._4812=function(b,a){for(var e=0;e<a.length;e++)if(-1!==b.indexOf(a[e]))return this._5717(b,a),!0;return!1};e._7941=function(){$(this).triggerHandler("_3510")};this._2803=[];this._7139={};this._6069={};this._9392={};delete e._3510},rb=function(e){function d(a,d){var e=a._6354;$(d).on("changing."+e,function(b,e){if(a._2111){if(!a._4646&&a._4450()&&"addActions"===e.type&&0==d._5806()){a._4646=!0;if(0!=a._799().length){var f=new R(e.actions[0].toString()+" (original)");
d.addAction(f)}else a._4742=!0,f=new R(a._944),d.addAction(f),a._4742=!1;a._4646=!1}!a._4450()&&a._2732(d)&&null==a._2123&&a._6364(e)}});$(d).on("changed."+e,function(e,f){if(a._2111){var h=f.actions;if("addActions"!=f.type||1!=h.length||!b.pv.ic(h[0],R)||a._4742){switch(f.type){case "addActions":for(var k=0;k<h.length;k++)a._6947(h[k],d);break;case "removeActions":case "clearActions":for(k=0;k<h.length;k++)a._5455(h[k])}if(a._2732(d)){if("addActions"===f.type)for(var s=a._799(),k=h.length-1;0<=k;k--)-1===
s.indexOf(h[k])&&h.splice(k,1);0<h.length&&(null==a._2123?a._1088(f):a._2123=a._2123.concat(h))}}}})}var a=rb.prototype;a.changing=function(b,a){};a.changed=function(b,a){};a.navigated=function(b,a){};a._7520=function(){return this._1935};a._2737=function(b){if(this._1935!=b){this._1935=b;this._2434=null;b=this._799();var a=this._5512._1650(b);this._7466=b.indexOf(a);if(this._6288<b.length)for(this._5916(!1),b=this._799().length-this._6288;0<b;)this._3922(!1),b--}};a._799=function(){this._7003();
null==this._2434&&(this._2434=this._8652());return this._2434};a._7459=function(){var b=this._3934();return-1==b?null:this._799()[b]};a._9099=function(b){b=this._799().indexOf(b);this._4129(b)};a._3934=function(){this._7003();return this._7466};a._4129=function(a){(0>a||a>this._799().length)&&b.pv.toe();this._1012(a-this._3934())};a._5613=function(){var b=this._3934();return 1>b?0:b};a._2784=function(){var b=this._3934(),a=this._799();return 0==this._5613()||-1==b||b>=a.length?"":a[b].toString()};
a._1154=function(){return this._799().length-this._3934()-1};a._3418=function(){var b=this._3934(),a=this._799();return 0==this._1154()||-1==b||b>=a.length?"":a[b+1].toString()};a._3918=function(){return this._2111};a._5357=function(b){this._2111=b};a._4450=function(){return this._4742?!1:0!=this._5535.length};a._55=function(){return this._6288};a._7784=function(b){var a=b+1;this._6288>a&&this._8055(a,!0);this._6288=b+1};a._8055=function(b,a){var d=this._3268.slice(),e=this._8652(!1,d),f=this._8652(!0,
d),t=e.indexOf(this._7459()),k=f.length-b;if(0<k){for(var d=[],s=e.length-1;0<k&&s>t;){var q=e[s--];d.push(q);-1!==f.indexOf(q)&&k--}if(0<k){for(s=0;0<k&&s<=t;)q=e[s++],d.push(q),-1!==f.indexOf(q)&&k--;if(-1===f.indexOf(e[s]))for(;-1===!f.indexOf(e[s])&&s<=t;)d.push(e[s++])}a&&this._6364({type:"removeActions",actions:d});for(e=0;e<d.length;e++)this._5455(d[e]);a&&this._1088({type:"removeActions",actions:d})}};a._6342=function(b){d(this,b);this._3268.push(b)};a._718=function(b){var a=this._6354;$(b).off("."+
a);this._912(b);this._3268.splice(this._3268.indexOf(b),1)};a._8243=function(b){this._2111&&this._1012(-Math.abs(b))};a._3230=function(b){this._2111&&this._1012(Math.abs(b))};a._3922=function(b){for(var a=this._8652(!1,this._1935),d=this._8652(!0,this._1935),e=a.indexOf(this._7459()),f=[],t=0;t<a.length;){var k=a[t++];f.push(k);if(-1!==d.indexOf(k))break}if(-1===d.indexOf(a[t]))for(;-1===d.indexOf(a[t])&&t<=e;)f.push(a[t++]);b&&(a={type:"removeActions",actions:f.slice()},this._6364(a));for(a=0;a<
f.length;a++)this._5455(f[a]);b&&(b={type:"removeActions",actions:f.slice()},this._1088(b))};a._5916=function(b){var a=this._7459();if(!this._2111||null==a)return[];var d=this._3934(),e=this._799();if(d==e.length-1)return[];for(var a=[],f=e.length-1;f>d;f--)a.push(e[f]);b&&(d={type:"removeActions",actions:a.slice()},this._6364(d));for(f=0;f<a.length;f++)this._5512._5455(a[f]);this._799();this._4721();for(f=0;f<this._1935.length;f++)this._1935[f].removeRedoActions();this._9454();b&&(d={type:"removeActions",
actions:a.slice()},this._1088(d));return a};a._2738=function(a,d,e){1===arguments.length&&(e=a,a=this._799(),d=Math.min(this._3934()+1,a.length));for(var f=0;f<d;f++){var l=a[f];if(b.pv.ic(l,C)){if(null!=l._8760(e))return!0}else if(a[f]._10084==e)return!0}return!1};a._2171=function(){for(var b={},a=this._799(),d=Math.min(this._3934()+1,a.length),e=0;e<d;e++)for(var f=a[e],k=0;k<this._1935.length;k++){var A=this._1935[k];if(this._5512._8371(f,A)){k=b[A._6354];null==k&&(k=[],b[A._6354]=k);k.push(f);
break}}return b};a._4721=function(){null==this._2123&&(this._2123=[])};a._9454=function(){if(null==this._2123)return[];var b=this._2123.slice();this._2123=null;return b};a._8536=function(b){b=new C(b);b._7333();0==this._5535.length&&(this._944=b.toString()+" (original)");this._5535.push(b)};a._4750=function(a){0==this._5535.length&&b.pv.te("The undo manager does not have composite action.");var d=this._5535[0];this._5535.splice(0,1);0<d.getActions().length&&(0==this._5535.length&&this._6364({type:"addActions",
actions:[d]}),this._5512._2588(d),this._6947(d,a),0==this._5535.length&&this._1088({type:"addActions",actions:[d]}))};a._9554=function(){if(0!==this._5535.length){var b=this._5535[0];this._5535.splice(0,1);this._5455(b)}};a._7003=function(){if(null!=this._1935&&0<this._1935.length)for(var b=0;b<this._1935.length;b++)this._1935[b]._7003()};a._6947=function(b,a){if(this._2111)if(b.get_IsValid())if(this._4450())this._5512._10112(b,a),this._5535[this._5535.length-1].getActions().push(b);else{if(this._5916(!0),
this._5512._10112(b,a),this._5512._6947(b),this._529(),this._799().length>this._6288&&this._3922(!0),this._2732(a)){var d=this._799().indexOf(b);-1!==d&&(this._7466=d)}}else b.dispose()};a._529=function(){for(var b=0;b<this._3268.length;b++){var a=this._3268[b];this._2732(a)||0===a.get_CurrentActionIndex()&&a.clear()}};a._2732=function(b){return null==this._1935||null==b?!1:-1!==this._1935.indexOf(b)};a._5455=function(b){var a=this._799(),d=a.indexOf(b);-1===d&&(b=this._5512._6810(b));if(null!=b){var e=
a.length,f=this._7459();this._5512._5455(b);a=this._799();e!=a.length?-1!=d&&d<=this._7466&&(this._7466-=e-a.length):null!=f&&(-1!==!a.indexOf(f)&&(f=this._5512._6810(f)),this._7466=a.indexOf(f))}};a._912=function(b){if(this._2111){b=this._5512._4249([b]);for(var a=0;a<b.length;a++)this._5455(b[a])}};a._1012=function(b){for(var a=0;a<this._1935.length;a++)if(this._1935[a].get_IsInitializing())return;var d=this._799();if(0!=b&&0!=d.length){for(var e=Math.abs(b),a=this._3934();0<e&&!(0>a||a>=d.length);){if(0>
b){var f=d[a];this._2475(f);a--}else f=a+1,f>=d.length&&(f=d.length-1),f=d[f],this._9302(f),a++;e--}b=a-this._7466;this._7466=a;this._26(b)}};a._2475=function(b){b=this._5512._1533(b);for(var a=b.length-1;0<=a;a--){var d=b[a];null!=d._6991&&d._1142.set_CurrentAction(d._6991)}};a._9302=function(b){b=this._5512._1533(b);for(var a=0;a<b.length;a++){var d=b[a];null!=d._6991&&d._1142.set_CurrentAction(d._3835)}};a._8402=function(){this._5512._8402();this._1935=this._2434=null;this._7466=-1};a._8652=function(a,
d){null==a&&(a=!0,d=this._1935);this._7003();var e=[];if(null!=d&&0<d.length){for(var f=!1,l=this._5512._4249(d),k=l.length-1;0<=k;k--){var A=l[k];if(null!=A){if(this._5512._9208(A,!f)){if(f)continue}else f=!0;e.push(A)}}if(a)for(k=e.length-2;0<=k;k--)b.pv.ic(e[k],C)||null!=e[k]._936||e.splice(k,1);e.reverse()}1==e.length&&(f=e[0],b.pv.ic(f,C)&&0<f.getActions().length&&e.splice(0,0,new R(e[0].toString()+" (original)")));return e};a._6364=function(b){$(this).triggerHandler("changing",b)};a._1088=function(b){$(this).triggerHandler("changed",
b)};a._26=function(b){$(this).triggerHandler("navigated",b)};this._6354=b.WebImagingEnviromentJS.guid();this._5512=new qb(e);this._2123=null;this._5535=[];this._4742=!1;this._944="";this._4646=!1;this._3268=[];this._2434=this._1935=null;this._7466=-1;this._2111=!0;this._6288=e;var f=this;$(this._5512).on("_3510",function(b,a){f._2434=null})},oa=function(){function e(a){null==a._1294&&b.pv.te("Current manager is not specified.")}var d=oa.superclass;d.constructor.call(this);var a=oa.prototype;a.currentManagerChanging=
function(b,a){};a.currentManagerChanged=function(b,a){};a.activeManagersChanging=function(b){};a.activeManagersChanged=function(b){};a.get_ActiveManagers=function(){return this._9280._1935};a.set_ActiveManagers=function(a){b.pv.ac(a,X);if(a!=this._9280._1935){this._3051();if(null!=a)for(var d=0;d<a.length;d++)-1===this._1894.indexOf(a[d])&&b.pv.te("Only the undo managers from this composite undo manager can be used as the active undo managers.");this._9280._2737(a);this._9739=this._5260();a={type:"addActions",
actions:this._9280._799()};this._1088(a);this._8379()}};a.get_CurrentManager=function(){return this._1294};a.set_CurrentManager=function(a){b.pv.ic(a,X);this.get_IsInitializing()&&b.pv.te("The current undo manager can not be changed because initialization of that manager is not finished.");if(a!=this._1294&&(a={oldValue:this._1294,newValue:a,cancel:!1},this._9397(a),!a.cancel&&a.newValue!==this._1294)){a=a.newValue;null!=a&&-1===this._1894.indexOf(a)&&b.pv.te("Only the undo manager from this composite undo manager can be used as the current undo manager.");
var d={oldValue:this._1294,newValue:a};null!=this._1294&&this._10023(this._1294);this._1294=a;this._9739=this._5260();null!=this._1294&&this._10119(this._1294);this._2724(d)}};a.get_IsInitializing=function(){return null==this._1294?!1:this._1294.get_IsInitializing()};a.get_IsCompositeActionStarted=function(){return 0!==this._9280._4450()};a.set_IsEnabled=function(b){d.set_IsEnabled.call(this,b);this._9280._5357(b);for(var a=0;a<this._1894.length;a++)this._1894[a].set_IsEnabled(b)};a.set_UndoLevel=
function(b){d.set_UndoLevel.call(this,b);this._9280._7784(b)};a.get_UndoCount=function(){return this._9280._5613()};a.get_UndoDescription=function(){return this._9280._2784()};a.get_RedoCount=function(){return this._9280._1154()};a.get_RedoDescription=function(){return this._9280._3418()};a.get_CurrentActionIndex=function(){return this._9280._3934()};a.set_CurrentActionIndex=function(b){this._9280._4129(b)};a.get_CurrentAction=function(){return this._9280._7459()};a.set_CurrentAction=function(b){this._2111&&
!this.get_IsInitializing()&&b.get_IsValid()&&this._9280._9099(b)};a._5779=function(){this._7003();var b=this.get_CurrentActionIndex();return 0==this.get_UndoCount()||-1==b?null:this._9280.getActions()[b-1]};a._5806=function(){return this._9280._799().length};a.addManager=function(){var b=new X;b.set_IsEnabled(this._2111);b.set_UndoLevel(Number.MAX_VALUE);b._10377(this);this._1894.push(b);this._9280._6342(b);return b};a.removeManager=function(b){var a=this._1894.indexOf(b);-1!==a&&(this._1294===b&&
this.set_CurrentManager(),this._9280._718(b),this._1894.splice(a,1),b._10377(),b.dispose())};a.beginInit=function(){this._8457++;for(var b=0;b<this._1894.length;b++)this._1894[b].beginInit()};a.endInit=function(){0===this._8457&&b.pv.te("Invalid operation exception.");this._8457--;for(var a=0;a<this._1894.length;a++)this._1894[a].endInit()};a.containsActionForSourceObject=function(b){e(this);if(this._9739&&0!==this.get_RedoCount()){var a=this._9280._2171()[this._1294._6354];return null!=a?this._9280._2738(a,
a.length,b):!1}return this._1294.containsActionForSourceObject(b)};a.beginCompositeAction=function(b){this._9280._8536(b)};a.endCompositeAction=function(){this._9280._4750(this._1294)};a.removeCompositeAction=function(){this._9280._9554()};a.addAction=function(b,a){e(this);this._9280._5916(!0);this._1294.addAction(b,a)};a.undo=function(b){this._7003();this._9280._8243(b)};a.redo=function(b){this._7003();this._9280._3230(b)};a.getActions=function(){this._7003();return this._9280._799()};a.clear=function(){this._7003();
for(var b=[],a=0;a<this._1894.length;a++)b=b.concat(this._1894[a].getActions());if(0!=b.length){b={type:"clearActions",actions:b.slice()};this._6364(b);this._9280._4721();for(a=0;a<this._1894.length;a++)this._1894[a].clear();b={type:"clearActions",actions:this._9280._9454().slice()};this._1088(b)}};a.removeFirstAction=function(){this._9280._3922()};a.removeRedoActions=function(){this._9280._5916(!0)};a.dispose=function(){this._1294=null;$(this._9280).off("."+this._6354);for(var b=0;b<this._1894.length;b++){var a=
this._1894[b];this._9280._718(a);a.dispose()}this._1894=[];this._9280._8402()};a._10377=function(a){b.pv.tne()};a._3307=function(b,a,d,e){for(var f=0;f<this._1894.length;f++)this._1894[f]._3307(b,a,d,e)};a._9397=function(b){$(this).triggerHandler("currentManagerChanging",b)};a._2724=function(b){$(this).triggerHandler("currentManagerChanged",b)};a._3051=function(){$(this).triggerHandler("activeManagersChanging")};a._8379=function(){$(this).triggerHandler("activeManagersChanged")};a._7003=function(){if(!this.get_IsInitializing()&&
this._2111){this._3044();for(var b=0;b<this._1894.length;b++)this._1894[b]._7003();this._2360()}};a._3044=function(){this._4994++};a._2360=function(){this._4994--};a._5260=function(){return null==this._1294||null==this._9280._1935?!1:-1==this._9280._1935.indexOf(this._1294)?!1:!0};a._10119=function(b){var a=this,d=a._1386();$(b).on("changing."+d,function(b,d){0!=a._4994||a._9739||a._6364(d)});$(b).on("changed."+d,function(b,d){0!=a._4994||a._9739||a._1088(d)})};a._10023=function(b){var a=this._1386();
$(b).off("."+a)};this._1894=[];this._9739=!1;this._8457=this._4994=0;this._1294=null;var f=new rb(this._6288);this._9280=f;var g=this,k=this._6354;$(f).on("navigated."+k,function(b,a){g._26(a)});$(f).on("changing."+k,function(b,a){g._6364(a)});$(f).on("changed."+k,function(b,a){g._1088(a)});delete a.currentManagerChanging;delete a.currentManagerChanged;delete a.activeManagersChanging;delete a.activeManagersChanged};b.extend(oa,X);var sb=function(e){var d=sb.prototype;d.disposed=function(b){};d.get_IsEnabled=
function(){return this._2111};d.set_IsEnabled=function(a){b.pv.b(a);this._2111=a};d.get_UndoManager=function(){return this._5511};d.dispose=function(){$(this).triggerHandler("disposed")};b.pv.c(e,X);this._5511=e;this._2111=!0;delete d.disposed};w.WebPrintManagerJS=pb;w.VintasoftFileAPI=VintasoftFileAPI;w.WebThumbnailAppearanceJS=mb;w.WebImageAppearanceJS=ma;w.WebUndoActionJS=na;w.WebCompositeUndoActionJS=C;w.WebUndoManagerJS=X;w.WebCompositeUndoManagerJS=oa;w.WebUndoMonitorJS=sb;b.WebServiceJS.rcr("GetTextRegionOfImage",
"GetTextRegionOfImages");b.WebServiceJS.rcr("GetActionsOfImage","GetActionsOfImages");var pa=function(e,d){var a=pa.prototype;a.get_SelectionRegion=function(){return k._2813._20(this._7901)};a.get_Symbol=function(){return this._7244};a._6794=function(){var b=this.get_SelectionRegion();return k._2813._1694(b)};b.pv.ad(e,b.pv.p);b.pv.s(d);this._7901=e;this._7244=d;this._679=null;Object.freeze&&Object.freeze(this._7901)},U=function(e,d,a,f,g){function m(b){for(var a=[],d=0;d<b.length;d++)a.push(b[d]._7901);
return k._2813._4164(a)}var h=U.prototype;h.get_TextContent=function(){if(null!=this._9160)return this._9160;if(null!=this._9020){for(var b="",a=0;a<this._9020.length;a++){var d=this._9020[a].get_TextContent();null!=d&&(""!==b&&(b+="\n"),b+=d)}return b}if(null!=this._1004){b="";for(a=0;a<this._1004.length;a++)b+=this._1004[a]._7244;return b}};h.get_SelectionRegions=function(){if(null!=this._2126){for(var b=[],a=0;a<this._2126.length;a++)b.push(k._2813._20(this._2126[a]));return b}};h.get_Subregions=
function(){return this._9020};h.get_Symbols=function(){return this._1004.slice()};h.containsPoint=function(a){b.pv.p(a);for(var d=0;d<this._2126.length;d++)if(k._2813._5584(a,this._2126[d]))return!0;return!1};h.getWordSubregion=function(b){var a=this.getLineSubregion(b);return null==a?null:null==a._9020&&null!=a._1004?a:a._926(b)};h.getLineSubregion=function(b){return this._926(b)};h.getSubregion=function(a,d){var e=b.pv.e(d,s.WebTextSelectionModeEnumJS);b.pv.r(a);var f=$.extend(!0,{},a),g=!1;0>f.width&&
(f.width=-f.width,f.x-=f.width,g=!g);var h=this._7075();0>f.height&&(h=!h,f.height=-f.height,f.y-=f.height);for(var n=-1,x=-1,v=this._994(),z=0;z<v.length;z++)for(var y=v[z],E=y.get_SelectionRegions(),B=0;B<E.length;B++)if(k._2813._4298(f,E[B])){0>n&&(n=z);x=z;break}if(!(0>n)){for(var E=[],D=[],z=x,B=n;B<=z;B++){y=v[B];n=[];if(null!=y._9020)for(x=0;x<y._9020.length;x++)n.push(y._9020[x]._3150());else null!=y._1004&&n.push(y._3150());E.push(n);D.push(y._9160)}if(0!=E.length){if(1===e.valueOf()){e=
h;z=E[0];v=D[0];h=B={x:f.x,y:f.y,width:f.width,height:f.height};e?(g||(h.x+=h.width),h.width=Number.MAX_VALUE):g&&(h.x+=h.width);h=z;y=0;for(n=!1;y<h.length&&!n;){for(x=h[y];0<x.length;){var w=x[0]._6794();if(k._2813._2466(B,w)){n=!0;break}else w=x.splice(0,1),w=v.indexOf(w[0]._7244),-1!==w&&(v=v.slice(0,w)+v.slice(w+1))}0==x.length?h.splice(y,1):y++}0==z.length?(E.splice(0,1),D.splice(0,1)):D[0]=v;if(0!==E.length){z=E[E.length-1];v=D[D.length-1];f=B={x:f.x,y:f.y,width:f.width,height:f.height};g?
e||(f.width=f.x,f.x=0):e&&(f.width=f.x,f.x=0);f=z;e=v;g=B;h=f.length-1;for(v=!1;0<=h&&!v;){for(B=f[h];0<B.length;)if(y=B[B.length-1]._6794(),k._2813._2466(g,y)){v=!0;break}else y=B.splice(B.length-1,1),y=e.lastIndexOf(y[0]._7244),-1!==y&&(e=e.slice(0,y)+e.slice(y+1));0==B.length&&f.splice(h,1);h--}v=e;0==z.length?(E.splice(E.length-1,1),D.splice(D.length-1,1)):D[D.length-1]=v}}else for(z=0;z<E.length;){e=E[z];h=D[z];g=e;v=f;B=0;for(y=!1;B<g.length;){n=g[B];for(x=0;x<n.length;)w=n[x]._6794(),k._2813._2466(v,
w)?(x++,y=!0):(w=n.splice(x,1),w=y?h.lastIndexOf(w[0]._7244):h.indexOf(w[0]._7244),-1!==w&&(h=h.slice(0,w)+h.slice(w+1)));0==n.length?g.splice(B,1):B++}0==e.length?(E.splice(z,1),D.splice(z,1)):(D[z]=h,z++)}for(f=0;f<D.length;f++)D[f]=D[f].trim(" ");if(0!=E.length){f=[];e=[];for(z=0;z<E.length;z++)if(y=E[z],""!==D[z]){g=[];for(B=0;B<y.length;B++)h=y[B],v=m(h),g.push(new U(null,[v],null,h,this._9306));h=g;v=[];for(B=0;B<h.length;B++)v.push(h[B]._2126[0]);h=k._2813._4164(v);e.push(h);f.push(new U(D[z],
[h],g,null,this._9306))}return new U(null,e,f,null,this._9306)}}}};h.searchText=function(a){b.pv.c(a,RegExp);for(var d=[],e=[],f=this._994(),g=!1,h=0;h<f.length&&!g;h++){var n=f[h],x=n.get_TextContent();if(null!=n._9020){d[h]=[];for(var k=0,z=0;z<n._9020.length;z++){var y=n._9020[z].get_TextContent(),k=x.indexOf(y,k);d[h].push(k);k+=y.length}}else d[h]=[0];n=[];for(z=-1;null!=(k=a.exec(x));){y=k.index;if(y===z)break;""!==k[0]&&n.push(k);z=y;if(!a.global){g=!0;break}}e.push(n)}a=[];for(g=0;g<e.length;g++)if(h=
e[g],0!==h.length)for(x=null!=f[g]._9020?f[g]._9020:[f[g]],n=d[g],k=0;k<h.length;k++){var z=h[k][0],y=h[k].index,s=h[k].input,B;B=x;for(var D=n,w=z,ba=y,J=0;ba>D[J];)J++;J--;0>J&&(J=0);for(var qa=B[J],ca=D[J],Q=[],S=0;S<w.length;){var P=ba-ca+S;qa._1004.length<=P?ba+S>=D[J+1]?(J++,ca=D[J],qa=B[J]):S++:(P=qa._1004[P],null!=P&&Q.push(P),S++)}B=Q;0!==B.length&&(D=m(B),a.push({context:s,position:y,region:new U(z,[D],null,B,this._9306)}))}return a};h.getTransformFromImageToTextSpace=function(a){b.pv.p(a);
a=k.WebMatrixJS._7373(96/a.x,96/a.y);return k.WebMatrixJS.multiplyMatrix(this._9306,a)};h.getTransformFromTextToImageSpace=function(b){return this.getTransformFromImageToTextSpace(b).invert()};h._7075=function(){var b=this._9306;return 0>b._3688||0>b._7824};h._926=function(b){if(null!=this._9020)for(var a=0;a<this._9020.length;a++){var d=this._9020[a];if(d.containsPoint(b))return d}return null};h._994=function(){var b=[];if(null!=this._9160)b.push(this);else if(null!=this._9020)for(var a=0;a<this._9020.length;a++)b=
b.concat(this._9020[a]._994());return b};h._3150=function(){var b=[];if(null!=this._1004)return this._1004.slice();if(null!=this._9020)for(var a=0;a<this._9020.length;a++)b=b.concat(this._9020[a]._3150());return b};null!=e&&b.pv.s(e);b.pv.ad(d,function(a){b.pv.ad(a,b.pv.p)});null!=a&&(b.pv.ac(a,U),0===a.length&&(a=null));null!=f&&(b.pv.ac(f,pa),0===f.length&&(f=null));this._9160=e;this._2126=d;this._9020=a;this._1004=f;null!=g?b.pv.c(g,k.WebMatrixJS):g=new k.WebMatrixJS;this._9306=g;Object.freeze&&
(null!=this._9020&&Object.freeze(this._9020),null!=this._1004&&Object.freeze(this._1004))},O=function(){var e=O.prototype;this._1445=[];e.get_Type=function(){return"PageContentActionMetadata"};e.get_Region=function(){return k._2813._20(this._1445)};e.set_Region=function(d){b.pv.ad(d,b.pv.p);this._1445=d};e._5188=function(b){this._1445=b.region}};O._8956=function(b){var d=null;if(null!=b){switch(b.type){case "GotoActionMetadata":d=new da;break;case "UriActionMetadata":d=new ha;break;case "NamedActionMetadata":d=
new ea;break;default:d=new O}null!=d&&d._5188(b)}return d};var da=function(){var e=da.prototype,d=da.superclass;d.constructor.call(this);this._1904=-1;this._962=k._2813._8313();this._2055=new s.WebImageSizeModeEnumJS(4);this._3703=0;this._731=!1;e.get_Type=function(){return"GotoActionMetadata"};e.get_DestPageIndex=function(){return this._1904};e.set_DestPageIndex=function(a){b.pv.n(a);0>a&&b.pv.toe();this._1904=a};e.get_DestRect=function(){return $.extend(!0,{},this._962)};e.set_DestRect=function(a){b.pv.r(a);
this._962=a={x:a.x,y:a.y,width:a.width,height:a.height}};e.get_SizeMode=function(){return this._2055};e.set_SizeMode=function(a){this._2055=b.pv.e(a,s.WebImageSizeModeEnumJS)};e.get_Zoom=function(){return this._3703};e.set_Zoom=function(a){b.pv.n(a);this._3703=a};e.get_ZoomToDestRect=function(){return this._731};e.set_ZoomToDestRect=function(a){b.pv.b(a);this._731=a};e._5188=function(b){d._5188.call(this,b);this._1904=b.destPageIndex;this._962=b.destRect;this._2055=new s.WebImageSizeModeEnumJS(b.sizeMode);
this._3703=b.zoom;this._731=b.zoomToDestRect}};b.extend(da,O);var ha=function(){var e=ha.prototype,d=ha.superclass;d.constructor.call(this);this._2932="";e.get_Type=function(){return"UriActionMetadata"};e.get_Uri=function(){return this._2932};e.set_Uri=function(a){b.pv.s(a);this._2932=a};e._5188=function(b){d._5188.call(this,b);this._2932=b.uri}};b.extend(ha,O);var ea=function(){var e=ea.prototype,d=ea.superclass;d.constructor.call(this);this._7792="";e.get_Type=function(){return"NamedActionMetadata"};
e.get_ActionName=function(){return this._7792};e.set_ActionName=function(a){b.pv.s(a);this._7792=a};e._5188=function(b){d._5188.call(this,b);this._7792=b.actionName}};b.extend(ea,O);var ia=function(){ia.prototype.executeAction=function(e,d,a){b.pv.tne()}},ra=function(e){var d=ra.prototype;ra.superclass.constructor.call(this);b.pv.ac(e,ia);this._6894=e.slice();d.get_Items=function(){return this._6894.slice()};d.executeAction=function(b,d,e){for(var k=0;k<this._6894.length;k++)if(this._6894[k].executeAction(b,
d,e))return!0;return!1}};b.extend(ra,ia);var sa=function(){sa.superclass.constructor.call(this);sa.prototype.executeAction=function(e,d,a){b.pv.c(e,la.WebImageViewerJS);b.pv.c(d,b.WebImageJS);b.pv.c(a,O);if(b.pv.ic(a,da)){d=function(){3===a._2055.valueOf()&&0<a._3703?(e.set_ImageSizeMode(a._2055),e.set_Zoom(a._3703)):e.set_ImageSizeMode(a._2055);var b=a.get_DestRect();if(b.x!==k._2813._6730||b.y!==k._2813._6730){if(b.x===k._2813._6730||b.y===k._2813._6730){var d=e._3198(),f=d.x,r=d.y;b.x===k._2813._6730&&
(b.x=f);b.y===k._2813._6730&&(b.y=r)}if(a._731)e.zoomToRectangle(b);else{var f=b.x,b=b.y,d=e._3198(),r=d.width/2,d=d.height/2,l=e.get_ImageRotationAngle();if(90===l||270===l)l=r,r=d,d=l;e.scrollToImagePoint(f+r,b+d)}}};var f=a._1904;if(0<=f&&f!=e.get_FocusedIndex())return e.setFocusedIndexAsync(f,d),!0;d();return!0}return b.pv.ic(a,ea)&&(d=-1,"NextPage"==a._7792&&(d=Math.min(e.get_Images().get_Count()-1,e.get_FocusedIndex()+1)),"PrevPage"==a._7792&&(d=Math.max(0,e.get_FocusedIndex()-1)),"FirstPage"==
a._7792&&(d=0),"LastPage"==a._7792&&(d=e.get_Images().get_Count()-1),-1!==d)?(e.set_FocusedIndex(d),!0):!1}};b.extend(sa,ia);var tb=function(e){function d(b,a){if(null==a){var e=b.transformFromDipSpace;null!=e&&(a=new k.WebMatrixJS(e.m11,e.m12,e.m21,e.m22,e.offsetx,e.offsety))}var e=b.textContent,h=null;if(null!=b.selectionRegions)for(var h=[],r=0;r<b.selectionRegions.length;r++)h.push(b.selectionRegions[r].points);var l=null;if(null!=b.symbols)for(l=[],r=0;r<b.symbols.length;r++){var t=b.symbols[r];
l.push(new pa(t.selectionRegion.points,t.symbol))}t=null;if(null!=b.subRegions)for(t=[],r=0;r<b.subRegions.length;r++)t.push(d(b.subRegions[r],a));return new U(e,h,t,l,a)}var a=tb.prototype;b.pv.c(e,b.WebImageJS);e.sm(this);this._8757=e;this._2434=this._4834=void 0;$(e.evm).on("icd",{m:this},function(b,a){if("dc"===a.d){var d=b.data.m;d._4834=void 0;d._2434=void 0}});a.get_Image=function(){return this._8757};a.getTextRegion=function(){if(void 0!==this._4834)return this._4834;b.pv.te("Information about text region is not available, call the requestTextRegion method.")};
a.isTextRegionReceived=function(){return void 0!==this._4834};a.requestTextRegion=function(a,e){var k=this,h=k._8757,r=h.get_Source().get_ImageService(),h={type:"POST",data:{imageInfo:h.cto()}},h=new b.WebRequestJS("GetTextRegionOfImage",function(b){var e=null,g=b.textRegion;null!=g&&(e=d(g));k._4834=e;b.textRegion=e;b.image=k._8757;a&&a(b)},function(b){"abort"!==b.statusText&&(b.image=k._8757,b.blocked||(k._4834=null),e&&e(b))},h);return r.addRequest(h)};a.getActions=function(){if(void 0!==this._2434)return this._2434;
b.pv.te("Information about actions is not available, call the requestActions method.")};a.isActionsReceived=function(){return void 0!==this._2434};a.requestActions=function(a,d){var e=this,h=e._8757,k=h.get_Source().get_ImageService(),h={type:"POST",data:{imageInfo:h.cto()}},h=new b.WebRequestJS("GetActionsOfImage",function(b){var d=[],g=b.actions;if(null!=g){for(var d=JSON.parse(g),g=[],h=0;h<d.length;h++){var k=O._8956(d[h]);null!=k&&g.push(k)}d=g}e._2434=d;b.actions=d;b.image=e._8757;a&&a(b)},
function(b){"abort"!==b.statusText&&(b.image=e._8757,d&&d(b))},h);return k.addRequest(h)}};w.WebPageContentActionMetadataJS=O;w.WebGotoActionMetadataJS=da;w.WebUriActionMetadataJS=ha;w.WebNamedActionMetadataJS=ea;w.WebPageContentActionExecutorJS=ia;w.WebPageContentActionCompositeExecutorJS=ra;w.WebNavigationActionExecutorJS=sa;w.WebTextRegionSymbolJS=pa;w.WebTextRegionJS=U;w.WebImageMetadataJS=tb;(function(e){(function(a){function d(a,e){f(a);b.pv.f(e,"The second parameter must be a Function, which allows to create the WebVisualToolJS object.");
null!=F._522[a]&&b.pv.te("Fabric does not allow to change the standard tool with ID '"+a+"'.")}function f(a){b.pv.s(a);""===a&&b.pv.te("The element ID cannot be empty.")}var r=function(){};r._8607=function(b,a){b.setTransform(a._3688,a._4219,a._5463,a._7824,a._4316,a._5407)};r._2682=function(b){b.setTransform(1,0,0,1,0,0)};e._8821=r;var l=function(){var a=l.prototype;a.mouseDown=function(b,a){};a.mouseMove=function(b,a){};a.mouseUp=function(b,a){};a.mouseDoubleClick=function(b,a){};a.initializationStarted=
function(b,a){};a.initializationFinished=function(b,a){};a.initializationException=function(b,a){};a.get_Name=function(){return this._5735};a.get_ActionButton=function(){return this._5971};a.set_ActionButton=function(a){this._5971=b.pv.e(a,s.WebMouseButtonsEnumJS)};a.get_IsEnabled=function(){return this._2111};a.set_IsEnabled=function(a){this._3561&&(b.pv.b(a),this._2111!==a&&(this._2111=a,this._1354(this._2111),this._2026()))};a.get_DisableContextMenu=function(){return this._1334};a.set_DisableContextMenu=
function(a){b.pv.b(a);this._1334=a};a.get_Cursor=function(){return this._4562};a.set_Cursor=function(a){b.pv.s(a);this._10038()&&this._1069&&this._4703(a);this._4562=a};a.get_ActionCursor=function(){return this._1433};a.set_ActionCursor=function(a){b.pv.s(a);this._1433=a};a.get_MouseClicksDelta=function(){return this._8552};a.set_MouseClicksDelta=function(a){b.pv.n(a);0>a&&(a=10);this._8552=a};a.get_MouseClickCount=function(){return this._2989};a.get_IsMultipageModeSupported=function(){return!1};
a.toString=function(){return this._5735};a.reset=function(){};a.getDrawingBox=function(){return k._2813._8313()};a._3070=function(b){return!this._2111||null!=this._8198&&this._8198._1751()&&(b=this._8198.getImageIndexByLocation(b.pv),0<=b&&b!=this._8198._10548)?!1:!0};a._10038=function(b){return this._2111?null!=this._8198&&null!=this._8198.get_FocusedImage():this._2111};a._1354=function(b){(this._1069=b)?(this._4703(this._4562),this.set_ActionCursor(this._1433)):this._4703("")};a._5245=function(){};
a._7842=function(b,a){};a._9910=function(b,a){};a._9795=function(){this._6232();this._7992=this._8198=null};a._6672=function(b){if(this._8198=b)this._3561=!0,this._636(),this._3986(),this._9273(),this.set_IsEnabled(!0)};a._6232=function(){this._3986();this.set_IsEnabled(!1);this._3561=!1;this._802()};a._802=function(){};a._7503=function(b){this._2650("initializationStarted",b)};a._508=function(b){this._2650("initializationFinished",b)};a._3182=function(b){this._2650("initializationException",b)};
a._3986=function(){null!=this._8198&&$(this._8198._10552).off("."+this._6354)};a._9273=function(){var b=this,a="."+b._6354,d=b._8198._10552;$(d).on("_9988"+a,function(a,d){b._7842(a,d)});$(d).on("_9304"+a,function(a,d){b._9910(a,d)});$(d).on("disposed"+a,function(){b._9795()})};a._2467=function(b){if(this._10038()){var a=Date.now();Math.abs(a-this._1534)>this._8552&&(this._2989=0);this._1534=a;this._2650("mouseDown",b.e)}};a._4621=function(b){this._10038()&&this._2650("mouseMove",b.e)};a._8087=function(b){if(this._10038()){var a=
Date.now();Math.abs(a-this._1534)<this._8552?this._2989++:this._2989=1;this._2650("mouseUp",b.e)}};a._9308=function(b){this._10038()&&this._2650("mouseDoubleClick",b.e)};a._2026=function(){if(this._7992&&this._3561){var b=this.getDrawingBox(),a=this._7430,d=k._2813._1853(b),e=k._2813._1853(a),b=d===e?k._2813._8822(b,a):d?a:b;k._2813._1853(b)||this._8198.invalidate(k._2813._7207(b))}};a._2650=function(b,a){$(this).triggerHandler(b,a)};a._4703=function(b){null!=this._8198&&this._8198._5282(b)};a._636=
function(){null!=this._8198&&(this._7992=this._8198._3295)};a._8927=function(b,a,d){};this._5735="VisualTool";this._7992=this._8198=null;this._6354=b.WebImagingEnviromentJS.guid();this._5971=new s.WebMouseButtonsEnumJS(1);this._1334=this._3561=this._2111=!1;this._1433=this._4562="default";this._1069=!1;this._2989=1;this._8552=250;this._1534=0;this._7430=k._2813._8313();this._636();delete a.mouseDown;delete a.mouseMove;delete a.mouseUp;delete a.mouseDoubleClick;delete a.initializationStarted;delete a.initializationFinished;
delete a.initializationException},t=function(){function a(b,d){var e="";switch(b.direction){case "top_left":case "bottom_right":e=0===d||180===d?"nw-resize":"sw-resize";break;case "top_right":case "bottom_left":e=0===d||180===d?"sw-resize":"nw-resize";break;case "top_middle":case "bottom_middle":e=0===d||180===d?"n-resize":"e-resize";break;case "middle_right":case "middle_left":e=0===d||180===d?"e-resize":"n-resize"}return e}function d(b,a){var e=a._7553,f=b.x-e.x,e=b.y-e.y,g=a._8198._774(),h,n,k,
x;switch(a._6009.direction){case "top_left":a._6009.x+f<a._10159[2].x?(a._hm=!1,h=a._6009.x+f,n=a._1074.width-f):(a._hm=!0,h=a._10159[2].x,n=a._6009.x+f-h);a._6009.y+e<a._10159[5].y?(a._vm=!1,k=a._6009.y+e,x=a._1074.height-e):(a._vm=!0,k=a._10159[5].y,x=a._6009.y+e-k);break;case "top_middle":h=a._10159[0].x;n=a._1074.width;a._6009.y+e<a._10159[5].y?(a._vm=!1,k=a._6009.y+e,x=a._1074.height-e):(a._vm=!0,k=a._10159[5].y,x=a._6009.y+e-k);break;case "top_right":a._6009.x+f>a._10159[0].x?(a._hm=!1,h=a._10159[0].x,
n=a._1074.width+f):(this._hm=!0,h=a._6009.x+f,n=a._10159[0].x-h);a._6009.y+e<a._10159[5].y?(a._vm=!1,k=a._6009.y+e,x=a._1074.height-e):(a._vm=!0,k=a._10159[5].y,x=a._6009.y+e-k);break;case "middle_left":k=a._10159[0].y;x=a._1074.height;a._6009.x+f<a._10159[2].x?(a._hm=!1,h=a._6009.x+f,n=a._1074.width-f):(a._hm=!0,h=a._10159[2].x,n=a._6009.x+f-h);break;case "middle_right":k=a._10159[0].y;x=a._1074.height;a._6009.x+f>a._10159[0].x?(a._hm=!1,h=a._10159[0].x,n=a._1074.width+f):(a._hm=!0,h=a._6009.x+f,
n=a._10159[0].x-h);break;case "bottom_left":a._6009.x+f<a._10159[2].x?(a._hm=!1,h=a._6009.x+f,n=a._1074.width-f):(a._hm=!0,h=a._10159[2].x,n=a._6009.x+f-h);a._6009.y+e>a._10159[1].y?(a._vm=!1,k=a._10159[1].y,x=a._1074.height+e):(a._vm=!0,k=a._6009.y+e,x=a._10159[1].y-k);break;case "bottom_middle":h=a._10159[0].x;n=a._1074.width;a._6009.y+e>a._10159[1].y?(a._vm=!1,k=a._10159[1].y,x=a._1074.height+e):(a._vm=!0,k=a._6009.y+e,x=a._10159[1].y-k);break;case "bottom_right":a._6009.x+f>a._10159[0].x?(a._hm=
!1,h=a._10159[0].x,n=a._1074.width+f):(a._hm=!0,h=a._6009.x+f,n=a._10159[0].x-h),a._6009.y+e>a._10159[0].y?(a._vm=!1,k=a._10159[0].y,x=a._1074.height+e):(a._vm=!0,k=a._6009.y+e,x=a._10159[0].y-k)}0>h&&(n+=h,h=0);h+n>g.width&&(n=g.width-h);0>k&&(x+=k,k=0);k+x>g.height&&(x=g.height-k);0>n&&(n=0);0>x&&(x=0);a.set_Rectangle({x:h,y:k,width:n,height:x})}var e=t.superclass;e.constructor.call(this);var f=t.prototype;f.get_BackColor=function(){return this._5091};f.set_BackColor=function(a){b.pv.s(a);this._5091!=
a&&(this._5091=a,this._3824&&this._10038()&&this._2026())};f.get_BorderColor=function(){return this._578};f.set_BorderColor=function(a){b.pv.s(a);this._578!=a&&(this._578=a,this._3824&&this._10038()&&this._2026())};f.get_Rectangle=function(){return{x:this._10227.x,y:this._10227.y,width:this._10227.width,height:this._10227.height}};f.set_Rectangle=function(a){b.pv.r(a);var d=a.x,e=a.y,f=a.width,g=a.height;(0>d||0>e||0>f||0>g)&&b.pv.tae();if(!k._2813._9602(this._10227,a)&&null!=this._8198){var h=this._8198._774();
a=h.width;h=h.height;if(d>a||e>h)d=e=f=g=0;d+f>a&&(f=a-d);e+g>h&&(g=h-e);this._10227={x:d,y:e,width:f,height:g};this._10038()&&this._2026()}};f.set_ActionCursor=function(b){e.set_ActionCursor.call(this,b);this._10038()&&this._1069&&this._3824&&this._4703(b)};f.get_Movable=function(){return this._9645};f.set_Movable=function(a){b.pv.b(a);this._9645=a};f.get_Resizable=function(){return this._2296};f.set_Resizable=function(a){b.pv.b(a);a!==this._2296&&(this._2296=a,this._2296||(this._5330=null),this._3824&&
this._10038()&&this._2026())};f.reset=function(){this._802();this._4703(this._4562)};f.getDrawingBox=function(){if(null==this._8198||null==this._9751)return k._2813._8313();var b=this.get_Rectangle();if(k._2813._1853(b))return b;this._9751.transformRectangle(b);b=k._2813._8255(b);this._2296&&(b.x-=5,b.y-=5,b.width+=10,b.height+=10);b.x-=2;b.y-=2;b.width+=4;b.height+=4;return b};f._6672=function(b){e._6672.call(this,b);this._9751=this._8198._2351();k._2813._1853(this._10227)||this._5245()};f._802=
function(){this._7553=this._1074=this._10159=this._1269=this._6009=this._5330=null;this._3824=!1;this.set_Rectangle(k._2813._8313())};f._5245=function(){this._10038()&&this._2026()};f._2467=function(b){e._2467.call(this,b);if(this._1069){var a=b.pc;if(b.b.equals(this._5971)&&this._10038()){var d=this._8198._9168(),f=d.transformPoint(a);this._7553=f;if(this._3824){a=this._8952(a);if(null==a&&k._2813._4789(this._10227,f))if(this._9645)a=this.get_Rectangle();else{this._7553=null;return}if(null==a)this._6009=
this._5330=null,this.set_Rectangle(k._2813._8313()),this._5724(this._7553)?(b.handled=!0,b.active=!0):this._7553=null;else{f=d.transformPoint({x:a.x,y:a.y});this._6009={x:f.x,y:f.y};if(null!=a.width)this._6009.width=a.width,this._6009.height=a.height,this._1269={x:a.x,y:a.y};else{this._6009.direction=a.direction;this._6009.r=a.r;this._10159=[];for(f=0;f<this._5330.length;f++)this._10159.push(d.transformPoint(this._5330[f]));this._1074={width:this._10227.width,height:this._10227.height}}b.handled=
!0;b.active=!0}}else this._5724(this._7553)?(b.handled=!0,b.active=!0):this._7553=null}}};f._4621=function(b){e._4621.call(this,b);if(this._1069){var f=b.pc,g=this._8198._9168().transformPoint(f);if(null!=this._7553){if(null==this._6009){if(this._4703(this._4562),f=this._7553,null!=f){var h=g.x-f.x,n=g.y-f.y;if(0!==h||0!==n){var x=this._8198._774(),l=f.x,G=f.y;0>h&&(h*=-1,l=g.x);0>n&&(n*=-1,G=g.y);0>l&&(l=0,h=f.x);0>G&&(G=0,n=f.y);l+h>x.width&&(h=x.width-l);G+n>x.height&&(n=x.height-G);this.set_Rectangle({x:l,
y:G,width:h,height:n})}}}else null!=this._6009.width?(this._4703(this._1433),h=this._7553,f=g.x-h.x,x=g.y-h.y,g=this._8198._774(),h=this._10227.width,n=this._10227.height,f=this._1269.x+f,x=this._1269.y+x,0>f&&(f=0),0>x&&(x=0),f+h>g.width&&(f=g.width-h),x+n>g.height&&(x=g.height-n),this.set_Rectangle({x:f,y:x,width:h,height:n})):(f=0,null!=this._8198._3638&&(f=this._8198._3638),this._4703(a(this._6009,f)),d(g,this));b.handled=!0;b.active=!0}else this._1069&&(this._3824?(h=this._8952(f),null==h&&k._2813._4789(this._10227,
g)&&(h=this._10227),null!=h?(null!=h.width?this._4703(this._1433):(f=0,null!=this._8198._3638&&(f=this._8198._3638),this._4703(a(h,f))),b.handled=!0):this._4703(this._4562)):this._4703(this._4562))}};f._8087=function(b){e._8087.call(this,b);if(this._1069){var a=this._7553;this._7553=null;null==this._6009?(1>this._10227.width&&1>this._10227.height&&this.set_Rectangle(k._2813._8313()),null!=a&&(b.handled=!0)):(this._1074=this._10159=this._1269=this._6009=null,b.handled=!0)}};f._8952=function(b,a){var d;
null==a&&(a=b.y,b=b.x);if(null!=this._5330)for(d=0;d<this._5330.length;d++)if(5>=Math.abs(b-this._5330[d].x)&&5>=Math.abs(a-this._5330[d].y))return d=this._5330[d]};f._10038=function(b){if(this._2111){var a=this._8198;return null!=a&&(a=a.get_FocusedImage(),null==b&&(b=a),null!=b&&b===a)?!b.get_IsBad():!1}return this._2111};f._5724=function(b){var a=this._8198._774();return k._2813._4789({x:0,y:0,width:a.width,height:a.height},b)};f._8927=function(b,a,d){this._9751=b;this._3824=!1;if(this._10038(d))if(a=
this._10227,k._2813._1853(a))this._7430=k._2813._8313();else{d=this._7992.getContext("2d");r._8607(d,b);d.beginPath();var e=Math.max(Math.abs(b._3688),Math.abs(b._7824));0===e&&(e=Math.max(Math.abs(b._4219),Math.abs(b._5463)));d.lineWidth=1/e;d.setLineDash&&d.setLineDash([4]);d.strokeStyle=this.get_BorderColor();d.fillStyle=this.get_BackColor();d.rect(a.x,a.y,a.width,a.height);d.fill();d.stroke();r._2682(d);d.setLineDash&&d.setLineDash([]);if(this._2296){var f=this._10227;if(!k._2813._1853(f))for(a=
f.x,d=f.y,e=f.width,f=f.height,a=[{x:a,y:d},{x:a+e/2,y:d},{x:a+e,y:d},{x:a,y:d+f/2},{x:a+e,y:d+f/2},{x:a,y:d+f},{x:a+e/2,y:d+f},{x:a+e,y:d+f}],b.transformPoints(a),b=this._7992.getContext("2d"),b.setLineDash&&b.setLineDash([]),b.lineWidth=1,b.fillStyle="rgba(255,255,255,0.36)",b.strokeStyle="rgba(0,0,0,0.75)",this._5330=[{x:a[0].x,y:a[0].y,r:4,direction:"top_left"},{x:a[1].x,y:a[1].y,r:4,direction:"top_middle"},{x:a[2].x,y:a[2].y,r:4,direction:"top_right"},{x:a[3].x,y:a[3].y,r:4,direction:"middle_left"},
{x:a[4].x,y:a[4].y,r:4,direction:"middle_right"},{x:a[5].x,y:a[5].y,r:4,direction:"bottom_left"},{x:a[6].x,y:a[6].y,r:4,direction:"bottom_middle"},{x:a[7].x,y:a[7].y,r:4,direction:"bottom_right"}],a=0;a<this._5330.length;a++)d=this._5330[a],e=b,e.beginPath(),e.arc(d.x,d.y,d.r,0,2*Math.PI),e.fill(),e.stroke()}this._3824=!0;this._7430=this.getDrawingBox()}else this._7430=k._2813._8313()};this._1433="move";this._5735="RectangularSelection";this._5091="rgba(0,200,255,0.5)";this._578="rgba(0,0,0,1)";this._10227=
k._2813._8313();this._2296=this._9645=!0;this._7553=null;this._3824=!1;this._9751=this._6009=this._5330=this._1074=this._10159=this._1269=null};b.extend(t,l);var w=function(){var a=w.superclass;a.constructor.call(this);var d=w.prototype;d.get_SelectedItem=function(){if(null==this._7607)return-1;for(var b=this._7607.ci,a=0,d=0;d<b;d++)a+=this._6894[d].get_Count();return a+=this._7607.ei};d.set_SelectedItem=function(a){b.pv.n(a);0>a&&b.pv.toe();for(var d=a,e=0,f=0;e<this._6894.length;e++){var g=this._6894[e].get_Count(),
f=f+g;if(d>=g)d-=g;else break}a>=f&&b.pv.toe();this._7607={ci:e,ei:d};this._10038()&&this._10373&&this._2026()};d.get_SelectedItemBrushColor=function(){return this._10046};d.set_SelectedItemBrushColor=function(a){b.pv.s(a);this._10046!==a&&(this._10046=a,this._10038()&&this._10373&&this._2026())};d.get_SelectedItemPenColor=function(){return this._1795};d.set_SelectedItemPenColor=function(a){b.pv.s(a);this._1795!==a&&(this._1795=a,this._10038()&&this._10373&&this._2026())};d.reset=function(){this.clearItems()};
d.addItems=function(a){b.pv.c(a,q);this._6894.push(a);this._10038()&&this._2026()};d.removeItemAt=function(a){b.pv.n(a);(0>a||a>=this._6894.length)&&b.pv.toe();this._6894.splice(a,1);this._10038()&&this._2026()};d.clearItems=function(){this._7607=null;this._10373=!1;this._6894=[];this._10038()&&this._2026()};d.findItem=function(a,d){b.pv.n(a,d);if(this._10373){var e=this._8198._5955(a,d),e=this._6633(e.x,e.y);if(null!=e)return e.item}};d.getDrawingBox=function(){if(null==this._8198||null==this._9751)return k._2813._8313();
for(var b=k._2813._8313(),a=0;a<this._6894.length;a++){var d=this._6894[a].getDrawingBox();k._2813._1853(d)||(b=k._2813._1853(b)?d:k._2813._8822(b,d))}k._2813._1853(b)||(this._9751.transformRectangle(b),b=k._2813._8255(b));return b};d.selectItem=function(a){b.pv.c(a,C);var d=this._7607;if(null==d||this._6894[d.ci]._3049[d.ei]!==a){for(var d=0,e=-1;d<this._6894.length&&(e=this._6894[d]._3049.indexOf(a),-1===e);d++);-1===e&&b.pv.te("Item is not contained in tool regions.");this._7607={ci:d,ei:e};this._10038()&&
this._10373&&this._2026()}};d._6672=function(b){a._6672.call(this,b);this._9751=this._8198._2351()};d._802=function(){this.clearItems()};d._6633=function(b,a){if(this._10373)for(var d=this._8198._9168().transformPoint({x:b,y:a}),e=this._6894.length-1;0<=e;e--)for(var f=this._6894[e],g=f.get_Count()-1;0<=g;g--){var h=f.get_Item(g);if(k._2813._10343(h.get_Path(),d))return{item:h,ci:e,ei:g}}};d._5245=function(){this._10038()&&this._2026()};d._2467=function(b){a._2467.call(this,b);b.b.equals(this._5971)&&
this._10038()&&(b=b.pc,b=this._6633(b.x,b.y),this._7607=null==b?null:{ci:b.ci,ei:b.ei},this._2026())};d._4621=function(b){a._4621.call(this,b);if(this._10038()){b=b.pc;var d;b=this._6633(b.x,b.y);null!=b&&(d=b.item);null!=d?(this._8198._425(d.get_ToolTip()),""!==this._1433&&this._4703(this._1433)):(this._4703(this._4562),this._8198._425(""))}};d._10038=function(b){if(this._2111){var a=this._8198;return null!=a&&(a=a.get_FocusedImage(),null==b&&(b=a),null!=b&&b===a)?!b.get_IsBad():!1}return this._2111};
d._8927=function(b,a,d){this._9751=b;this._10373=!1;if(this._10038(d)){a=this._7992.getContext("2d");d=this._7607;var e=null!=d?d.ci:-1;r._8607(a,b);for(b=0;b<this._6894.length;b++)b!=e?this._6894[b]._10615(a,-1,"",""):this._6894[b]._10615(a,d.ei,this._10046,this._1795);for(b=d=0;b<this._6894.length;b++)d+=this._6894[b]._3049.length;0<d&&(this._10373=!0);r._2682(a);this._7430=this.getDrawingBox()}else this._7430=k._2813._8313()};this._5735="HighlightTool";this._6894=[];this._7607=null;this._10046=
"rgba(0,0,255,0.18)";this._1795="rgba(0,128,0,0.75)";this._10373=!1;this._9751=null};b.extend(w,l);var C=function(a){var d=C.prototype;d.get_Path=function(){return this._667};d.get_ToolTip=function(){return this._6662};d.set_ToolTip=function(b){this._6662=b};d.getDrawingBox=function(){var b=k._2813._1694(this._667);--b.x;--b.y;b.width+=2;b.height+=2;return b};d._10248=function(b){if(0!=this._667.length){b.beginPath();b.moveTo(this._667[0].x,this._667[0].y);for(var a=1;a<this._667.length;a++)b.lineTo(this._667[a].x,
this._667[a].y);b.closePath();b.fill();b.stroke()}};this._667=[];b.pv.ad(a,b.pv.p);for(d=0;d<a.length;d++)this._667.push({x:a[d].x,y:a[d].y});this._6662=""};C.createObjectFromRectangle=function(a){b.pv.r(a);a=k._2813._10213(a);return new C(a)};C.createObjectFromPolygon=function(b){return new C(b)};var q=function(a,d,e){var f=q.prototype;f.get_Count=function(){return this._3049.length};f.get_Item=function(a){b.pv.n(a);(0>a||a>this._3049.length)&&b.pv.toe();return this._3049[a]};f.getDrawingBox=function(){for(var b=
k._2813._8313(),a=0;a<this.get_Count();a++)var d=this.get_Item(a).getDrawingBox(),b=k._2813._1853(b)?d:k._2813._8822(b,d);return b};f._10615=function(b,a,d,e){b.fillStyle=this._9845;b.strokeStyle=this._1959;for(var f=0;f<this._3049.length;f++)f!=a?this._3049[f]._10248(b):(b.fillStyle=d,b.strokeStyle=e,this._3049[f]._10248(b),b.fillStyle=this._9845,b.strokeStyle=this._1959)};b.pv.ac(a,C);null==e&&(e="rgba(0,0,0,1)");b.pv.s(d,e);this._9845=d;this._1959=e;this._3049=a},n=function(){function a(b){var d=
b._8198,e=b.get_Rectangle(),e=k._2813._8255(e),f=d._2405(),g=d._8985._8999(e),f=Math.min(f.width/g.width,f.height/g.height);b._8864=k._2813._8992(e);b.reset();d.beginInit();d.set_ImageSizeMode(new s.WebImageSizeModeEnumJS(3));b=d._1000*f;1>b&&(b=1);1E3<b&&(b=1E3);d.set_Zoom(b);d.endInit()}var d=n.superclass;d.constructor.call(this);var e=n.prototype;e.get_ZoomButton=function(){return this._1100};e.set_ZoomButton=function(a){this._1100=b.pv.e(a,s.WebMouseButtonsEnumJS)};e._2467=function(b){d._2467.call(this,
b);var e=this._1100;b.b.equals(e)&&(this._5971.equals(e)?null!=this._6009&&this._6009.width&&(a(this),b.handled=!0):(e=b.pc,null==this._8952(e)&&(e=this._8198._6819(e),k._2813._4789(this._10227,e)&&(a(this),b.handled=!0))))};e._7842=function(b,a){var e=this._8198,f=e._2351();this._9751=f;if(null!=this._8864){var g=e._422(),h=e._2405();f.translate(g.x,g.y);f=f.transformPoint(this._8864);e._9835(f.x-h.width/2,f.y-h.height/2);this._8864=null}else d._7842.call(this,b)};this._5735="ZoomSelection";this._1433=
"zoom-in";this._1100=new s.WebMouseButtonsEnumJS(1);this._8864=null};b.extend(n,t);var x=function(){var a=x.superclass;a.constructor.call(this);var d=x.prototype;d.get_ZoomInButton=function(){return this._6572};d.set_ZoomInButton=function(a){this._6572=b.pv.e(a,s.WebMouseButtonsEnumJS)};d.get_ZoomOutButton=function(){return this._9278};d.set_ZoomOutButton=function(a){this._9278=b.pv.e(a,s.WebMouseButtonsEnumJS)};d.get_ZoomStep=function(){return this._8882};d.set_ZoomStep=function(a){b.pv.n(a);this._8882=
a};d.reset=function(){a.reset.call(this);this._9319=this._7201=null};d._2467=function(b){a._2467.call(this,b);var d=this._8198.get_Zoom(),e=0;this._9278.equals(b.b)&&(e-=this._8882);this._6572.equals(b.b)&&(e+=this._8882);e=d*(1+e/100);1>e&&(e=1);1E3<e&&(e=1E3);e!==d&&(this._7201=d=b.pc,this._9319=this._8198._6819(d),this._8198.beginInit(),this._8198.set_ImageSizeMode(3),this._8198.set_Zoom(e),this._8198.endInit(),b.handled=!0)};d._4621=function(b){a._4621.call(this,b);this._4703(this._4562);b.handled=
!0};d._7842=function(b,a){if(null!=this._9319){var d=this._8198._4035(this._9319),e=d.x-this._7201.x,d=d.y-this._7201.y,f=this._8198._422();this._8198._9835(f.x+e,f.y+d);this._9319=this._7201=null}};this._5735="Zoom";this._6572=new s.WebMouseButtonsEnumJS(1);this._9278=new s.WebMouseButtonsEnumJS(2);this._8882=10;this._9319=this._7201=null;this._1334=!0};b.extend(x,l);var v=function(){function a(b){if(b._10038()){var e=b._8198._6338[0],f=b._8198.get_FocusedImage();if(null!=e&&null==b._6473){b._6473=
$("<div>").insertBefore(e);var e=b._10444.width,h=b._10444.height,n=g(b),n={width:e,height:h,cursor:"none",overflow:"hidden",display:"none","z-index":"100",border:"1px ridge black","background-color":n,position:"absolute","pointer-events":"none"};$(b._6473).css(n);b._6473[0].oncontextmenu=function(b){return!1};e=$("<canvas width='"+e+"' height='"+h+"' style='cursor:none'>").appendTo(b._6473);b._7367=e[0];null!=f&&d(b,f)}}}function d(b,f){if(null==b._7367)a(b);else{var g=new la._6747(b._7367,f,b._8198._3965);
b._10510=g;g._4371();e(b);g._8688(b._8198._3638);g._8837(1024,1024);g._4319();g._10087()}}function e(b){var a=b._10510,f=b._8198._8985,g=f._8757;if(null==a)d(b,g);else{a._8508._9234=!0;a._4371();var h=g.gi();h!==b._10207&&(a._10596(g),a._10565(f),b._10207=h);g=b._3703/100;a._3444(f._8624*g,f._3726*g);a._8688(f._3638);b={x:0,y:0,width:b._10444.width,height:b._10444.height};a._8638(b);a._5241(b);f=f._4173();null!=f&&(f=f.clone(),f.set_BorderWidth(0));a._7014(f);a._10087()}}function f(b,a){var d=a.x,
e=a.y,g=b._8198._7294(),h=b._8198._5909(),n=b._8198._422(),g=k._2813._4585(g,h);g.x-=n.x;g.y-=n.y;h=b._3703/100;n=b._10444.width/(2*h);h=b._10444.height/(2*h);d<n+g.x&&(d=n+g.x+1);e<h+g.y&&(e=h+g.y+1);var x=g.width;d+n>x+g.x&&(d=x-Math.ceil(n)-1+g.x);n=g.height;e+h>n+g.y&&(e=n-Math.ceil(h)-1+g.y);$(b._6473).css({"margin-left":d-b._10444.width/2,"margin-top":e-b._10444.height/2});var g=b._8198._6819(d,e),d=b._10510,n=d._2297(),e=g.x*n.x,g=g.y*n.y,n=b._10444.width/2,h=b._10444.height/2,x=d._4455(),
l={x:e-n,y:g-h,width:b._10444.width,height:b._10444.height};switch(d._8472()){case 90:l={x:x.height-g-n,y:e-h,width:b._10444.height,height:b._10444.width};break;case 180:l={x:x.width-e-n,y:x.height-g-h,width:b._10444.width,height:b._10444.height};break;case 270:l={x:g-n,y:x.width-e-h,width:b._10444.height,height:b._10444.width}}0>l.x&&(l.x=0);0>l.y&&(l.y=0);d._8508._9234=!0;d._8638(l)}function g(b){var a="inherit";if(null!=b._6473)for(b=b._6473.parent();0!==b.length&&b[0]!=document;){var d=b.css("background-color");
if("rgba(0, 0, 0, 0)"!==d&&"transparent"!==d){a=d;break}b=b.parent()}return a}var h=v.superclass;h.constructor.call(this);var n=v.prototype;n.get_Size=function(){return{width:this._10444.width,height:this._10444.height}};n.set_Size=function(a){b.pv.sz(a);var d=a.width;a=a.height;(0>d||0>a)&&b.pv.tae();if(this._10444.width!==d||this._10444.height!==a)this._10444={width:d,height:a},null!=this._6473&&($(this._6473).css({width:d,height:a}),this._7367.width=d,this._7367.height=a,null!=this._10510&&(e(this),
null!=this._7672&&f(this,this._7672)))};n.get_Zoom=function(){return this._3703};n.set_Zoom=function(a){b.pv.n(a);100>a&&(a=100);500<a&&(a=500);a!==this._3703&&(this._3703=a,null!=this._10510&&(e(this),null!=this._7672&&f(this,this._7672)))};n.set_ActionCursor=function(b){h.set_ActionCursor.call(this,b);this._10038()&&this._1069&&this._1957&&this._4703(b)};n.set_IsEnabled=function(b){var a=this._2111;h.set_IsEnabled.call(this,b);this._2111!==a&&(this._2111||this._3323())};n.reset=function(){this._9134()};
n._2467=function(b){h._2467.call(this,b);if(b.b.equals(this._5971)&&this._10038()){var a=b.pc,d=b.pv,g=!1,n=this._8198._8985;null!=n&&(g=n._7482(d));g&&(e(this),this._4724(a),f(this,a),b.handled=!0,b.active=!0)}};n._4621=function(b){h._4621.call(this,b);if(this._1957){var a=b.pc;this._4703(this._1433);this._7672=a;f(this,a);b.handled=!0;b.active=!0}else this._4703(this._4562),b.handled=!0};n._8087=function(b){h._8087.call(this,b);this._1957&&this._9134()};n._6672=function(b){h._6672.call(this,b);
null==this._6473&&a(this)};n._6232=function(){h._6232.call(this);this._802();this._3323()};n._802=function(){this._7672=null;this._1957=!1};n._1354=function(b){(this._1069=b)?this._4703(this._4562):this._4703("")};n._10038=function(b){if(this._2111){var a=this._8198;return null!=a&&(a=a.get_FocusedImage(),null==b&&(b=a),null!=b&&b===a)?!b.get_IsBad():!1}return this._2111};n._3323=function(){null!=this._10510&&(this._10510=null);$(this._6473).remove();this._10207=this._6473=this._7367=null;this._1957=
!1};n._4724=function(b){if(null!=this._6473){this._1957=!0;var a=g(this);$(this._6473).css({display:"block","background-color":a});this._7672=b;this.set_ActionCursor(this._1433)}};n._9134=function(){$(this._6473).css("display","none");this._802();this.set_Cursor(this._4562)};this._5735="Magnifier";this._10444={width:200,height:200};this._3703=250;this._7672=this._10207=this._10510=this._7367=this._6473=null;this._1957=!1;this._1433="none"};b.extend(v,l);var z=function(a){function d(b,a){var e="."+
b._6354;$(a).on("initializationStarted"+e+" initializationFinished"+e+" initializationException"+e,function(a,d){b._2650(a.type,d)})}var e=z.superclass;e.constructor.call(this);var f=z.prototype;f.get_VisualTools=function(){return this._1378.slice()};f.get_Tool=function(a){b.pv.n(a);0>a&&a>this._1378.length&&b.pv.toe();return this._1378[a]};f.get_ActiveVisualTool=function(){return this._9614};f.set_ActiveVisualTool=function(a){if(0!=this._1378.length){if(null!=a&&(b.pv.c(a,l),-1===this._1378.indexOf(a)&&
b.pv.te("Composite visual tool does not contain specified visual tool."),this._9614==a))return;var d=null==a?!0:!1;this._9614=a;for(a=this._1378.length-1;0<=a;a--)this._1378[a]._1354(d);null!=this._9614&&this._9614._1354(!0)}};f.set_IsEnabled=function(a){if(this._3561&&(b.pv.b(a),this._2111!==a)){this._2111=a;this._1354(a);for(var d=this._1378.length-1;0<=d;d--)this._1378[d]._2111=a,this._1378[d]._1354(a);this._2111&&(a=this._9614,null!=a&&a._1354(!0));this._2026()}};f.get_IsMultipageModeSupported=
function(){for(var b=0;b<this._1378.length;b++)if(this._1378[b].get_IsMultipageModeSupported())return!0;return!1};f.get_DisableContextMenu=function(){if(null!=this._9614)return this._9614._1334;for(var b=0;b<this._1378.length;b++)if(this._1378[b]._1334)return!0;return!1};f.set_DisableContextMenu=function(a){b.pv.b(a);var d=this._1378;if(0!==d.length)if(null!=this._9614)this._9614._1334=a;else if(1===d.length)d[0]._1334=a;else for(var e=0;e<d.length;e++)d[e]._1334!=a&&b.pv.te("The property cannot be set for composite visual tool.")};
f.reset=function(){for(var b=this._1378.length-1;0<=b;b--)this._1378[b].reset()};f.contains=function(a){b.pv.c(a,l);for(var d=this._1378,e=0;e<d.length;e++){var f=d[e];if(b.pv.ic(f,z)){if(f.contains(a))return!0}else if(f===a)return!0}return!1};f.getDrawingBox=function(){for(var b=k._2813._8313(),a=0;a<this._1378.length;a++){var d=this._1378[a].getDrawingBox();k._2813._1853(b)?b=d:k._2813._1853(d)||(b=k._2813._8822(b,d))}return b};f._3070=function(b){if(this._2111){if(null!=this._9614)return this._9614._3070(b);
for(var a=0;a<this._1378.length;a++)if(this._1378[a]._3070(b))return!0}return!1};f._6672=function(b){this._8198=b;this._2111=this._1069=this._3561=!0;for(var a=this._1378.length-1;0<=a;a--){var e=this._1378[a];e._6672(b);e._3986();d(this,e)}this._9273();b=this._9614;null!=b&&b._1354(!0);this._7992=this._1378[0]._7992};f._6232=function(){e._6232.call(this);for(var b=this._1378.length-1;0<=b;b--){var a=this._1378[b];a._6232();var d="."+this._6354;$(a).off(d)}};f._2467=function(b){e._2467.call(this,
b);if(null!=this._9614)this._9614._10038()&&this._9614._2467(b);else for(var a=0;a<this._1378.length;a++){var d=this._1378[a];if(d._10038()&&(d._2467(b),b.handled))break}};f._4621=function(b){e._4621.call(this,b);if(null!=this._9614)this._9614._10038()&&this._9614._4621(b);else for(var a=0;a<this._1378.length;a++){var d=this._1378[a];if(d._10038()&&(d._4621(b),b.handled))break}};f._8087=function(b){e._8087.call(this,b);if(null!=this._9614)this._9614._10038()&&this._9614._8087(b);else for(var a=0;a<
this._1378.length;a++){var d=this._1378[a];if(d._10038()&&(d._8087(b),b.handled))break}};f._9308=function(b){e._9308.call(this,b);if(null!=this._9614)this._9614._10038()&&this._9614._9308(b);else for(var a=0;a<this._1378.length;a++){var d=this._1378[a];if(d._10038()&&(d._9308(b),b.handled))break}};f._7842=function(b,a){for(var d=this._1378.length-1;0<=d;d--)this._1378[d]._7842(b,a)};f._9910=function(b,a){for(var d=this._1378.length-1;0<=d;d--)this._1378[d]._9910(b,a)};f._9795=function(){for(var b=
this._1378.length-1;0<=b;b--)this._1378[b]._9795();e._6232.call(this);this._7992=this._8198=null};f._8927=function(b,a,d){for(var e=this._9614,f=this._1378.length-1;0<=f;f--){var g=this._1378[f];null!=g._9751&&(g._9751=b);if(g._10038(d)&&g!=e){var h=g.getDrawingBox();k._2813._2466(h,a)&&g._8927(b,a,d)}}null!=e&&e._10038(d)&&(h=e.getDrawingBox(),k._2813._2466(h,a)&&e._8927(b,a,d))};f._636=function(){e._636.call(this);if(null!=this._1378)for(var b=this._1378.length-1;0<=b;b--)this._1378[b]._636()};
this._1378=[];this._5735="Composite:";var g=this;b.pv.ad(a,function(a){b.pv.c(a,l);g._1378.push(a);g._5735+=a._5735+","});this._5735=this._5735.substr(0,this._5735.length-1);this._9614=null};b.extend(z,l);var y=function(){var b=y.superclass;b.constructor.call(this);var a=y.prototype;a._409=function(b){};a._2467=function(a){this._2111&&(this._7592=!0,b._2467.call(this,a),a.handled?$(this._8198._10552).triggerHandler("_409"):this._7592=!1)};a._8087=function(a){if(this._7592&&(b._8087.call(this,a),!0===
this._3824)){a=this._8198;var d=this.get_Rectangle();this._9751.transformRectangle(d);var e=a._1915(),f=e.width,e=e.height,g=[];null!=a._7664&&(g=a._7664.find("div.border"));for(var h=$(this._7992).offset(),n=[],x=0;x<g.length;x++){var l=$(g[x]).offset(),G=l.top-h.top,l=l.left-h.left;if(!(d.x>=l+f||d.x+d.width<=l||d.y>=G+e||d.y+d.height<=G||(n.push(x),this._8198.get_MultiSelect())))break}a.set_SelectedIndices(n);this._7592=!1;this.set_Rectangle(k._2813._8313())}};a._10038=function(b){return this._2111};
a._4703=function(b){};this._5735="ThumbnailSelection";this._7592=!1;this.set_Resizable(!1);this.set_Movable(!1);delete a._409};b.extend(y,t);var E=function(){function a(d){return b.pv.ic(d,s.WebTextRegionJS)}function d(b){if(null!=b&&(b=b.get_Metadata(),null!=b))return b._4834}function e(b,a,d){var g=b._8198._7294(a);d=k._2813._4585(d,g);k._2813._1853(d)||f(b,a,{x:d.x,y:d.y},{x:d.x+d.width,y:d.y+d.height})}function f(b,a,d,e){var n=d,x=e,k=!1,v,l=g(b,a);if(null!=l){k=!0;try{var m=b._1547(a,l),n=m.transformPoint(n),
x=m.transformPoint(x);v=subregion=h(l,b._1056,n,x)}catch(p){}}d=k?v:{s:d,e:e};null!=d&&b._7723(a,d)}function g(b,a){return b._8198._4971(a)?b._5420(a):d(a)}function h(b,a,d,e){return b.getSubregion({x:d.x,y:d.y,width:e.x-d.x,height:e.y-d.y},a)}function n(b,a,d){b={description:b,image:a};null!=d&&(b.errorMessage=d);return b}function x(b,a){var d=b.data.t;if(null!=d._7378){var e=a.i.get_Guid();null!=d._7378[e]&&a.c&&(delete d._7378[e],l(d))}}function l(b){var a=0,d;for(d in b._7378){a++;break}0===a&&
(b._7378=null)}var v=E.prototype,m=E.superclass;m.constructor.call(this);v.selectionChanged=function(b){};v.textSearchStarted=function(b){};v.textSearchProgress=function(b,a){};v.textSearchFinished=function(b){};v.initializationStarted=function(b,a){};v.initializationFinished=function(b,a){};v.initializationException=function(b,a){};v.get_IsMultipageModeSupported=function(){return!0};v.get_SelectionColor=function(){return this._4584};v.set_SelectionColor=function(a){b.pv.s(a);this._4584!==a&&(this._4584=
a,this._10038()&&this._2026())};v.get_SelectionMode=function(){return this._1056};v.set_SelectionMode=function(a){a=b.pv.e(a,s.WebTextSelectionModeEnumJS);this._1056.equals(a)||(this._1056=a)};v.get_SelectedRegion=function(){return this.getSelectedRegion(this._8198.get_FocusedImage())};v.set_SelectedRegion=function(b){this.setSelectedRegion(b)};v.get_SelectedText=function(){null==this._selectedText&&(this._selectedText=this._8848());return this._selectedText};v.get_IsSelectionEnabled=function(){return this._1980};
v.set_IsSelectionEnabled=function(a){b.pv.b(a);this._1980!==a&&((this._1980=a)?null!=this._7378&&this._2026():(a=null!=this._7378,this._5216=!1,this._7378=this._9516=this._9957=null,this._3290(),a&&this._2026()))};v.get_TextSelectionAutoScrollStep=function(){return this._4972};v.set_TextSelectionAutoScrollStep=function(a){b.pv.n(a);0>a&&b.pv.toe();this._4972=a};v.getSelectedRegion=function(d){null!=d&&b.pv.c(d,b.WebImageJS);null==d&&null!=this._8198&&(d=this._8198.get_FocusedImage());if(null!=d&&
(d=this._9874(d),null!=d&&a(d)))return d};v.setSelectedRegion=function(a,d){null!=a&&b.pv.c(a,s.WebTextRegionJS);null!=d&&b.pv.c(d,b.WebImageJS);null==d&&(this._7378=null,null!=this._8198&&(d=this._8198.get_FocusedImage()));null!=d&&(null==a?null!=this._7378&&(delete this._7378[d.get_Guid()],l(this)):this._7723(d,a),this._3290(),this._2026())};v.getDrawingBox=function(){if(null!=this._8198){var b=this._8198.get_Images(),d=k._2813._8313();if(null!=this._7378){for(var e in this._7378){var f;f=b.get_Image(b.indexOf(e));
var g=k._2813._8313(),h=this._7378[f.get_Guid()];if(a(h)){for(var g=h.get_SelectionRegions(),n=[],x=0;x<g.length;x++)n=n.concat(g[x]);this._1490(f,h).transformPoints(n);g=k._2813._1694(n);this._8198._2351(f).transformRectangle(g);g=k._2813._8255(g)}f=g;k._2813._1853(f)||(d=k._2813._1853(d)?f:k._2813._8822(f,d))}return d}}return k._2813._8313()};v.selectTextInTextSpace=function(a,d){if(this._10038()){var e;null!=this._8198&&(e=this._8198.get_FocusedImage());b.pv.p(a,d);e=this._5420(e);null!=e&&(e=
h(e,this._1056,a,d));this.set_SelectedRegion(e)}};v.selectTextInViewerSpace=function(a,d){b.pv.p(a,d);if(this._10038()){var h=this._8198.getNearestImage(a),n=this._8198.getNearestImage(d);null==n&&(n=h);this._7378=null;if(h==n)f(this,h,a,d);else{var x=this._8198.get_Images(),v=x.indexOf(h),l=x.indexOf(n),m=Math.min(v,l)+1,y=Math.max(v,l)-1;if(1===this._1056.valueOf()){if(l=l<v)v=h,h=n,n=v;var r=h.get_Size();n.get_Size();var p=this._8198._2351(h),z=this._8198._2351(n),v=l?d:a,r=p.transformPoint({x:r.width,
y:r.height}),r=this._8198._5792(r),l=l?a:d,z=z.transformPoint({x:0,y:0}),z=this._8198._5792(z);f(this,h,v,r);for(h=m;h<=y;h++)m=x.get_Image(h),v=g(this,m),null==v&&(v=0),this._7723(m,v);f(this,n,l,z)}else{v={x:a.x,y:a.y,width:d.x-a.x,height:d.y-a.y};v=k._2813._8255(v);e(this,h,v);for(h=m;h<=y;h++)e(this,x.get_Image(h),v);e(this,n,v)}}this._3290();this._2026()}};v.searchText=function(a,d){function e(b){k===v&&(b._4363=!1,b._2650("textSearchFinished"))}function f(b){var d=b.image,u=b.textRegion,H=null;
null!=b.textRegion&&(H=u.searchText(a));if(l===x._10529){if(null==H||0===H.length)H=null;k++;n.progress=k;n.image=d;n.result=H;x._2650("textSearchProgress",n);n.result=null;e(x)}}function g(b){if("abort"!==b.statusText&&l===x._10529){var a=b.image;k++;n.progress=k;n.image=a;n.error=b.errorMessage;x._2650("textSearchProgress",n);n.error="";e(x)}}if(this._10038()){this._4363&&b.pv.te("The text search process is started already.");d=b.pv.e(d,s.WebTextSearchModeEnumJS);b.pv.c(a,RegExp);var h=this._8198.get_FocusedImage();
if(null!=h){var n={result:null,error:""},x=this,k=0,v=0,l=b.WebImagingEnviromentJS.guid();this._10529=l;if(0===d.valueOf()){v=1;n.total=v;this._4363=!0;this._2650("textSearchStarted");var m=this._5420(h,f,g);void 0!==m&&f({image:h,textRegion:m})}else if(h=this._8198.get_Images(),v=h.get_Count(),n.total=v,0!==v){this._4363=!0;this._2650("textSearchStarted");for(var u=0;u<v;u++){var H=h.get_Image(u),m=this._5420(H,f,g);void 0!==m&&f({image:H,textRegion:m})}}}}};v.cancelTextSearch=function(){if(this._4363){this._10529=
null;for(var b in this._2444)this._2444[b].object.abort(),delete this._2444[b];this._4363=!1;this._2650("textSearchFinished")}};v._9910=function(b,a){this.cancelTextSearch();if(null!=this._7378){var d=!1,e=a.actionName;if("clear"===e){for(var f in this._7378){d=!0;break}this._7378=null}else{var g=[];"removeAt"===e?g.push(a.image):"set"===e?g.push(a.previousImage):"removeRange"===e&&(g=a.images);for(e=0;e<g.length;e++)f=g[e].get_Guid(),null!=this._7378[f]&&(d=!0,delete this._7378[f]);0!=g.length&&
l(this)}d&&this._3290()}};v._802=function(){this._5216=!1;this._selectedText=this._9516=this._7378=this._9957=null};v._2467=function(b){m._2467.call(this,b);if(this._1069&&(b.b.equals(this._5971)||!this._1980)&&this._10038()){var d=b.pv,e=b.pc;if(this._1980){var f=this._8198.get_FocusedImage();if(null!=f){var g=this._5420(f),h=this.get_MouseClickCount()+1;if(void 0!==g){if(1<h&&a(g)&&(e=this._79(f,g).transformPoint(e),g.containsPoint(e))){if(2==h){this.set_SelectedRegion(g.getWordSubregion(e));return}if(3==
h){this.set_SelectedRegion(g.getLineSubregion(e));return}if(4===h){this.set_SelectedRegion(g);return}}null!=this._8198.getImageByLocation(d)&&(this._5216=!0,this._9957=d,this._9516=f,b.handled=!0,b.active=!0);this.set_SelectedRegion()}else this.set_Cursor(this._4562)}}}};v._4621=function(b){m._4621.call(this,b);if(this._1069)if(this._1980){var a=b.pc,d=b.pv,e;try{e=this._8198.getImageByLocation(d),null==e&&(e=this._9516)}catch(f){}finally{if(null==e){this._4703(this._4562);return}}var g=this._5420(e);
null==g?(this._4703(this._4562),b.handled=!0,this._5216&&0<this._4972&&(this._6352(a),b.active=!0)):(e=this._79(e,g).transformPoint(a),this._5216||g.containsPoint(e)?this._1980&&this._4703(this._1433):this._4703(this._4562),this._5216&&(3<k._2813._2840(this._9957,d)&&(this.selectTextInViewerSpace(this._9957,d),b.handled=!0,b.active=!0),0<this._4972&&this._6352(a)))}else this._4703(this._4562)};v._8087=function(b){m._8087.call(this,b);if(this._1069){this._5216=!1;var a=this._8198.getImageByLocation(b.pv);
if(null==a)this._4703(this._4562);else{var d=this._5420(a);if(null!=d&&(b=b.pc,a=this._79(a,d).transformPoint(b),d.containsPoint(a)&&this._1980)){this._4703(this._1433);return}}this._4703(this._4562)}};v._6672=function(b){m._6672.call(this,b);var a=this._6354+"x";$(b._10552).on("_8250."+a,{t:this},x)};v._6232=function(){m._6232.call(this);if(this._8198){var b=this._6354+"x";$(this._8198._10552).off("."+b)}};v._10038=function(b){if(this._2111){var a=this._8198;return null!=a&&(null==b&&(a=a._8985,
null!=a&&(b=a._8757)),null!=b)?!b.get_IsBad():!1}return this._2111};v._1547=function(b,a){var d=this._8198._8780(b).invert(),e=a.getTransformFromImageToTextSpace(b.get_Resolution());return k.WebMatrixJS.multiplyMatrix(d,e)};v._79=function(b,a){var d=this._8198._9168(b),e=a.getTransformFromImageToTextSpace(b.get_Resolution());return k.WebMatrixJS.multiplyMatrix(d,e)};v._1490=function(b,a){return a.getTransformFromTextToImageSpace(b.get_Resolution())};v._6352=function(b){var a=this._8198._422(),d=a.x,
e=a.y,f=this._8198._3848();0>b.x?d-=this._4972:b.x>f.width&&(d+=this._4972);0>b.y?e-=this._4972:b.y>f.height&&(e+=this._4972);a.x==d&&a.y==e||this._8198._3675(d,e)};v._8848=function(){var b="",d=0,e;for(e in this._7378){var f=this._7378[e];a(f)&&(0!==d&&(b+="\n"),b+=f.get_TextContent(),d++)}return b};v._3290=function(){this._selectedText=null;this._2650("selectionChanged")};v._9874=function(b){if(null!=this._7378)return this._7378[b.get_Guid()]};v._7723=function(b,a){null==this._7378&&(this._7378=
{});this._7378[b.get_Guid()]=a};v._5420=function(b,e,g){if(null!=b){var h=d(b),x=b.get_Guid();if(void 0===h){var k=function(b){b=b.image.get_Guid();null!=v._2444[b]&&delete v._2444[b]};if(null!=this._2444[x])return;var v=this;this._7503(n("Get text region",b,void 0));b=b.get_Metadata().requestTextRegion(function(b){k(b);var d=b.image;e&&e(b);if(-1!==v._8198.get_Images().indexOf(d)){var g=v._9874(d);null==g||a(g)||(0!==g?f(v,d,g.s,g.e):v._7723(d,b.textRegion),v._selectedText=null,v._2026())}v._508(n("Get text region",
d,void 0))},function(b){"abort"!==b.statusText&&k(b);g&&g(b);b=n("Get text region",b.image,b.errorMessage);v._3182(b)});this._2444[x]=b}return h}};v._8927=function(b,d,e){if(this._10038(e)&&null!=this._7378&&this._1980){if(d=this._9874(e),null!=d)if(a(d)){var f=this._7992.getContext("2d");f.save();la._8821._8607(f,b);f.fillStyle=this.get_SelectionColor();f.beginPath();b=d.get_SelectionRegions();for(var g=0;g<b.length;g++){var h=b[g];this._1490(e,d).transformPoints(h);f.moveTo(h[0].x,h[0].y);f.lineTo(h[1].x,
h[1].y);f.lineTo(h[2].x,h[2].y);f.lineTo(h[3].x,h[3].y);f.lineTo(h[0].x,h[0].y)}f.fill();la._8821._2682(f);f.restore();this._7430=this.getDrawingBox()}else this._5420(e)}else this._7430=k._2813._8313()};this._5735="TextSelection";this._4584="rgba(0,0,255,0.21)";this._1056=new s.WebTextSelectionModeEnumJS(1);this._2444={};this._5216=!1;this._9957=null;this._4363=!1;this._7378=this._9516=this._10529=null;this._1980=!0;this._1433="text";this._4972=5;delete v.initializationStarted;delete v.initializationFinished;
delete v.initializationException;delete v.selectionChanged;delete v.textSearchFinished;delete v.textSearchStarted;delete v.textSearchProgress};b.extend(E,l);a.WebHighlightToolJS=w;a.WebVisualToolJS=l;a.WebRectangularSelectionToolJS=t;a.WebHighlightObjectJS=C;a.WebHighlightObjectsJS=q;a.WebZoomSelectionToolJS=n;a.WebZoomToolJS=x;a.WebMagnifierToolJS=v;a.WebCompositeVisualToolJS=z;a._7816=y;a.WebTextSelectionToolJS=E;var B=function(){var b=B.superclass;b.constructor.call(this);var a=B.prototype;a.set_ActionCursor=
function(a){b.set_ActionCursor.call(this,a);null!=this._7553&&this._4703(a)};a.reset=function(){b.reset.call(this);this._4775=this._7553=null;this._4703(this._4562)};a._2467=function(a){b._2467.call(this,a);a.b.equals(this._5971)&&this._10038()&&(this._7553=a.ps,this._4775=this._8198._422(),this.set_ActionCursor(this._1433),a.handled=!0,a.active=!0)};a._4621=function(a){b._4621.call(this,a);if(null!=this._7553){this._4703(this._1433);var d=this._8198._7035(),e=this._8198._2405(),f=parseInt(e.width),
e=parseInt(e.height),g=a.ps,h=this._8198._588(),n=this._7553.x-g.x,g=this._7553.y-g.y,x=0,k=0;null!=this._4775&&(x=this._4775.x,k=this._4775.y);f=Math.max(0,Math.min(d.width-f+h,x+n));d=Math.max(0,Math.min(d.height-e+h,k+g));this._8198._3675(f,d);a.handled=!0;a.active=!0}else this._4703(this._4562),a.handled=!0};a._8087=function(a){b._8087.call(this,a);this.reset()};this._5735="Pan";this._7553=this._4775=null;this._4562="grab";this._1433="grabbing"};b.extend(B,a.WebVisualToolJS);var D=function(){function a(b){if(null!=
b&&(b=b.get_Metadata(),null!=b))return b._2434}function d(b,a){var e={description:"Get actions",image:b};null!=a&&(e.errorMessage=a);return e}function e(b,a){var d=b.data.t;if(null!=d._2859){var g=a.i.get_Guid();null!=d._2859[g]&&"dc"===a.d&&(delete d._2859[g],f(d))}}function f(b){var a=0,d;for(d in b._2859){a++;break}0===a&&(b._2859=null)}var g=D.prototype,h=D.superclass;h.constructor.call(this);g.focusedActionChanged=function(b,a){};g.get_IsMultipageModeSupported=function(){return!0};g.get_FocusedAction=
function(){return this._3779};g.get_ExecutingAction=function(){return this._3379};g.get_ActionExecutor=function(){return this._10092};g.set_ActionExecutor=function(a){b.pv.c(a,s.WebPageContentActionExecutorJS);this._10092=a};g.findAction=function(a,d){b.pv.c(a,b.WebImageJS);b.pv.p(d);var e=this._4606(a);if(null!=e)for(var f=0;f<e.length;f++){var g=e[f];if(k._2813._5584(d,g._1445))return g}return null};g.setFocusedAction=function(a,d){null!=a&&b.pv.c(a,b.WebImageJS);null!=d&&b.pv.c(d,s.WebPageContentActionMetadataJS);
if(this._3779!==d){var e={previousAction:this._3779,newAction:d};this._3379!=d&&this.setExecutingAction(null,null);this._10312=a;this._3779=d;this._2650("focusedActionChanged",e);return!0}return!1};g.setExecutingAction=function(a,d){null!=a&&b.pv.c(a,b.WebImageJS);null!=d&&b.pv.c(d,s.WebPageContentActionMetadataJS);return this._3379!==d?(null!=d&&this.setFocusedAction(a,d),this._3379=d,this._10312=a,!0):!1};g.executeAction=function(a,d){b.pv.c(a,b.WebImageJS);b.pv.c(d,s.WebPageContentActionMetadataJS);
return null!=this._10092?this._10092.executeAction(this._8198,a,d):!1};g._9910=function(b,a){if(null!=this._2859){var d=a.actionName,e=[];if("removeAt"===d)e.push(a.image);else if("set"===d)e.push(a.previousImage);else if("removeRange"===d||"clear"===d)e=a.images;for(d=0;d<e.length;d++){var g=e[d];g===this._10312&&(this._3379=this._10312=this._3779=null);delete this._2859[g.get_Guid()]}f(this)}};g._802=function(){this._2859=this._3379=this._10312=this._3779=null;this._7801={}};g._2467=function(b){h._2467.call(this,
b);if(this._1069&&b.b.equals(this._5971)&&this._10038()&&!b.handled){var a=this._8198.getImageByLocation(b.pv);if(null!=a){var d=this._8198._6819(b.pc,a),d=this.findAction(a,d);this.setFocusedAction(a,d);null!=d&&(this.setExecutingAction(a,d),b.handled=!0)}}};g._4621=function(b){h._4621.call(this,b);if(this._1069&&!b.handled)if(0===b.b.valueOf()||b.b.equals(this._5971)&&null!=this._3779){var a=this._8198.getImageByLocation(b.pv);if(null!=a){var d=this._8198._6819(b.pc,a),d=this.findAction(a,d);this.setFocusedAction(a,
d)&&this._4703(null==d?this._4562:this._1433);b.handled=null!=d}}else null!=this._3779&&(this.setFocusedAction(null,null),this._4703(this._4562))};g._8087=function(b){h._8087.call(this,b);if(this._1069&&!b.handled&&b.b.equals(this._5971)){var a=this._8198.getImageByLocation(b.pv);if(null!=a){var d=this._8198._6819(b.pc,a),d=this.findAction(a,d);d!=this._3379&&(d=null);this.setExecutingAction(a,null);null!=d&&(this.executeAction(a,d),b.handled=!0);null!=this._3379&&(this._3379=null)}}};g._6672=function(b){h._6672.call(this,
b);var a=this._6354+"x";$(b._10552).on("_8250."+a,{t:this},e)};g._6232=function(){h._6232.call(this);if(this._8198){var b=this._6354+"x";$(this._8198._10552).off("."+b)}};g._10038=function(b){if(this._2111){var a=this._8198;return null!=a&&(null==b&&(a=a._8985,null!=a&&(b=a._8757)),null!=b)?!b.get_IsBad():!1}return this._2111};g._8119=function(b){if(null!=this._2859)return this._2859[b.get_Guid()]};g._8725=function(b,a){null==this._2859&&(this._2859={});this._2859[b.get_Guid()]=a};g._4606=function(b){if(null!=
b){var e=a(b),f=b.get_Guid();if(void 0===e){if(null!=this._7801[f])return;var g=this;this._7503(d(b));b=b.get_Metadata().requestActions(function(b){var a=b.image.get_Guid();null!=g._7801[a]&&delete g._7801[a];b=b.image;-1!==g._8198.get_Images().indexOf(b)&&(a=g._8119(b),null!=a&&g._8725(b,a));g._508(d(b))},function(b){b=d(b.image,b.errorMessage);g._3182(b)});this._7801[f]=b}return e}};this._5735="DocumentNavigationTool";this._3379=this._10312=this._3779=null;this._10092=new s.WebNavigationActionExecutorJS;
this._1433="pointer";this._2859=null;this._7801={};delete g.focusedActionChanged};b.extend(D,a.WebVisualToolJS);var F=function(){};F._522=function(){};F._522={RectangularSelection:a.WebRectangularSelectionToolJS,HighlightTool:a.WebHighlightToolJS,ZoomSelection:a.WebZoomSelectionToolJS,Pan:B,Zoom:a.WebZoomToolJS,Magnifier:a.WebMagnifierToolJS,TextSelection:a.WebTextSelectionToolJS,DocumentNavigation:D};F._8097=function(){};F._8097={};F.registerTool=function(b,a){d(b,a);F._8097[b]=a};F.unregisterTool=
function(b){f(b);delete F._8097[b]};F.createToolById=function(d){f(d);var e=F._522[d];null==e&&(e=F._8097[d]);null==e&&b.pv.te("WebVisualToolJS element with '"+d+"' ID does not registered.");d=new e;b.pv.c(d,a.WebVisualToolJS,"Created element is not derived from WebVisualToolJS class.");return d};F.getAllStandardRegisteredIds=function(){var b=[],a;for(a in F._522)b.push(a);return b};F.getAllRegisteredIds=function(){var b=F.getAllStandardRegisteredIds(),a;for(a in F._8097)b.push(a);return b};F._4179=
function(b,a){d(b,a);F._522[b]=a};a.WebPanToolJS=B;a.WebDocumentNavigationToolJS=D;a.WebVisualToolFabricJS=F})(e.VisualTools);var d=function(a,f,h){function r(b){if(b._4362){for(var a=b._3807(),d=0;d<a.length;d++){var e=b._4362[a[d]];if(null==e||3>e.s)return!1}return!0}return!1}function l(b){if(null!=b)for(var a=0;a<b.length;a++)if(3<=b[a].s)return!0;return!1}function t(b,a){if(null==C(a,b).t)a._3541=!1,a._3431();else{null!=a._776&&(a._776=null);var d=a._496(!0),d=k._2813._7207(d);a._6589=a._6360();
a._3541=!1;a._4362=[];if(null!=b.fileId){a._4362[0]={locAtCanvas:{x:0,y:0},loc:{x:0,y:0},s:0};var f=new Image;f.onload=function(){if(!a._526&&0!==f.width&&0!==f.height){a._8508._9234?a._432():a._8508.clearRect(d.x,d.y,d.width,d.height);a._5861();var b=a._10574();a._8342();var g=a._4455(),h=g.width,g=g.height;e._8821._8607(a._8508,b);a._8508.drawImage(f,0,0,h,g);e._8821._2682(a._8508);a._4778();a._4362[0].s=3;a._8177(!0);a._8574()}};f.src=b.fileId;a._4362[0].image=f;a._4362[0].s=2}a._5021=1;a._1320=
1;a._1353=1;a._2650("imagePaintingException",b)}}function w(b,a){if(a.image!==b._8757||a.scale.x!==b._8624||a.scale.y!==b._3726||b._3184!==a.size.width||b._3666!==a.size.height)return!1;var d=b._9712;return b._3122.equals(a.renderingSettings)&&(null!=d&&d.equals(a.decodingSettings)||null==d&&d==a.decodingSettings)}function C(b,a){var d,e=-1;if(w(b,a))for(var f=a.pos,g=0;g<b._4362.length;g++){var h=b._4362[g].loc;if(h.x===f.x&&h.y===f.y){d=b._4362[g];e=g;break}}return{t:d,i:e}}var q=d.prototype;q._2867=
function(b,a){};q._6831=function(b,a){};q._8472=function(){return this._3638};q._8688=function(b){this._3638!==b&&(this._3638=b,this._7439=!0,this._8384())};q._6679=function(){return this._4423};q._1573=function(b){this._4423=b};q._2297=function(){return{x:this._8624,y:this._3726}};q._3444=function(b,a){if(this._8624!==b||this._3726!==a)this._8624=b,this._3726=a,this._7439=!0,this._232()};q._2662=function(){return{width:this._3184,height:this._3666}};q._8837=function(b,a){if(this._3666!==a||this._3184!==
b)this._3184=b,this._3666=a,this._232()};q._772=function(){return this._7320};q._10054=function(b){this._7320=b};q._10214=function(){return this._10258};q._4880=function(b){this._10258=b};q._4688=function(){(null==this._6589||this._7439)&&this._6360();return{x:this._6589.x,y:this._6589.y}};q._5241=function(b){k._2813._9602(this._3908,b)||(this._3908=b,this._7439=!0,this._8384())};q._8638=function(b){k._2813._9602(this._84,b)||(this._84=b,this._8384())};q._4173=function(){return this._6055};q._7014=
function(b){b===this._6055||null!=b&&b.equals(this._6055)||(this._6055=b,this._8384())};q._2655=function(b){this._2663.equals(b)||(this._2663=b,this._7439=!0,this._8384())};q._10596=function(b){this._8757=b;this._7439=!0;this._776=null;this._1353=0;this._9141=3;this._8177(!1)};q._3535=function(){return this._8757.get_IsBad()};q._9926=function(){return this._1659&&!this._3535()};q._8177=function(b){this._1659!==b&&(this._1659=b)&&(b={rect:this._496(!0),image:this._8757},this._2650("_2867",b))};q._3593=
function(){return null==this._776&&0===this._1353};q._6360=function(){var b=this._4455(!0),a=b.width,b=b.height,d=this._3908.x,e=this._3908.y,f=this._3908.width,g=this._3908.height,a=a<f?this._2663.contains(4)?d:this._2663.contains(8)?d+f-a:d+(f-a)/2:d,b=b<g?this._2663.contains(1)?e:this._2663.contains(2)?e+g-b:e+(g-b)/2:e;this._6589={x:Math.round(a),y:Math.round(b)}};q._4371=function(){this._7117++};q._10087=function(b){null==b&&(b=!1);b?this._7117=0:this._7117--;0===this._7117?this._1103():0>this._7117&&
(this._7117=0)};q._675=function(){return 0!==this._7117};q._7482=function(b){var a=this._496();return k._2813._4789(a,b)};q._2844=function(){this._3452=!1;var b=this._496();return k._2813._2466(b,this._84)?this._3452=!0:!1};q._1103=function(){if(!this._526&&null!=this._8757.get_Size()&&0===this._7117){var b=this._84;if(0!==b.width&&0!==b.height){var a=this._3535();if(this._7439||a)this._6360(),this._7439=!1,a&&this._432();b=this._2844();1<this._9141&&(a?null==this._4362&&this._3849():(2===this._9141&&
this._4274(),this._3849()));a=0<this._9141||0===this._9141&&this._8508._9234;this._776&&(this._776.u=a);this._4362&&(this._4362.u=a);b&&(this._2811=this._1545=!1,this._3431());this._9141=0}else this._3452=!1}};q._7144=function(b){null==b&&(b=!1);var a=0,d=0,e=this._8757.get_Size();null!=e&&(a=e.width,d=e.height,this._8757.get_IsBad()||0===a||0===d)&&(d=this._3965.height,e=this._3908.height,a=Math.min(this._3965.width,this._3908.width),d=Math.min(d,e));!b||90!==this._3638&&270!==this._3638||(b=a,a=
d,d=b);return{width:a,height:d}};q._4455=function(b){null==b&&(b=!1);var a=0,d=0,e=this._8757.get_Size();null!=e&&(a=e.width,d=e.height,this._8757.get_IsBad()||0===a||0===d?(d=this._3965.height*this._3726,e=this._3908.height,a=Math.min(this._3965.width*this._8624,this._3908.width),d=Math.min(d,e)):(a*=this._8624,d*=this._3726));!b||90!==this._3638&&270!==this._3638||(b=a,a=d,d=b);return{width:a,height:d}};q._496=function(b){var a=this._4455(!0),d=this._4688();null==b&&(b=!1);a={x:d.x,y:d.y,width:a.width,
height:a.height};b&&(a=k._2813._4585(a,this._84),a.x-=this._84.x,a.y-=this._84.y);return a};q._8999=function(b){if(!this._3452)return k._2813._8313();var a=this._8983(b);return{x:a.x,y:a.y,width:b.width*this._8624,height:b.height*this._8624}};q._8983=function(b){if(!this._3452)return{x:0,y:0};var a=this._4688();return{x:a.x+(b.x-this._84.x)*this._8624,y:a.y+(b.y-this._84.y)*this._3726}};q._3849=function(){var b=this._3184,a=this._3666,d=this._8624,e=this._3726,f=this._4455(),g=f.width,h=f.height;
this._4362=[];var f=b/d,k=a/e,l=Math.floor(h/a),m=Math.floor(g/b),r=m,q=l,g=Math.round(g-b*m);Math.round(g/d);0<g&&r++;g=Math.round(h-a*l);Math.round(g/e);0<g&&q++;this._5021=r;this._1320=q;g=q*r;for(l=h=0;l<q;){for(var m=l*a,t=l*k,s=r+h;h<s&&h<g;)this._4362[h]={locAtCanvas:{x:(h-l*r)*b,y:m},loc:{x:(h-l*r)*f,y:t},s:0},h++;l++}this._4362.s={x:d,y:e};this._1353=0};q._4274=function(){if(null!=this._4362)if(null==this._776){for(var b=0,a=0;a<this._4362.length;a++)3<=this._4362[a].s&&b++;0<b&&(this._776=
this._4362)}else{for(var d=this._3807(),e=b=0,a=0;a<d.length;a++)d[a]<this._4362.length&&3<=this._4362[d[a]].s&&b++,d[a]<this._776.length&&3<=this._776[d[a]].s&&e++;a=this._8624;b>e?this._776=this._4362:b===e&&0!==b&&Math.abs(this._4362.s.x-a)<Math.abs(this._776.s.x-a)&&(this._776=this._4362)}else this._776=null};q._621=function(){return l(this._776)||l(this._4362)};q._10574=function(){var b=new k.WebMatrixJS,a=this._4455(),d=this._4688(),e=d.x,d=d.y,f=a.width,a=a.height;b.rotate(this._3638);switch(this._3638){case 0:b.translate(e,
d);break;case 90:b.translate(a+e,d);break;case 180:b.translate(f+e,a+d);break;case 270:b.translate(e,f+d)}b.translate(-this._84.x,-this._84.y);b._4316=Math.round(b._4316);b._5407=Math.round(b._5407);return b};q._2351=function(){var b=this._10574(),a=b._4316,d=b._5407,e=this._8624,f=this._3726;if(90===this._3638||270===this._3638)var g=e,e=f,f=g;b.scale(e,f);b._4316=Math.round(a);b._5407=Math.round(d);return b};q._3431=function(){if(!this._526){var b=this._3807();null!=this._776&&this._8335(b);this._3085();
if(!this._2811){for(var a=[],d=[],e=0;e<b.length;e++){var f=b[e];if(f<this._4362.length){var g=this._4362[f].s;0===g?d.push(f):3<=g&&a.push(f)}}0!=a.length&&this._86(a);this._3541||0!==d.length&&this._4264(d[0])}}};q._8335=function(b){var a=this._776;if(a.u){var d=this._8508,f=this._4362,g=[];if(null!=f)for(var h=0;h<b.length;h++){var k=f[b[h]];if(3!==k.s){var l=k.locAtCanvas.x,m=k.locAtCanvas.y;g.push({x:l,y:m,w:this._3184,h:this._3666})}}l=g.length;l===b.length&&0!==l&&(b=g[0].x,f=g[0].y,g=[{x:b,
y:f,w:g[l-1].x+g[l-1].w-b,h:g[l-1].y+g[l-1].h-f}],l=1);if(0!==l){l=this._2297();b=this._4455();f=l.x/a.s.x;k=l.y/a.s.y;this._432();this._5861();this._8342();l=this._10574();e._8821._8607(d,l);d.save();d.beginPath();for(h=0;h<g.length;h++)l=g[h],d.moveTo(l.x,l.y),d.lineTo(l.x+l.w,l.y),d.lineTo(l.x+l.w,l.y+l.h),d.lineTo(l.x,l.y+l.h),d.lineTo(l.x,l.y);d.clip();for(g=0;g<a.length;g++)if(m=a[g],h=m.image,null!=h&&0!==h.width&&0!==h.height){var r=h.width,q=h.height,l=Math.floor(m.locAtCanvas.x*f),m=Math.floor(m.locAtCanvas.y*
k),r=Math.ceil(r*f),q=Math.ceil(q*k);r>b.width&&(r=b.width);q>b.height&&(q=b.height);d.drawImage(h,l,m,r,q)}d.restore();e._8821._2682(d);this._4778();this._8177(!0)}a.u=!1}};q._86=function(b){var a=this._4362;if(a.u){var d=this._1545;this._432();this._5861();d||this._8342();var d=this._8508,f=this._10574();e._8821._8607(d,f);if(this._3535())b=a[0],f=this._4455(),d.drawImage(b.image,0,0,f.width,f.height);else for(var f=a.length,g=0;g<b.length;g++){var h=b[g],k=a[h],l=k.locAtCanvas;d.drawImage(k.image,
l.x,l.y);4===k.s&&(this._1353++,this._2650("imageTilePainted",{tileCount:f,renderedTileCount:this._1353,tileIndex:h,image:this._8757}),k.s=3)}e._8821._2682(d);this._4778();a.u=!1;this._8177(!0);r(this)&&this._8574()}};q._432=function(){var b=this._8508;if(b._9234){var a=b.canvas;b.clearRect(0,0,a.width,a.height);b._9234=!1}};q._3807=function(){if(null==this._4362)return[];var b=this._5021,a=this._1320,d=this._3184,e=this._3666,f={x:this._84.x,y:this._84.y,width:this._84.width,height:this._84.height};
if(0===f.width||0===f.height)return[];var g=this._10574();g.translate(this._84.x,this._84.y);g.invert();g.transformRectangle(f);f=k._2813._8255(f);0>f.x&&(f.x=0);0>f.y&&(f.y=0);var g=Math.floor(f.y/e),h=e-f.y%e;0==f.y&&(h=0);var l=0;0<h&&h<=e&&0!=f.y&&(l=1);f.height-=h;0>f.height&&(f.height=0);l+=Math.floor(f.height/e);0<f.height%e&&l++;l>a&&(l=a);a=Math.floor(f.x/d);h=d-f.x%d;0==f.x&&(h=0);e=0;0<h&&h<=d&&0!=f.x&&(e=1);f.width-=h;0>f.width&&(f.width=0);e+=Math.floor(f.width/d);0<f.width%d&&e++;e>
b&&(e=b);d=g+l;f=a+e;l=this._4362.length;for(e=[];g<d;g++)for(h=a;h<f;h++){var m=g*b+h;m<l&&e.push(m)}return e};q._4264=function(b){function a(d,f,g){s._439(d,e,b)}function d(b,a,f){b.blocked?(s._3541=!1,e.s=0,s._3431()):t(b,s)}var e=this._4362[b],f=this._8757,g=e.loc.x,h=e.loc.y,k=this._3184,l=this._3666,m=this._2297();this._9720();var r=this._3122,q=this._9712,s=this;e.s=1;g={x:g,y:h,width:k,height:l,scale:m,format:this._10258,renderingSettings:r,decodingSettings:q};this._7320?f.renderTileWithNeighbours(g,
a,d):(g.useCache=this._7320,f.renderTile(g,a,d));this._3541=!0};q._439=function(b,a,d){var f=null==b.a;if(f){var g=this._4423;if(null!=g){var h=b.image,k=g._9197(b.pos,b.size,b.scale,h,b.renderingSettings,b.decodingSettings);g.containsImageData(h,k)||g.addImageData(h,k,b.fileId)}}if(this._526)this._3541=!1,a.s=0;else{var l,m;f?(d=C(this,b),l=d.t,m=d.i):(l=a,m=d);if(null==l)a.s=0;else{a=function(){if(q._526)l.s=0;else if(null!=q._4362)if(w(q,b)){var a=l.locAtCanvas,d=s.width,g=s.height,h=q._8508;if(0!==
d&&0!==g){q._5861();var k=q._10574(),x;0===q._1353&&null==q._776?(q._432(),q._8342(),e._8821._8607(h,k)):(e._8821._8607(h,k),h.clearRect(a.x,a.y,d,g),x={x:a.x,y:a.y,width:d,height:g},q._8342(x));h.drawImage(s,a.x,a.y);e._8821._2682(h);q._4778(x);l.s=3;0===q._1353&&f&&(q._4362.u=!1);a=q._4362.length;q._1353++;q._2650("imageTilePainted",{tileCount:a,renderedTileCount:q._1353,tileIndex:m,image:q._8757});q._8177(!0);q._1353===a&&(q._776=null);r(q)&&(q._4362.u=!1,q._8574())}}else l.s=0,f&&q._3431()};var q=
this,t=b.fileId;/^data:image\/[a-zA-Z]+;base64,/.test(t)||(t+="?"+b.image.gi());var s=new Image,ca=0;s.onload=a;s.onerror=function(){if(10>ca)setTimeout(function(){s.src=t},250),ca++;else{l.s=0;if(!f){var a=q._4423;if(null!=a){var d=b.image,e=a._9197(b.pos,b.size,b.scale,d,b.renderingSettings,b.decodingSettings);a._3142(d.get_Guid(),e)}}q._3431()}};s.src=t;l.image=s;l.s=2;s.complete&&(s.onload=null,s.onerror=null,a())}this._3541=!1;f&&this._3431()}};q._3085=function(){var b=this._4423;if(null!=b){var a=
this._8757,d=this._4362;if(null!=d){var e=this._2297(),f={width:this._3184,height:this._3666};this._9720();for(var g=this._3122,h=this._9712,k=0;k<d.length;k++){var l=d[k];if(0===l.s){var m=b._9197(l.loc,f,e,a,g,h),m=b.getImageData(a,m);null!=m&&(m={fileId:m,image:a,pos:l.loc,scale:e,size:f,renderingSettings:g.clone(),a:!1},null!=h&&(m.decodingSettings=h.clone()),this._439(m,l,k))}}}}};q._5861=function(){this._1545||(this._2650("imagePainting",{image:this._8757}),this._1545=!0)};q._8574=function(){this._2811||
(this._2650("imagePainted",{image:this._8757}),this._2811=!0)};q._9720=function(){var b=this._8757,a=b.get_RenderingSettings(),d=b.get_DecodingSettings(),b={i:b,r:a,d:d};this._2650("_6831",b);a=b.r;d=b.d;this._3122=a;this._9712=d};q._2650=function(b,a){$(this).triggerHandler(b,a)};q._10565=function(a){b.pv.c(a,d);if(null!=a._4362){var e=$.extend(!0,{},a._4362);e.length=a._4362.length;a._8757.get_IsBad()?(this._4362=e,this._776=null,this._1320=this._5021=1):(this._776=e,this._4362=null)}};q._7150=
function(){this._9111();var b=this._4362;if(null!=b)for(var a=0;a<b.length;a++)b[a].s=0;this._1353=0};q._9111=function(){this._8177(!1);0===this._9141&&(this._9141=1)};q._8384=function(){this._9111();this._1103()};q._232=function(){this._8177(!1);3!==this._9141&&(this._9141=2);this._1353=0;this._1103()};q._8342=function(b){if(null!=this._6055){var a=this._8508;a.save();null==b&&(b=this._496(!0));a.fillStyle=this._6055._5091;a.beginPath();a.rect(b.x,b.y,Math.floor(b.width),Math.floor(b.height));a.fill();
a.restore()}};q._4778=function(b){if(null!=this._6055){var a=this._6055._4556;if(0!==a){var d=this._84.x,e=this._84.y,f=this._8508;f.save();var g=this._496(),h={x:g.x+a/2-d,y:g.y+a/2-e,width:Math.ceil(g.width-a),height:Math.ceil(g.height-a)};null!=b&&(this._10574().transformRectangle(b),f.beginPath(),f.rect(b.x,b.y,b.width,b.height),f.clip());b=!0;if(0>h.width||0>h.height)b=!1,h=g,h.x-=d,h.y-=e;f.lineWidth=a;f.beginPath();f.rect(h.x,h.y,h.width,h.height);b?(f.strokeStyle=this._6055._578,f.stroke()):
(f.fillStyle=this._6055._578,f.fill());f.restore()}}};q._8662=function(){$(this).off();this._84=k._2813._8313();this._9141=0;this._3452=!1;this._526=this._7439=!0;this._1353=this._7117=0;if(null!=this._4362)for(var b=0;b<this._4362.length;b++){var a=this._4362[b];3===a.s&&(a.s=4)}};q._4319=function(){this._526=!1};this._7992=a;this._8508=a.getContext("2d");this._8757=f;this._6589=null;this._3666=this._3184=this._3726=this._8624=0;this._7320=!0;this._10258=new b.WebImageTypeEnumJS(1);this._9712=this._3122=
this._4423=null;this._1320=this._5021=this._3638=0;this._776=this._4362=null;this._3541=!1;this._1353=0;this._3908=k._2813._8313();this._84=k._2813._8313();this._2663=new s.WebImageAnchorTypeEnumJS(0);this._9141=this._7117=0;this._6055=null;this._3965=h;this._1659=!1;this._526=!0;this._3452=this._7439=!1;this._6354=b.WebImagingEnviromentJS.guid();this._2811=this._1545=!0;delete q._2867;delete q._6831},a=function(f){function m(b,a,d){null==d&&(d=!0);var e={x:a.pageX,y:a.pageY},f=b._5955(e);b=b._5792(f);
if(d){d=0;switch(a.button){case 0:d=1;break;case 1:d=4;break;case 2:d=2;break;case 3:d=8;break;case 4:d=16}d=new s.WebMouseButtonsEnumJS(d)}else d=new s.WebMouseButtonsEnumJS(a.buttons);return{ps:e,pc:f,pv:b,e:a,b:d,handled:!1,active:!1}}function h(b,a){var d=b.data.v,e;e=null!=a?a.get_Images():d.get_Images();for(var f=0;f<e.get_Count();f++)C(d,e.get_Image(f));d._2650("_1242",a)}function r(b,a){var d=b.data.v,e;e=null!=a?a.get_Images():d.get_Images();for(var f=0;f<e.get_Count();f++)w(d,e.get_Image(f));
f=-1;null!=a?(f=a._10548,-1===f&&0<e.get_Count()&&(f=0)):0<e.get_Count()&&(f=0);d._10548=f;d._2650("_7340",a);d._4004()}function l(b){b.data.v.set_MasterViewer()}function t(b,a){var d=b.data.v,e=[],f=[];switch(a.actionName){case "set":e.push(a.previousImage);case "insert":f.push(a.image);break;case "insertRange":f=a.images;break;case "removeAt":e.push(a.image);break;case "clear":case "removeRange":e=a.images}for(var g=0;g<f.length;g++){var h=f[g];null!=d._3122&&h.set_RenderingSettings(d._3122.clone());
w(d,h)}for(var f=d.get_ImageCacheManager(),k=null!=f&&d.get_SyncCacheWithImages(),g=0;g<e.length;g++)h=e[g],C(d,h),k&&f.contains(h)&&f.clearImageCache(h);d._2650("_9908",a)}function w(b,a){var e="."+b._6354,f={v:b};if(null==b._1983)$(a.evm).on("icd"+e,f,q);b._8022[a.get_Guid()]=new d(b._3792,a,b._3965)}function C(b,a){var d=a.get_Guid();b._8022[d]._8662();delete b._8022[d];$(a.evm).off("."+b._6354);qa(b,a)}function q(b,a){var d=b.data.v,e=a.i;if("dc"===a.d){var f=d.get_ImageCacheManager();null!=f&&
f.contains(e)&&f.clearImageCache(e)}f=d.get_FocusedImage();e===f&&E(d);f=d._8022[e.get_Guid()];null!=f&&(f._10596(e),-1!==d._7614.indexOf(f)&&(ka(d),d._4004()));d._2650("_8250",a)}function n(b,a){var d=b.data.v,e=d._10548,f=d._1399(a);d._2650("_9304",a);f&&d._4004();d._10548!==e&&d._2650("focusedIndexChanged",{newFocusedIndex:d._10548,previouslyFocusedIndex:e})}function x(b){b=b.data.v;b.get_Images().setRenderingSettings(b._3122.clone())}function v(b,a){var d=b.data.v,e=a.newFocusedIndex;-1!==e&&
e!==d._10548&&d.set_FocusedIndex(e)}function z(b,a){b.data.v.set_ImageRotationAngle(a)}function y(b,a){var d=b.data.v,e;for(e in d._8022)d._8022[e]._1573(a);d._2650("_940",a)}function E(b,a){var d;null!=b._8985&&(d=b._8985._8757);d!==a&&null!=b._5424&&b._5424.reset()}function B(b){b._6200="fi"}function D(b,a){var d=b._6200;if(null==d||"fi"===d){if(null!=b._8985&&b.get_IsAutoScrollToFocusedImageEnabled()){var d=b._8985._496(),e=0,f=0;b._3990?(null==a&&(a=b._5909()),f=(d.height-a.height)/2,e=d.x+(d.width-
a.width)/2,f=d.y+f):(e=d.x,f=d.y);b._3675(e,f)}}else b._3675(d.x,d.y)}function F(b,a){var d=b._887(a),e=b._1416,f=d.b,g=b._3848(),h=Math.max(g.width,f.width),f=Math.max(g.height,f.height);if(e.width!==h||e.height!==f)e=b._10294,null!=e&&(g={width:h,height:f},b._1416=g,e.css(g),e=b._6338,b._5774&&$(e).css("overflow-x","auto"),b._6391&&$(e).css("overflow-y","auto"),g=b._3848(),h<=g.width&&b._5774&&(e[0].scrollLeft=0,$(e).css("overflow-x","hidden")),f<=g.height&&b._6391&&(e[0].scrollTop=0,$(e).css("overflow-y",
"hidden")));return d.r}function ba(b,a){for(var d=0;d<b._7614.length;d++)b._7614[d]._8662();b._8985=null;b._7614=[]}function J(b,a){ca(b);var d=b._9918;if(null!=d)for(var e=d.width,f=d.width,g=b._10294,h=0;h<b._7614.length;h++){var k=b._7614[h],l=k._8757.get_Guid();if(k._3593()){var m=a[h];null==b._372[l]?(d=$(b._9918).clone(),k={position:"absolute","pointer-events":"none"},$(d).css(k),$(d).insertAfter(g),b._372[l]=d):(d=b._372[l],d[0].src!==b._9918.src&&(d[0].src=b._9918.src));k=e;l=f;k>m.width&&
(k=m.width);l>m.height&&(l=m.height);k={top:m.y+(m.height-l)/2,left:m.x+(m.width-k)/2,width:k,height:l};$(d).css(k)}}}function qa(a,d){var e;e=b.pv.iss(d)?d:d.get_Guid();var f=a._372[e];null!=f&&($(f).remove(),delete a._372[e])}function ca(b){var a=[];if(null!=b._9918)for(var d=0;d<b._7614.length;d++)a.push(b._7614[d]._8757.get_Guid());for(var e in b._372)-1===a.indexOf(e)&&qa(b,e)}function Q(b,a,d,e,f){a._4371();a._8688(b._3638);a._1573(b.get_ImageCacheManager());a._8837(b._3184,b._3666);a._10054(b._7320);
a._4880(b._10258);var g=a._8757;null!=g&&(g=S(b,g),a._3444(g.x,g.y));a._5241(d);null==e&&(e=b._5909());a._8638(e);a._2655(b._2663);a._7014(f);a._4319();a._10087()}function S(b,a){var d=b._1000/100,e=1,f=1,g=b._2383(a),h=96/g.rx,g=96/g.ry,k=b._6223/96,l=b._3789/96;switch(b._1234.valueOf()){case 5:f=e=1;break;case 1:case 0:case 2:e=d*h*k;f=d*g*k;break;case 4:e=h*k;f=g*l;break;case 3:e=d*h*k,f=d*g*l}return{x:e,y:f}}function P(b,a){var d={v:b};$(a).on("imagePainting imageTilePainted imagePainted imagePaintingException",
d,K);$(a).on("_2867",d,M);$(a).on("_6831",d,N)}function K(b,a){var d=b.data.v,e=b.type;"imagePainting"!==e&&"imagePaintingException"!==e||qa(d,this._8757);d._2650(e,a)}function M(b,a){var d=b.data.v,e=a.rect;this===d._8985&&(e=null);d._9600(e,this._8757)}function N(b,a){b.data.v._2650(b.type,a)}function nb(b,a){a.active?b._10644||(b._4875(b._10294),b._7391(document),b._10644=!0):b._10644&&(b._4875(document),b._7391(b._10294),b._10644=!1)}function G(b){var a="";window.PointerEvent?a+=" pointerdown."+
b+" MSPointerDown."+b:("ontouchstart"in window&&(a+=" touchstart."+b),a+=" mousedown."+b);return a}function I(b){var a="";window.PointerEvent?a+=" pointermove."+b+" MSPointerMove."+b:("ontouchstart"in window&&(a+=" touchmove."+b),a+=" mousemove."+b);return a}function ja(b){var a="";window.PointerEvent?a+=" pointerup."+b+" MSPointerUp."+b:("ontouchstart"in window&&(a+=" touchend."+b),a+=" mouseup."+b);return a}function O(b){var a=b._7761,d=a.clientWidth,a=a.clientHeight;b._4586.width!=d||b._4586.height!=
a?(b._4586={width:d,height:a},b._4365=1):(0<b._4365&&4>b._4365&&b._4365++,4===b._4365&&(b._4365=0,fa(b)))}function fa(b){b._4804();var a=b._3848(),d=a.width,e=a.height,f;for(f in b._8022)b._8022[f]._8177(!1);null!=b._7428&&(b._7428.save(),b._7428._9234=!0);b._3295&&(b._3295.height=e,b._3295.width=d);b._3792&&(b._3792.height=e,b._3792.width=d);null!=b._7428&&b._7428.restore();b._4586=a;b._4004()}function ta(b){b=b.data.v;var a=b._5909();if(null!=b._8985&&!k._2813._9602(a,b._8985._84)){T(b._3792);T(b._3295);
for(var d=0;d<b._7614.length;d++)b._7614[d]._4371(),b._7614[d]._8638(a);if(0===b._7117)for(d=0;d<b._7614.length;d++)b._7614[d]._10087()}}function T(b){null!=b&&b.getContext("2d").clearRect(0,0,b.width,b.height)}function ua(b,a){$(a._9052).on("changed."+b._6354,function(){if(b._1751()||b._311)ka(b),b._9043()})}function va(b,a){$(a._9052).on("changed."+b._6354,function(){b._1751()&&(ka(b),b._9043())})}function ka(b){for(var a=0;a<b._7614.length;a++)b._7614[a]._9111()}var p=a.prototype;p.focusedIndexChanged=
function(b,a){};p.imageInfoLoading=function(b,a){};p.imageInfoLoaded=function(b,a){};p.imageInfoLoadingException=function(b,a){};p.imagePainting=function(b,a){};p.imageTilePainted=function(b,a){};p.imagePainted=function(b,a){};p.imagePaintingException=function(b,a){};p.zoomChanged=function(b,a){};p.visualToolChanged=function(b,a){};p.imageRotating=function(b,a){};p.imageRotated=function(b,a){};p.disposed=function(b){};p._9908=function(b,a){};p._9304=function(b,a){};p._8250=function(b,a){};p._1242=
function(b,a){};p._7340=function(b,a){};p._9988=function(b,a){};p._940=function(b,a){};p.get_Images=function(){this._4804();var b=this._1983;return null==b?this._258:b.get_Images()};p.get_VisualTool=function(){this._4804();return this._5424};p.set_VisualTool=function(a){this._4804();null!=a&&b.pv.c(a,ob.WebVisualToolJS);if(this._5424!==a){var d=this._5424;null!=this._5424&&(this._5424._6232(),this._5424=null);null!=a&&(this._5424=a,a.reset(),a._6672(this),0!==this._7117&&a.set_IsEnabled(!1));this._2650("visualToolChanged",
{visualTool:a,previousVisualTool:d})}};p.get_MasterViewer=function(){this._4804();return this._1983};p.set_MasterViewer=function(d){this._4804();if(d!==this&&this._1983!==d){if(null!=d){b.pv.ic(d,a)||b.pv.ic(d,e.WebThumbnailViewerJS)||b.pv.tae();d._1983===this&&d.set_MasterViewer();for(var f=d;null!=(f=f._1983);)f===this&&b.pv.te("MasterViewer cannot refers to itself.")}this._1497();this._1983=d;this._7982()}};p.get_CenterImage=function(){this._4804();return this._3990};p.set_CenterImage=function(a){this._4804();
b.pv.b(a);this._3990!==a&&(this._3990=a)&&(B(this),0===this._7117&&null!=this._8985&&D(this))};p.get_TileWidth=function(){b.pv.te("This property is obsolete from version 8.8. Use the 'get_TileSize' property instead.")};p.get_TileHeight=function(){b.pv.te("This property is obsolete from version 8.8. Use the 'get_TileSize' property instead.")};p.get_TileSize=function(){return{width:this._3184,height:this._3666}};p.set_TileSize=function(a,d){this._4804();var e,f;null==d?(e=a.width,f=a.height):(e=a,f=
d);b.pv.n(e,f);32>e&&(e=32);2048<e&&(e=2048);32>f&&(f=32);2048<f&&(f=2048);if(e!==this._3184||f!==this._3666)this._3184=e,this._3666=f,this._9043()};p.get_FocusedIndex=function(){this._4804();return this._10548};p.set_FocusedIndex=function(a){b.pv.n(a);(0>a||a>this.get_Images().get_Count()-1)&&b.pv.toe();var d=this._10548;if(a!==d){this._10548=a;if(null!=this._1983)try{this._1983.set_FocusedIndex(a)}catch(e){}this._4578(d,a);this._2650("focusedIndexChanged",{newFocusedIndex:a,previouslyFocusedIndex:d})}};
p.get_Zoom=function(){this._4804();return this._1000};p.set_Zoom=function(a){3===this.get_ImageSizeMode().valueOf()&&(b.pv.n(a),(1>a||1E3<a)&&b.pv.te("Zoom must be from 1% to 1000%."),9E-4>Math.abs(a-this._1000)||(this._1000=a,this._9043()))};p.get_ImageSizeMode=function(){this._4804();return this._1234};p.set_ImageSizeMode=function(a){this._4804();a=b.pv.e(a,s.WebImageSizeModeEnumJS);a.equals(this._1234)||(this._1234=a,this._9043())};p.get_ImageRotationAngle=function(){this._4804();return this._3638};
p.set_ImageRotationAngle=function(a){this._4804();b.pv.n(a);a=k._2813._3803(a);0!==a&&90!==a&&180!==a&&270!==a&&b.pv.te("Argument value exception.");var d=this._3638;a!==d&&(this._2650("imageRotating",{currentAngle:d,newAngle:a}),this._3638=a,this._9043(),null!=this._1983&&this._1983.set_ImageRotationAngle(a),this._2650("imageRotated",a))};p.get_ImageInfo=function(b){var a=this.get_Images().get_Image(b);b=a.get_Size();a=a.get_Resolution();return null==b||null==a?null:{size:b,resolution:a}};p.get_UseCache=
function(){this._4804();return this._7320};p.set_UseCache=function(a){this._4804();b.pv.b(a);if(a!==this._7320){this._7320=a;for(var d in this._8022)this._8022[d]._10054(a)}};p.get_TilesFormat=function(){this._4804();return this._10258};p.set_TilesFormat=function(a){this._4804();a=b.pv.e(a,b.WebImageTypeEnumJS);if(!this._10258.equals(a)){this._10258=a;for(var d in this._8022)this._8022[d]._4880(a)}};p.get_FocusedImage=function(){var b=this.get_Images();if(0<=this._10548&&this._10548<b.get_Count())return b.get_Image(this._10548)};
p.get_HScroll=function(){this._4804();return this._5774};p.set_HScroll=function(a){this._4804();b.pv.b(a);this._5774!==a&&(a=(this._5774=a)?"auto":"hidden",$(this._6338).css("overflow-x",a),fa(this))};p.get_VScroll=function(){this._4804();return this._6391};p.set_VScroll=function(a){this._4804();b.pv.b(a);this._6391!==a&&(a=(this._6391=a)?"auto":"hidden",$(this._6338).css("overflow-y",a),fa(this))};p.get_RenderingSettings=function(){this._4804();return this._3122};p.set_RenderingSettings=function(a){this._4804();
null!=a&&b.pv.c(a,b.WebRenderingSettingsJS);var d=this._3122;if(!(d==a||null!=d&&d.equals(a))){var e=this._6354;null!=d&&$(d.evm).off("changed."+e);this._3122=a;null!=a&&($(a.evm).on("changed."+e,{v:this},x),this.get_Images().setRenderingSettings(a))}};p.get_ImageCacheManager=function(){this._4804();var b=this._1983;return null==b?this._4423:b.get_ImageCacheManager()};p.set_ImageCacheManager=function(a){this._4804();null!=a&&b.pv.c(a,k.WebImageCacheManagerJS);null!=this._1983&&b.pv.te("Can not change cache manager of slave viewer.");
if(this._4423!==a){this._4423=a;for(var d in this._8022)this._8022[d]._1573(a);this._2650("_940",a)}};p.get_SyncCacheWithImages=function(){this._4804();var b=this._1983;return null!=b?b.get_SyncCacheWithImages():this._1495};p.set_SyncCacheWithImages=function(a){this._4804();b.pv.b(a);null!=this._1983&&b.pv.te("Can not change cache property of slave viewer.");this._1495=a};p.get_ControlId=function(){this._4804();return this._7761.id};p.get_Control=function(){return this._7761};p.get_DisplayMode=function(){this._4804();
var b=12,a=this._3968.valueOf(),d=this._4976.valueOf();if(2===a)if(1===this._3956)b=1;else if(2===d)switch(this._3956){case 2:b=4;break;case 3:b=8}else{if(1===d)switch(this._3956){case 2:b=5;break;case 3:b=9}}else if(1===a)if(2===d)switch(this._3956){case 1:b=2;break;case 2:b=6;break;case 3:b=10}else if(1===d)switch(this._3956){case 1:b=3;break;case 2:b=7;break;case 3:b=11}return new s.WebImageViewerDisplayModeEnumJS(b)};p.set_DisplayMode=function(a){a=b.pv.e(a,s.WebImageViewerDisplayModeEnumJS);
if(!a.equals(this.get_DisplayMode())){var d=this._8314;switch(a.valueOf()){case 1:this._2012(d,1,2,2);break;case 2:this._2012(d,1,2,1);break;case 3:this._2012(d,1,1,1);break;case 4:this._2012(d,2,2,2);break;case 5:this._2012(d,2,1,2);break;case 6:this._2012(d,2,2,1);break;case 7:this._2012(d,2,1,1);break;case 8:this._2012(d,3,2,2);break;case 9:this._2012(d,3,1,2);break;case 10:this._2012(d,3,2,1);break;case 11:this._2012(d,3,1,1)}}};p.get_MultipageDisplayImagePadding=function(){this._4804();return this._8314.slice()};
p.set_MultipageDisplayImagePadding=function(a,d,e,f){this._4804();null==f&&(b.pv.isn(a)?f=d=e=a:(f=a.bottom,d=a.top,e=a.right,a=a.left));b.pv.n(a,d,e,f);(0>a||0>d||0>e||0>f)&&b.pv.toe();var g=this._8314;if(g[0]!==a||g[1]!==d||g[2]!==e||g[3]!==f)this._8314=[a,d,e,f],this._1751()&&(B(this),this._9043())};p.get_MultipageDisplayLayoutDirection=function(){this._4804();return this._4976};p.set_MultipageDisplayLayoutDirection=function(a){this._4804();a=b.pv.e(a,s.WebImageLayoutDirectionEnumJS);a.equals(this._4976)||
(this._4976=a,this._1751()&&(B(this),this._9043()))};p.get_MultipageDisplayRowCount=function(){this._4804();return this._3956};p.set_MultipageDisplayRowCount=function(a){this._4804();b.pv.n(a);a!==this._3956&&(1>a&&b.pv.toe(),this._3956=a,B(this),this._9043())};p.get_MultipageDisplayMode=function(){this._4804();return this._3968};p.set_MultipageDisplayMode=function(a){this._4804();a=b.pv.e(a,s.WebImageViewerMultipageDisplayModeEnumJS);a.equals(this._3968)||(this._3968=a,B(this),this._9043())};p.get_IsMultipageDisplayMode=
function(){this._4804();return this._1751()};p.get_IsAutoScrollToFocusedImageEnabled=function(){this._4804();return 0===this._8769};p.get_FocusedImageAppearance=function(){this._4804();return this._10622};p.set_FocusedImageAppearance=function(a){this._4804();b.pv.c(a,s.WebImageAppearanceJS);this._10622.equals(a)||($(this._10622._9052).off("changed."+this._6354),this._10622=a,ua(this,a),(this._1751()||this._311)&&this._9043())};p.get_ImageAppearance=function(){this._4804();return this._6055};p.set_ImageAppearance=
function(a){this._4804();b.pv.c(a,s.WebImageAppearanceJS);this._6055.equals(a)||($(this._6055._9052).off("changed."+this._6354),this._6055=a,va(this,a),this._1751()&&this._9043())};p.get_UseImageAppearancesInSinglePageMode=function(){this._4804();return this._311};p.set_UseImageAppearancesInSinglePageMode=function(a){this._4804();b.pv.b(a);this._311!==a&&(this._311=a,this._1751()||this._9043())};p.get_ImageAnchor=function(){this._4804();return this._2663};p.set_ImageAnchor=function(a){this._4804();
a=b.pv.e(a,s.WebImageAnchorTypeEnumJS);a.equals(this._2663)||(this._2663=a,this._9043())};p.get_ProgressImage=function(){this._4804();return this._9918};p.set_ProgressImage=function(a){this._4804();null!=a&&b.pv.c(a,Image);var d=this._9918;if(d!==a){var e=!1;if(null!=a){e=a.src;if(null!=d&&e===d.src)return;e=!0}this._9918=a;if(e){a=[];for(d=0;d<this._7614.length;d++)a[d]=this._7614[d]._3908;J(this,a)}else ca(this)}};p.get_ContextMenuFunc=function(){this._4804();return this._10177};p.set_ContextMenuFunc=
function(a){this._4804();null!=a&&b.pv.f(a);this._10177=a;if(null!=this._10294){var d=this;d._10294[0].oncontextmenu=function(b){b.cancelable=!0;b.preventDefault?b.preventDefault():b.returnValue=!1;b.stopPropagation();var a=d._5424;if(null!=a&&a.get_DisableContextMenu())return!1;var e;null!=d._10177&&(e=d._10177(b));return null!=e?e:!1}}};p.get_IsDisposed=function(){return this._8288};p._1751=function(){return 2!==this._3968.valueOf()||1!==this._3956};p._588=function(){return this._4386};p._422=function(){var b=
this._6338[0];return null!=b?{x:b.scrollLeft,y:b.scrollTop}:{x:0,y:0}};p._3675=function(b,a){var d=this._6338[0];if(null!=d){var e=this._3848();this._1416.width<=e.width&&(b=0);this._1416.height<=e.height&&(a=0);d.scrollTop=a;d.scrollLeft=b}};p._2405=function(){var b=this._6338[0];return null!=b?{width:b.clientWidth,height:b.clientHeight}:{width:0,height:0}};p._3848=function(){var b=this._7761;return null!=b?{width:b.clientWidth,height:b.clientHeight}:{width:0,height:0}};p._5909=function(){var b=
this._422(),a=this._2405();return{x:b.x,y:b.y,width:a.width,height:a.height}};p._7035=function(){return{width:this._1416.width,height:this._1416.height}};p._774=function(){var b=this.get_FocusedImage();if(null==b)return k._2813._8313();b=this._2383(b);return{width:b.w,height:b.h}};p._5282=function(b){this._1611!==b&&(this._1611=b,this._7907||this._6338.css("cursor",b))};p._425=function(b){this._6338.attr("title",b)};p._626=function(){return{width:this._3965.width,height:this._3965.height}};p._6760=
function(a,d){null==d&&(d=a.height,a=a.width);b.pv.n(a,d);this._3965={width:a,height:d}};p._704=function(){return{x:this._550.x,y:this._550.y}};p._3424=function(a,d){null==d&&(d=a.y,a=a.x);b.pv.n(a,d);this._550={x:a,y:d}};p.renderImages=function(a,d,e,f,g){function h(){var b=n[s],a=b.get_Size(),d=b.get_Resolution();null!=a&&null!=d?(a=S(m,b),t.cancelRendering||b.renderTiles({width:m._3184,height:m._3666,format:m._10258,scale:a},k,l)):b.getImageInfo(h,l)}function k(b,a,e){s++;s===r?d&&d():(t.rendered=
s,f&&f(t),t.cancelRendering?g&&g():h())}function l(b,a,d){e&&e(b.errorMessage)}this._4804();0!==this._7117&&b.pv.te("Method cannot be executed because initialization is not finished.");b.pv.ad(a,b.pv.n);if(this._7320){var m=this,p=this.get_Images(),n=[];if(0===a.length)n=p.toArray();else for(var q=0;q<a.length;q++)n.push(p.get_Image(a[q]));var r=n.length,s=0,t={rendered:0,total:r,cancelRendering:!1};h()}};p.beginInit=function(){this._4804();this._7117++;null==this._2798&&this._4080();1===this._7117&&
null!=this._5424&&this._5424.set_IsEnabled(!1)};p.endInit=function(){this._4804();this._7117--;0===this._7117?(this._8237(),null!=this._5424&&this._5424.set_IsEnabled(!0)):0>this._7117&&(this._7117=0)};p.update=function(){fa(this)};p.invalidate=function(b){this._4804();this._9600(b)};p.transformPointFromScreenToControl=function(b,a){return this._5955(b,a)};p.transformPointFromControlToScreen=function(b,a){return this._7402(b,a)};p.transformPointFromScreenToViewer=function(b,a){var d=this._5955(b,
a);return this._5792(d)};p.transformPointFromViewerToScreen=function(b,a){var d=this._6767(b,a);return this._7402(d)};p.transformPointFromControlToViewer=function(b,a){return this._5792(b,a)};p.transformPointFromViewerToControl=function(b,a){return this._6767(b,a)};p.transformPointFromControlToImage=function(b,a){return this._6819(b,a)};p.transformPointFromImageToControl=function(b,a){return this._4035(b,a)};p.transformPointFromViewerToImage=function(b,a){return this._2909(b,a)};p.transformPointFromImageToViewer=
function(b,a){return this._1842(b,a)};p.scrollTo=function(a,d){this._4804();b.pv.n(a,d);0>d&&(d=0);0>a&&(a=0);this._3675(a,d)};p.scrollToImagePoint=function(a,d){this._4804();b.pv.n(a,d);var e=this._2405(),f=this._2351(),g=this._422();f.translate(g.x,g.y);f=f.transformPoint({x:a,y:d});this._3675(f.x-e.width/2,f.y-e.height/2)};p.focus=function(){this._4804();var b=$(this._7761);b.blur();b.focus()};p.disableAutoScrollToFocusedImage=function(){this._4804();this._8769++};p.enableAutoScrollToFocusedImage=
function(){this._4804();this._8769--};p.getImageIndexByLocation=function(b){this._4804();for(var a,d=0;d<this._7614.length;d++)if(this._7614[d]._7482(b)){a=this._7614[d]._8757;break}return null!=a?this.get_Images().indexOf(a):-1};p.getImageByLocation=function(b){b=this.getImageIndexByLocation(b);var a=this.get_Images();if(0<=b&&b<a.get_Count())return a.get_Image(b)};p.setFocusedIndexByLocation=function(b,a){var d=this.getImageIndexByLocation(b);if(0<=d&&d!==this._10548)try{return a&&this.disableAutoScrollToFocusedImage(),
this.set_FocusedIndex(d),!0}finally{a&&this.enableAutoScrollToFocusedImage()}return!1};p.setFocusedIndexAsync=function(a,d){this._4804();0===this._7117&&this._7887||b.pv.te("Invalid operation exception.");b.pv.n(a);null!=d&&b.pv.f(d);if(this._10548!==a){if(null!=d){var e=function(){g._7887=!0;null!=d&&d()},f=this.get_Images().get_Image(a),f=this._1306(f),g=this,h=this._3848();if(0===h.width||0===h.height||f._1659)$(this).one("focusedIndexChanged",e);else $(f).one("_2867",e);this._7887=!1}this.set_FocusedIndex(a)}else null!=
d&&d()};p.getNearestImage=function(b){if(0==this.get_Images().get_Count())return null;if(!this._1751())return this.get_FocusedImage();for(var a=this._278(),d,e=0,f,g=0;g<a.length;g++){f=a[g];var h=this._7294(f);if(g==a.length-1&&b.x>=h.x&&b.y>=h.y||k._2813._4789(h,b))return f;h=k._2813._8992(h);h=k._2813._2840(h,b);if(null==d||e>h)e=h,d=f}return d};p.zoomToRectangle=function(a){b.pv.r(a);0>=a.width||0>=a.height?this.scrollToImagePoint(a.x,a.y):this._5789(a)};p.dispose=function(){this._4804();clearInterval(this._3836);
null!=this._6934&&(this._6934.disconnect(),this._6934=null);var b="."+this._6354;$(this._258.evm).off(b);for(var a=0;a<this._258.get_Count();a++){var d=this._258.get_Image(a);$(d.evm).off(b)}if(null!=this._1983){$(this._1983._10552).off(b);for(var e=this.get_Images(),a=0;a<e.get_Count();a++)d=e.get_Image(a),$(d.evm).off(b);this._1983=null}this._10548=-1;this._4423=null;$(this._6055._9052).off(b);$(this._10622._9052).off(b);this._4875(document);$(this._7761).empty();this._6338=this._7761=null;this._10458=
this._1611="";this._7428=this._3295=this._3792=this._10294=null;this._372={};this._9918=null;for(b in this._8022)this._8022[b]._8662();this._8022={};this._7614=[];this._5424=this._8985=null;this._2650("disposed");this._8288=!0;$(this).off();$(this._10552).off()};p._5789=function(b,a){this._4804();var d={x:b.x,y:b.y,width:b.width,height:b.height};this._2351(a).transformRectangle(d);var d=k._2813._7207(d),d=k._2813._8255(d),e=this._2405(),d=Math.min(e.width/d.width,e.height/d.height);this.set_ImageSizeMode(3);
d*=this._1000;1>d&&(d=1);1E3<d&&(d=1E3);this.set_Zoom(d);d=k._2813._8992(b);this.scrollToImagePoint(d.x,d.y)};p._7294=function(a,d){var e=this.get_FocusedImage();null==a?a=e:b.pv.isb(a)&&(d=a,a=e);e=this._1306(a);return null!=e?e._496(d):k._2813._8313()};p._3198=function(){var b=this.get_FocusedImage();if(null==b)return k._2813._8313();var a=this._9168(b),d=this._2405(),d={x:0,y:0,width:d.width,height:d.height};a.transformRectangle(d);d=k._2813._7207(d);b=b.get_Size();return k._2813._4585(d,{x:0,
y:0,width:b.width,height:b.height})};p._2467=function(b){if(!(0>this._10548)){var a=b;"mousedown"!=b.type&&(b="touchstart"==b.type?b.originalEvent.touches[0]:b.originalEvent,b.sourceEvent=a);b=m(this,b);b.t="mouseDown";var d=this._5424;this._1751()&&(null!=d&&d._3070(b)||this.setFocusedIndexByLocation(b.pv,!0));null!=d&&d._10038()&&(this._5057(),d._2467(b),this._6121(),b.handled&&(a.cancelable=!0,a.preventDefault?a.preventDefault():a.returnValue=!1),nb(this,b))}};p._4621=function(b){if(!(0>this._10548)){if("mousemove"!=
b.type){var a=b;b="touchmove"==b.type?b.originalEvent.touches[0]:b.originalEvent;b.sourceEvent=a}b=m(this,b,!1);b.t="mouseMove";a=this._5424;null!=a&&a._10038()&&(this._5057(),a._4621(b),this._6121(),nb(this,b))}};p._8087=function(b){if(!(0>this._10548)){var a=this._5424;if(null!=a&&a._10038()){if("mouseup"!=b.type){var d=b;b="touchend"==b.type?b.originalEvent.changedTouches[0]:b.originalEvent;b.sourceEvent=d}b=m(this,b);this._5057();var d=b.ps,e=(new Date).getTime(),f=this._2279?e-this._2279:0,g=
this._10153?k._2813._2840(this._10153,d):100;250>f&&30<f&&10>g?(d=this._2405(),d.x=0,d.y=0,k._2813._4789(d,b.pc)&&(b.t="doubleClick",a._9308(b),b.handled=!1,b.active=!1)):(this._10153=d,this._2279=e);b.t="mouseUp";a._8087(b);this._6121();nb(this,b)}}};p._5955=function(b,a){var d=this._7573(b,a),e=$(this._7761).offset();return{x:d.x-e.left,y:d.y-e.top}};p._7402=function(b,a){var d=this._7573(b,a),e=$(this._7761).offset();return{x:d.x+e.left,y:d.y+e.top}};p._5792=function(b,a){var d=this._7573(b,a),
e=this._422();return{x:d.x+e.x,y:d.y+e.y}};p._6767=function(b,a){var d=this._7573(b,a),e=this._422();return{x:d.x-e.x,y:d.y-e.y}};p._6819=function(a,d,e){a=this._10143(a,d);b.pv.ic(d,b.WebImageJS)&&(e=d);return this._9168(e).transformPoint(a)};p._4035=function(a,d,e){a=this._10143(a,d);b.pv.ic(d,b.WebImageJS)&&(e=d);return this._2351(e).transformPoint(a)};p._2909=function(a,d,e){a=this._6767(a,d);b.pv.ic(d,b.WebImageJS)&&(e=d);return this._6819(a,e)};p._1842=function(b,a,d){b=this._4035(b,a,d);return this._5792(b)};
p._2351=function(b){null==b&&(b=this.get_FocusedImage());b=this._1306(b);return null!=b?b._2351():new k.WebMatrixJS};p._9168=function(b){return this._2351(b).invert()};p._8780=function(b){b=this._2351(b);var a=this._422();b.translate(a.x,a.y);return b};p._9168=function(b){return this._2351(b).invert()};p._1471=function(b,a){if(b===a||null==b||null==a)return new k.WebMatrixJS;var d=this._2351(b),e=this._9168(a);return k.WebMatrixJS.multiplyMatrix(d,e)};p._7573=function(a,d){this._4804();if(null==d||
b.pv.ic(d,b.WebImageJS))d=a.y,a=a.x;b.pv.n(a,d);return{x:a,y:d}};p._10143=function(a,d){var e=this._7573(a,d);-1===this._10548&&b.pv.te("ImageViewer does not have image.");return e};p._4804=function(){this._8288&&b.pv.te("Viewer is disposed.")};p._278=function(b){null==b&&(b=!1);for(var a=[],d=0;d<this._7614.length;d++){var e=this._7614[d];b?e._2844()&&a.push(e._8757):a.push(e._8757)}return a};p._4971=function(b){b=this._1306(b);if(null!=b)return b._2844()};p._1306=function(b){if(null!=b)return this._8022[b.get_Guid()]};
p._4004=function(){this._6580=2;this._8237()};p._9043=function(){0===this._6580&&(this._6580=1);this._8237()};p._8237=function(){if(0===this._7117)if(1!==this._6580||this._6042()||(this._6580=0),this._2798=null,0<this._6580)this._10460(),this._6580=0;else{if(null!=this._8985&&this._8985._675())for(var b=0;b<this._7614.length;b++)this._7614[b]._10087(!0);null!=this._6200&&(D(this),this._6200=null)}};p._5057=function(){this._10458=this._1611;this._7907=!0};p._6121=function(){this._7907=!1;this._10458!==
this._1611&&this._6338.css("cursor",this._1611);this._10458=""};p._4578=function(b,a){this._6580=2;if(0===this._7117){var d=!1;if(2===this._3968.valueOf()){var e=this._3956;1===e?d=!0:Math.floor(b/e)!==Math.floor(a/e)&&(d=!0)}if(d)this._4004();else if(null!=this._5424&&this._5424.reset(),""===this._5686){var d=this.get_FocusedImage(),e=this._1306(d),f=this._8985;this._7428._9234=!0;for(d=0;d<this._7614.length;d++)this._7614[d]._4371();f._7014(this._6055);e._7014(this._10622);this._8985=e;D(this);
this._6200=null;e=this._5909();for(d=0;d<this._7614.length;d++)f=this._7614[d],f._8638(e),0===f._9141&&f._3452&&f._9111();this._2650("_9988",{dz:1,sp:this._422()});for(d=0;d<this._7614.length;d++)this._7614[d]._10087()}else B(this);this._6580=0}};p._1497=function(){var b=this._1983;h({data:{v:this}},b);null!=b&&$(b._10552).off("."+this._6354);this.set_VisualTool()};p._7982=function(){var b=this._1983;if(null!=b){var a=this._6354,d={v:this},e=b._10552;$(e).on("_9908."+a,d,t);$(e).on("_9304."+a,d,n);
$(e).on("_8250."+a,d,q);$(e).on("focusedIndexChanged."+a,d,v);$(e).on("imageRotated."+a,d,z);$(e).on("_940."+a,d,y);$(e).on("_1242."+a,d,h);$(e).on("_7340."+a,d,r);$(e).on("disposed."+a,d,l)}r({data:{v:this}},b)};p._1399=function(b){var a=!1;1===this._3968.valueOf()&&(a=!0);switch(b.actionName){case "clear":this._10548=-1;a=!0;break;case "insert":case "insertRange":var d=b.imageIndex,e=1;"insertRange"===b.actionName&&(e=b.images.length);this._5329(d,e);break;case "removeAt":case "removeRange":d=[],
"removeRange"===b.actionName?d=b.imagesIndexes:d.push(b.imageIndex),this._5280(d)}return a||(b=this._278(),d=this._698(),k._2813._8733(b,d))?a:!0};p._5329=function(b,a){var d=this.get_Images().get_Count();a===d?this._10548=0:this._10548>=b&&(this._10548+=a)};p._5280=function(b){var a=this.get_Images().get_Count();if(0===a)this._10548=-1;else{for(var d=!1,e=0;this._10548>=b[e];){if(this._10548===b[e]){d=!0;break}e++}this._10548-=e;d&&a==this._10548&&this._10548--}};p._2012=function(a,d,e,f){this._8314=
a;this._3956=d;this._4976=b.pv.e(e,s.WebImageLayoutDirectionEnumJS);this._3968=b.pv.e(f,s.WebImageViewerMultipageDisplayModeEnumJS);B(this);this._9043()};p._10460=function(){var a=this.get_FocusedImage();E(this,a);for(var d=this._698(),e=[],a=0;a<d.length;a++){var f=d[a];null!=f&&null==f.get_Size()&&e.push(f)}var g=b.WebImagingEnviromentJS.guid();this._5686=g;if(0===e.length)this._6018(d,g);else{for(var f=function(b){r?q._10460():q._6018(d,g)},h=function(b){b.blocked?r=!0:q._2650("imageInfoLoadingException",
b)},k=function(b){q._2650("imageInfoLoaded",{image:b.image})},l=[],a=0;a<e.length;a++){for(var m=e[a].get_Source(),p=!0,n=0;n<l.length;n++)if(m.equals(l[n])){p=!1;break}p&&l.push(m)}for(var q=this,r=!1,a=0;a<l.length;a++)l[a].get_ImageService().bi();for(a=0;a<e.length;a++)e[a].getImageInfo(k,h),q._2650("imageInfoLoading",{image:e[a]});for(a=0;a<l.length;a++)if(e=l[a].get_ImageService().ei(),null!=e)for(n=0;n<e.length;n++)if(h=e[n].request,b.pv.ic(h,b.WebCompositeRequestJS)&&"GetImagesInfo"===h.get_ActionName())$(h).one("compositeError compositeSuccess",
f)}};p._6018=function(a,d){if(this._5686===d&&0===this._7117){0===this._4386&&(this._4386=b.WebImagingEnviromentJS.get_ScrollSize(this._7761));if(this._1751()){if(!(0<this._7117)){var e=this._8985;if(0<a.length){var f=this._9704,g=this._422(),h=F(this,a),k=1;if(this._1000!==f&&(k=this._1000/f,this._2650("zoomChanged",{zoom:this._1000,differenceScale:k,scroll:g}),null!=e&&"fi"!==this._6200)){var l=-1,f=this.getNearestImage(g);null!=f&&(l=this.get_Images().indexOf(f));var m=f=0;if(-1!=l){m=0;1==this._3968.valueOf()&&
(m=Math.trunc(l/this._3956));var l=l%this._3956,n=this._8314;2==this._4976.valueOf()?(f=n[0]*(l+1)+n[2]*l,m=n[1]*(m+1)+n[3]*m):(f=n[0]*(m+1)+n[2]*m,m=n[1]*(l+1)+n[3]*l)}this._9835((g.x-f)*k+f,(g.y-m)*k+m)}f=this._5909();l=this.get_FocusedImage();n=!1;b:if(this._7614.length!==a.length)m=!1;else{for(m=0;m<a.length;m++)if(this._7614[m]._8757!==a[m]){m=!1;break b}m=!0}if(!m){ba(this,a);for(m=0;m<a.length;m++)n=a[m],null!=n&&(n=this._8022[n.get_Guid()],P(this,n),this._7614[m]=n);n=!0;this._7428._9234=
n}J(this,h);for(var p=this._6055,m=0;m<this._7614.length;m++){var q=p,r=this._7614[m];r._8757===l&&(this._8985=r,q=this._10622);r._4371();Q(this,r,h[m],f,q)}this._2650("_9988",{dz:k,sp:g});this._8985===e&&null==this._6200&&this._9835(g);D(this,f);e=this._422();if(g.x!==e.x||g.y!==e.y)for(f=this._5909(),m=0;m<this._7614.length;m++)this._7614[m]._8638(f);if(!n)for(m=0;m<this._7614.length;m++)if(0<this._7614[m]._9141){n=!0;this._7428._9234=n;break}if(n){for(m=0;m<this._7614.length;m++)g=this._7614[m],
0===g._9141&&g._3452&&g._9111();T(this._3295)}g=!1;for(m=0;m<this._7614.length;m++)this._7614[m]._10087(!0),g||(g=this._7614[m]._3452);g||0===this._7614.length||this._7614[0]._432()}else T(this._3792),T(this._3295),F(this,a),ba(this,a),this._2650("_9988",{dz:this._1000/this._9704,sp:this._422()});this._6200=null}}else if(!(0<this._7117)){g=this._8985;if(0<a.length){l=this._9704;e=this._422();h=F(this,a);k=1;this._1000!==l&&(k=this._1000/l,m=this._422(),this._2650("zoomChanged",{zoom:this._1000,differenceScale:k,
scroll:m}),null!=g&&this._9835(m.x*k,m.y*k));l=!1;n=a[0];if(1!==this._7614.length||this._7614[0]._8757!==n)ba(this,a),l=!0,this._7428._9234=l;m=this._5909();0===this._7614.length&&(n=this._1306(n),P(this,n),this._7614[0]=n);this._8985=this._7614[0];J(this,h);this._311&&(f=this._10622);this._8985._4371();Q(this,this._8985,h[0],m,f);this._2650("_9988",{dz:k,sp:e});this._8985===g&&null==this._6200&&this._9835(e);D(this,m);m=this._422();e.x===m.x&&e.y===m.y||this._8985._8638(this._5909());!l&&0<this._8985._9141&&
(l=!0,this._7428._9234=l);l&&T(this._3295);this._8985._10087(!0)}else T(this._3792),T(this._3295),F(this,a),ba(this,a),this._2650("_9988",{dz:this._1000/this._9704,sp:this._422()});this._6200=null}this._5686===d&&(this._5686="")}};p._9835=function(b,a){"fi"!==this._6200&&(this._6200=null!=a?{x:b,y:a}:b)};p._698=function(){var b=this.get_Images(),a=b.get_Count();if(0===a)return[];var d=this._1751();if(!d)return b=b.get_Image(this._10548),null!=b?[b]:[];var e=this._3968.valueOf();if(1===e)return b.toArray();
var f=this._3956,g=0;d&&1!==e&&(g=Math.floor(this._10548/f));d=Array(f);for(e=0;e<f;e++){var h=g*f+e;if(h>=a)break;d[e]=b.get_Image(h)}return d};p._887=function(a){var d=[],e=k._2813._8313();if(0===a.length)return{b:e,r:d};var f=this._8314;this._1751()||(f=[0,0,0,0]);var g=this._3968.valueOf(),h=this._3848(),l=h.width,m=h.height,e={x:0,y:0,width:l,height:m},g=1===g?Math.min(a.length,this._3956):a.length,n=this._1000,p=this._1234.valueOf(),q=this._4976.valueOf();if(2===q){var d=this._1938(a,g,f,l,
m),l=d.w,m=d.h,n=d.z,d=d.r,q=l>h.width,r=m>h.height;if(r){if(l=h.width-this._4386,m=h.height,d=this._1938(a,g,f,l,m),l=d.w,m=d.h,n=d.z,d=d.r,q=l>h.width-this._4386)l=h.width-this._4386,m=h.height-this._4386,d=this._1938(a,g,f,l,m),l=d.w,m=d.h,n=d.z,d=d.r}else!q||1!==p&&3!==p&&4!==p||(m=h.height-this._4386,l=h.width,d=this._1938(a,g,f,l,m),l=d.w,m=d.h,n=d.z,d=d.r)}else if(1===q)if(d=this._8731(a,g,f,l,m),l=d.w,m=d.h,n=d.z,d=d.r,q=l>h.width,r=m>h.height,q){if(m=h.height-this._4386,l=h.width,d=this._8731(a,
g,f,l,m),l=d.w,m=d.h,n=d.z,d=d.r,r=m>h.height-this._4386)l=h.width-this._4386,m=h.height-this._4386,d=this._8731(a,g,f,l,m),l=d.w,m=d.h,n=d.z,d=d.r}else!r||0!==p&&3!==p&&4!==p||(l=h.width-this._4386,m=h.height,d=this._8731(a,g,f,l,m),l=d.w,m=d.h,n=d.z,d=d.r);else b.pv.te("Invalid operation");0>=n?(e.width=0,e.height=0):(e.width=l,e.height=m);this._9704=this._1000=n;return{b:e,r:d}};p._1938=function(a,d,e,f,g){var h=this._1234.valueOf(),l=5===h,k=this._6389(a,0,a.length,!l),m=k.w,n=k.h,p=e[0]+e[2],
q=e[1]+e[3],r=m*d,s;switch(h){case 2:s=Math.min((f-p*d)/r,(g-q)/n);break;case 1:s=(g-q)/n;break;case 0:s=(f-p*d)/r;break;case 3:s=this._1000/100;break;case 4:case 5:s=1;break;default:b.pv.te("Invalid operation")}0>s&&(s=0);var t=1,v=1;if(3===h||4===h)t=this._6223/96,v=this._3789/96;for(var x=[],r=Math.round(r*s*t+p*d),w=0,A=0;A<a.length;A+=d){for(var k=this._6389(a,A,d,!l),n=k.h,k=Math.round(m*s*t)+p,n=Math.round(n*s*v)+q,y=0;y<d&&A+y<a.length;y++){var z={x:y*k,y:w,width:k,height:n};z.x+=e[0];z.y+=
e[1];z.width-=p;0>z.width&&(z.width=0);z.height-=q;0>z.height&&(z.height=0);x[A+y]=z}w+=n}a=Math.ceil(w);this._1751()?this._6539(f,g,r,a,x):x[0]={x:0,y:0,width:Math.max(f,r),height:Math.max(g,a)};f=100*s;3!==h&&4!==h&&(f/=this._6223/96);return{w:r,h:a,z:f,r:x}};p._8731=function(a,d,e,f,g){var h=this._1234.valueOf(),l=5===h,k=this._6389(a,0,a.length,!l),m=k.w,n=k.h,p=e[0]+e[2],q=e[1]+e[3],r=n*d,s;switch(h){case 2:s=Math.min((f-p)/m,(g-q*d)/r);break;case 1:s=(g-q*d)/r;break;case 0:s=(f-p)/m;break;case 3:s=
this._1000/100;break;case 4:case 5:s=1;break;default:b.pv.te("Invalid operation")}0>s&&(s=0);var t=1,v=1;if(3===h||4===h)t=this._6223/96,v=this._3789/96;for(var x=[],w=0,r=Math.round(r*s*v+q*d),A=0;A<a.length;A+=d){for(var k=this._6389(a,A,d,!l),m=k.w,m=Math.round(m*s*t)+p,k=Math.round(n*s*v)+q,z=0;z<d&&A+z<a.length;z++){var y={x:w,y:z*k,width:m,height:k};y.x+=e[0];y.y+=e[1];y.width-=p;0>y.width&&(y.width=0);y.height-=q;0>y.height&&(y.height=0);x[A+z]=y}w+=m}a=Math.ceil(w);this._1751()?this._6539(f,
g,a,r,x):x[0]={x:0,y:0,width:Math.max(f,a),height:Math.max(g,r)};f=100*s;3!==h&&4!==h&&(f/=this._6223/96);return{w:a,h:r,z:f,r:x}};p._6389=function(b,a,d,e){for(var f=0,g=0,h=0;h<d&&a+h<b.length;h++){var k=b[a+h];if(null!=k){var k=this._2383(k),l=k.w,m=k.h;e&&(l*=this._6223/k.rx,m*=this._3789/k.ry);l>f&&(f=l);m>g&&(g=m)}}if(90===this._3638||270===this._3638)b=f,f=g,g=b;return{w:f,h:g}};p._2383=function(b){var a=b.get_Resolution(),d=b.get_Size(),e;null==a||0===a.x||0===a.y?(b=this._550.x,a=this._550.y):
(b=a.x,a=a.y);null==d||0===d.width||0===d.height?(e=this._3965.width,d=this._3965.height):(e=d.width,d=d.height);return{rx:b,ry:a,w:e,h:d}};p._6539=function(b,a,d,e,f){switch(this._2663.valueOf()){case 4:case 7:b=0;a=Math.max(0,(a-e)/2);break;case 6:b=0;a=Math.max(0,a-e);break;case 5:a=b=0;break;case 8:case 11:b=Math.max(0,b-d);a=Math.max(0,(a-e)/2);break;case 10:b=Math.max(0,b-d);a=Math.max(0,a-e);break;case 9:b=Math.max(0,b-d);a=0;break;case 1:case 13:b=Math.max(0,(b-d)/2);a=0;break;case 2:case 14:b=
Math.max(0,(b-d)/2);a=Math.max(0,a-e);break;default:b=Math.max(0,(b-d)/2),a=Math.max(0,(a-e)/2)}if(0!=b||0!=a)for(e=0;e<f.length;e++)f[e].x+=b,f[e].y+=a};p._9600=function(a,d){if(null==a){var e=this._2405();a={x:0,y:0,width:e.width,height:e.height}}b.pv.r(a);if(!k._2813._1853(a)){var f=this._5424;if(0!==this._7614.length&&null!=f){e=this._3295.getContext("2d");e.clearRect(a.x,a.y,a.width,a.height);var g=this.get_FocusedImage(),h=this._278(!0);if(this._1751()&&f.get_IsMultipageModeSupported())for(f=
0;f<h.length;f++){var l=h[f];if(l!==g){var m=this._7294(l,!0),m=k._2813._4585(a,m);k._2813._1853(m)||this._7828(e,l,m)}}this._7828(e,g,a)}}};p._7828=function(b,a,d){if(null!=a){var e=this._1306(a);if(null!=e){var f=e._9926();f||this.get_FocusedImage()!==a||e._2844()||!e._621()||(f=!0,d=this._2405(),d={x:0,y:0,width:d.width,height:d.height});f&&(b.save(),f=d,b.beginPath(),b.rect(f.x,f.y,f.width,f.height),b.clip(),b._3975=a.get_Resolution(),this._5424._8927(e._2351(),d,a),b.restore())}}};p._6966=function(b){var a=
this;$(b).on(G(a._6354),function(b){a._2467(b)})};p._3960=function(b){$(b).off(G(this._6354))};p._7391=function(b){var a=this,d=a._6354;$(b).on(I(d),function(b){a._4621(b)});$(b).on(ja(d),function(b){a._8087(b)})};p._4875=function(b){var a=this._6354;$(b).off(I(a));$(b).off(ja(a))};p._2650=function(b,a){$(this._10552).triggerHandler(b,a);$(this).triggerHandler(b,a)};p._4080=function(){var b={};b._3184=this._3184;b._3666=this._3666;b._1000=this._1000;b._1234=this._1234.valueOf();b._3638=this._3638;
b._8314=this._8314.slice();b._4976=this._4976.valueOf();b._3956=this._3956;b._3968=this._3968.valueOf();b._2663=this._2663.valueOf();b._311=this._311;b._10622=this._10622.clone();b._6055=this._6055.clone();b._isMultipage=this._1751();this._2798=b};p._6042=function(){var b=this._2798;if(null==b)return!0;var a=this._1751(),d=!b._10622.equals(this._10622),e=b._311!==this._311;return b._3184!==this._3184||b._3666!==this._3666||b._3638!==this._3638||a!==b._isMultipage||b._2663!==this._2663.valueOf()||
b._1234!==this._1234.valueOf()||b._1000!==this._1000||!a&&(e||d&&this._311)||a&&(a=this._8314,e=b._8314,a=a[0]!==e[0]||a[1]!==e[1]||a[2]!==e[2]||a[3]!==e[3],e=!b._6055.equals(this._6055),a||b._4976!==this._4976.valueOf()||b._3968!==this._3968.valueOf()||b._3956!==this._3956||d||e)?!0:!1};p._5947=function(){this._7428._9234=!0;for(var b=this._7614,a=0;a<b.length;a++)b[a]._7150();for(a=0;a<b.length;a++)b[a]._1103()};var L;b.pv.iss(f)?L=document.getElementById(f):(b.pv.ic(f,$)&&(f=f[0]),null!=f.tagName&&
(L=f));null==L&&b.pv.te("The parent DOM element for viewer is not found.");"DIV"!==L.tagName&&b.pv.te("The parent DOM element for viewer must be a DIV element.");L.style.setProperty("position","relative","important");this._7761=L;this._6354=b.WebImagingEnviromentJS.guid();this._1416=null;this._4586={width:L.clientWidth,height:L.clientHeight};this._4386=b.WebImagingEnviromentJS.get_ScrollSize(L);this._6223=b.WebImagingEnviromentJS.getScreenDpi().dpiX;0===this._6223&&(this._6223=96);this._3789=b.WebImagingEnviromentJS.getScreenDpi().dpiY;
0===this._3789&&(this._3789=96);this._6580=this._7117=0;this._8326="WebImageViewer";this._258=new b.WebImageCollectionJS;this._1983=this._5424=null;this._3990=!1;this._3666=this._3184=1024;this._10548=-1;this._9704=this._1000=100;this._1234=new s.WebImageSizeModeEnumJS(4);this._7428=this._3295=this._3792=this._6200=null;this._4365=0;this._3836=null;this._8098=250;this._6934=null;this._3638=0;this._6391=this._5774=!0;this._3122=null;this._7320=!0;this._10258=new b.WebImageTypeEnumJS(1);this._10458=
this._1611="";this._7907=!1;this._10552={};this._4423=null;this._1495=!0;this.set_ImageCacheManager(new k.WebImageCacheManagerJS);this._8985=null;this._7614=[];this._8022={};this._5686="";this._7887=!0;this._10622=new s.WebImageAppearanceJS("rgba(255,255,255,0)","rgba(0,0,0,1)",1);this._6055=new s.WebImageAppearanceJS("rgba(255,255,255,0)","rgba(255,255,255,0)",0);this._311=!1;this._8314=[4,4,4,4];this._4976=new s.WebImageLayoutDirectionEnumJS(2);this._3956=1;this._3968=new s.WebImageViewerMultipageDisplayModeEnumJS(2);
this._8769=0;this._2663=new s.WebImageAnchorTypeEnumJS(0);this._3965={width:100,height:100};this._550={x:96,y:96};this._9918=this._10294=this._6338=this._2798=null;this._372={};this._10177=null;f={v:this};L=this._6354;$(this._258.evm).on("changing."+L,f,t);$(this._258.evm).on("changed."+L,f,n);ua(this,this._10622);va(this,this._6055);(function(b){var a=b._7761,d=a.clientWidth,e=a.clientHeight,f=$("<div>");$(a).prepend(f);a={width:"100%",height:"100%",position:"absolute"};a["overflow-x"]=b._5774?"auto":
"hidden";a["overflow-y"]=b._6391?"auto":"hidden";f.css(a);$(f).on("scroll",{v:b},ta);b._6338=f;a=$("<div>").appendTo(f);a.css({position:"absolute","touch-action":"none",width:d,height:e});b._10294=a;var g=$("<div>").insertBefore(f);$(g).css({position:"absolute",overflow:"hidden",width:"100%",height:"100%"});var f={position:"absolute",top:0,left:0},h=$("<canvas>").appendTo(g);b._3792=h[0];$(h).css(f);b._3792.width=d;b._3792.height=e;b._1416={width:d,height:e};b._7428=b._3792.getContext("2d");g=$("<canvas>").appendTo(g);
b._3295=g[0];$(b._3295).css(f);b._3295.width=d;b._3295.height=e;b._6966(a);b._7391(a);null!=b._5424&&b._5424._636();b._4586={width:d,height:e};b._3836=setInterval(O,b._8098,b)})(this);this.set_ContextMenuFunc();this._10644=!1;this._2279=this._10153=null;this._8288=!1;this._9234=null;delete this._9234;delete p.focusedIndexChanged;delete p.imageRotating;delete p.imageRotated;delete p.zoomChanged;delete p.imageInfoLoaded;delete p.imageTilePainted;delete p.imagePainted;delete p.visualToolChanged;delete p.imageInfoLoadingException;
delete p.imagePaintingException;delete p.imagePainting;delete p.imageInfoLoading;delete p._9908;delete p._9304;delete p._8250;delete p._1242;delete p._7340;delete p.disposed;delete p._9988;delete p._940};e._6747=d;e.WebImageViewerJS=a;var f=function(a){function d(b,a,e){if(e.width!==b._8572||e.height!==b._9199)return!1;a=b.get_Images().get_Image(a);b=a.get_RenderingSettings();a=a.get_DecodingSettings();return b.equals(e.renderingSettings)&&(null!=a&&a.equals(e.decodingSettings)||null==a&&a==e.decodingSettings)}
function h(b,a,d){null==d&&(d=!0);b=$(b._7761).offset();b={x:a.pageX-b.left,y:a.pageY-b.top};if(d){d=0;switch(a.button){case 0:d=1;break;case 1:d=4;break;case 2:d=2;break;case 3:d=8;break;case 4:d=16}d=new s.WebMouseButtonsEnumJS(d)}else d=new s.WebMouseButtonsEnumJS(a.buttons);return{pc:b,pv:b,ps:b,e:a,b:d}}function r(b,a){var d=b.data.v,e;e=null!=a?a.get_Images():d.get_Images();n(d,e.toArray());d._1505();d._2650("_1242",a)}function l(b,a){var d=b.data.v,e=(null!=a?a.get_Images():d.get_Images()).toArray();
x(d,e);d._2650("_7340",a);d._5817(0,e);e=-1;null!=a&&(e=a._10548);d._10548=e;-1!==e&&d.scrollTo(e);d._3891||M(d)}function t(b){b.data.v.set_MasterViewer()}function w(b,a){b.data.v._2650("_940",a)}function C(b,a,d){b=document.getElementById(d._6354+"_ThumbnailStyleSheet").sheet.cssRules[b];null!=b&&(b=b.style,b.background=a._2524,b.border=a._5828,b.marginLeft=-a._6245+"px",b.marginTop=-a._6245+"px")}function q(b,a){var d=b.data.v,e=[],f=[];switch(a.actionName){case "set":e.push(a.previousImage);case "insert":f.push(a.image);
break;case "insertRange":f=a.images;break;case "removeAt":e.push(a.image);break;case "clear":case "removeRange":e=a.images}if(0!==e.length){n(d,e);for(var g=d.get_ImageCacheManager(),h=null!=g&&d.get_SyncCacheWithImages(),k=0;k<e.length;k++){var l=e[k];h&&g.contains(l)&&g.clearImageCache(l)}}x(d,f);d._2650("_9908",a)}function n(b,a){for(var d=0;d<a.length;d++)$(a[d].evm).off("."+b._6354)}function x(b,a){if(null==b._1983)for(var d=0;d<a.length;d++)$(a[d].evm).on("icd."+b._6354,{v:b},v)}function v(b,
a){var d=b.data.v,e=a.i;if("dc"===a.d){var f=d.get_ImageCacheManager();null!=f&&f.contains(e)&&f.clearImageCache(e)}f=d.get_Images().indexOf(e.get_Guid());d._9222(f,e,e);M(d);d._2650("_8250",a)}function z(b,a){var d=b.data.v,e=d._10548;d._1399(a);d._3891||M(d);d._2650("_9304",a);d._10548!==e&&d._2650("focusedIndexChanged",{newFocusedIndex:d._10548,previouslyFocusedIndex:e})}function y(b,a){var d=b.data.v,e=a.newFocusedIndex;-1!=e&&d.set_FocusedIndex(e)}function E(b){b._6338.find(".selected").removeClass("selected")}
function B(b,a){for(var d=0;d<b._6786.length;d++)if(b._6786[d]===a)return!0;return!1}function D(b){var a="";window.PointerEvent?a+=" pointerdown."+b+" MSPointerDown."+b:("ontouchstart"in window&&(a+=" touchstart."+b),a+=" mousedown."+b);return a}function F(b){var a="";window.PointerEvent?a+=" pointermove."+b+" MSPointerMove."+b:("ontouchstart"in window&&(a+=" touchmove."+b),a+=" mousemove."+b);return a}function ba(b){var a="";window.PointerEvent?a+=" pointerup."+b+" MSPointerUp."+b:("ontouchstart"in
window&&(a+=" touchend."+b),a+=" mouseup."+b);return a}function J(b,a,d,e){var f=$("<div>");f.css({"float":"left",position:"relative","margin-top":b,"margin-left":b,width:a,height:d});b=$("<div>",{id:e}).appendTo(f);$(b).css({width:a,height:d});$(b).addClass("border");$(b).addClass("notReady");return{border:b,main:f}}function qa(b){var a=b._7761;if(a.clientWidth!=b._4586.width||a.clientHeight!=b._4586.height){0!==b._4586.width&&0!==b._4586.height||O(b);var d=b.get_Images().get_Count();b._4586={width:a.clientWidth,
height:a.clientHeight};S(b,d);P(b);b._3891||M(b);4===b._7283.valueOf()&&Q(b,d)}}function ca(b,a){var d=b._7761,e=d.clientWidth,d=d.clientHeight;if(null==b._3295){var f=b._6338[0],f=$("<canvas>").insertAfter(f);f.css({left:"0px",top:"0px",position:"absolute","pointer-events":"none",display:"none","user-select":"none","-webkit-user-select":"none","-moz-user-select":"none"});b._3295=f[0]}b._3295.width=e;b._3295.height=d}function Q(b,a){var d=b._7664,e=-1,f=-1,g=b._1915(),h=g.width,g=g.height,k=b._5224,
l=b._7283.valueOf();S(b,a);switch(l){case 1:e=h;f=g*a+k*a;d.css("left","50%");d.css("top","0px");d.css("margin-left",-e/2-k);d.css("margin-top",0);d.css("margin-bottom",k);break;case 2:f=g;e=(h+k)*a;d.css("top","50%");d.css("left","0px");d.css("margin-top",-f/2-k);d.css("margin-left",0);break;case 4:l=b._7761;e=(h+k)*b._10399+k;f=(g+k)*b._8256;d.css("top","0px");e>l.clientWidth?(d.css("left","0px"),d.css("margin-left",k)):(l.clientWidth-e)/2<k?(d.css("left","0px"),d.css("margin-left",k)):(d.css("left",
"50%"),d.css("margin-left",-e/2));d.css("margin-top",0);d.css("margin-bottom",k);break;case 3:d.css({"margin-left":k,left:"0px",top:"0px","margin-top":0,"margin-bottom":k})}-1!=e?d.css({width:e,height:f}):d.css({width:"",height:""})}function S(a,d){if(0===d)a._8256=a._10399=0;else{0===a._4386&&(a._4386=b.WebImagingEnviromentJS.get_ScrollSize(a._7761));var e;switch(a.get_ThumbnailFlowStyle().valueOf()){case 1:e=1;break;case 2:e=d;break;case 4:e=Math.min(a.get_ThumbnailFixedColumnCount(),d);break;case 3:e=
a._7761;var f=a._1915().width,g=0;K(a,"y")&&(g=a._4386);e=Math.floor((e.clientWidth-a.get_ThumbnailMargin()-g)/(f+a.get_ThumbnailMargin()));e=0<e?Math.min(e,d):1}a._10399=e;a._8256=Math.ceil(d/e)}}function P(b){var a=b._7035(),d=b._7761,e=d.clientHeight,d=d.clientWidth,f=0,g=0;switch(b._3638){case 0:f=b._8855;g=b._4428;break;case 90:f=b._6415;g=b._8855;break;case 180:f=b._292;g=b._6415;break;case 270:f=b._4428,g=b._292}3===b._7283.valueOf()&&(f*=-1);b=b._6338;a.width+f>d?b.css("overflow-x","auto"):
b.css("overflow-x","hidden");a.height+g>e?b.css("overflow-y","auto"):b.css("overflow-y","hidden")}function K(b,a){var d=b._6338,e=d.css("overflow"),f;f=null==a||"y"==a?d.css("overflow-y"):d.css("overflow-x");return(d=null==a||"y"==a?d.get(0).scrollHeight>d.innerHeight():d.get(0).scrollWidth>d.innerWidth())&&("auto"==e||"visible"==e||"auto"==f||"visible"==f)||"scroll"==e||"scroll"==f}function M(b){var a=b.get_GenerateOnlyVisibleThumbnails(),d=b.get_ImageCacheManager();if(null!=d){for(var e=[],f=0;f<
b._10189.length;f++)1!==b._10189[f]&&e.push(f);for(var g=b._8572,h=b._9199,k=b.get_Images(),f=0;f<e.length;f++){var l=k.get_Image(e[f]),m=d._10240(g,h,l),m=d.getImageData(l,m);null!=m&&(m={fileId:m,image:l,width:g,height:h,renderingSettings:l.get_RenderingSettings().clone()},l=l.get_DecodingSettings(),null!=l&&(m.decodingSettings=l.clone()),b._5380(m))}}d=N(b);if(0!=d.length)for(e=b.get_Images(),f=0;f<d.length;f++)g=d[f],h=e.get_Image(g).get_Guid(),h=$(b._7761).find("#"+h),0===b._10189[g]&&(I(b,h,
g),g=b,m=h,null!=g._9918&&(h=g._9918.width,k=g._9918.height,0===h&&0===k&&(h=k=32),l=g._1915(),g=$($(g._9918).clone()).appendTo(m),$(g).css({position:"absolute","pointer-events":"none",top:(l.height-k)/2,left:(l.width-h)/2})));if(!b._3891)if(a)0==d.length?b._2650("visibleThumbnailsPainted"):ja(d,b);else if(a=b._6338[0],d=a.clientHeight,0!==a.clientWidth&&0!==d){a=[];for(d=0;d<b._10189.length;d++)1!==b._10189[d]&&a.push(d);0===a.length&&b._2650("visibleThumbnailsPainted");ja(a,b)}}function N(b){var a=
b.get_Images().get_Count();if(0===a)return[];var d=b.get_ThumbnailMargin(),e=b.get_ThumbnailPadding(),f=b._1915(),g=f.width,f=f.height,h=b._6338[0],k=h.clientWidth,l=h.clientHeight;if(0===k||0===l)return[];var m=h.scrollTop,h=h.scrollLeft,n=g+d,p=b._10399,q=h+k,r=m+l,s;s=m<d+e[0]?0:Math.floor(m/(f+d));l=Math.ceil(l/f)+s+1;l>b._8256&&(l=b._8256);n=h<d+e[3]?0:Math.floor(h/n);k=Math.ceil(k/g)+n+1;k>b._10399&&(k=b._10399);var t=b._7664.children("div");if(0===t.length)return[];for(var u=$(t[s*p+n]).position(),
t=u.left,u=u.top,v=0,x=0,w=0,y=0,z=[],A=s;A<l;A++){A!=s?(w+=f+d,y=w+f+e[2]):(w=u,y=w+f+e[0]+e[2]);for(var B=n;B<k;B++){var v=B!=n?v+(g+d):t,x=v+g+e[1],C=A*p+B;C<a&&(1<h-x||1>q-v||1<m-y||1>r-w||1===b._10189[C]||z.push(C))}}return z}function I(b,a,d){a=$("<img>").appendTo(a);var e=b._6056.valueOf()/100;a.css({width:b._8572*e,height:b._9199*e,display:"block",position:"absolute","margin-left":b._8855,"margin-top":b._4428,"margin-right":b._292,"margin-bottom":b._6415,"user-select":"none","-webkit-user-select":"none",
"-moz-user-select":"none"});0!==b._3638&&a.css(b._4380());e={v:b};a.on("click",e,fa);a.contextmenu(e,T);a.mouseover(e,ta);a.mouseout(e,va);a.on(D(b._6354),e,ua);b._10189[d]=2;b._2650("thumbnailPainting",d);return a[0]}function G(b,a,d){for(;-1!==b.indexOf(a);)b=b.replace(a,d);return b}function O(b){if(0!==b._7855){for(var a=0;a<b._10189.length;a++)0!==b._10189[a]&&(b._2650("thumbnailPainting",a),2===b._7855&&b._2650("thumbnailPainted",a));b._7855=0}}function ja(a,d){function e(b){d._5380(b)}function f(b){if(!b.blocked){null!=
b.fileId&&d._5380(b);var a=d.get_Images().indexOf(b.image);d._2650("imageRenderingException",{response:b,thumbnailIndex:a})}}function g(b){d._3891=!1;M(d)}if(0!==d._7117)d._6580=!0;else{for(var h=d._8572,k=d._9199,l=d.get_Images(),m=[],n=[],p=0;p<a.length;p++){var q=l.get_Image(a[p]);m.push(q);for(var r=q.get_Source(),s=!0,q=0;q<n.length;q++)if(r.equals(n[q])){s=!1;break}s&&n.push(r)}for(p=0;p<n.length;p++)n[p].get_ImageService().bi();0!==m.length&&(d._3891=!0);q={width:h,height:k,useCache:d._7320,
format:d._5186};for(p=0;p<m.length;p++)m[p].renderThumbnail(q,e,f);for(p=0;p<n.length;p++)if(m=n[p].get_ImageService().ei(),null!=m)for(q=0;q<m.length;q++)if(h=m[q].request,b.pv.ic(h,b.WebCompositeRequestJS)&&"RenderThumbnails"===h.get_ActionName())$(h).one("compositeError compositeSuccess",g)}}function R(b){var a=b.data.v;M(a);a._2650("scrollChanged",b)}function fa(b){var a=b.data.v,d=$(this).parent()[0].id,d=a.get_Images().indexOf(d);a._10548!=d?a.set_FocusedIndex(d):a.set_SelectedIndices(d);a._2650("thumbnailClick",
{thumbnailIndex:d,originalEvent:b})}function ta(b){var a=b.data.v,d=$(this).parent()[0].id,d=a.get_Images().indexOf(d);if(!B(a,d))if(a.get_FocusOnHover())a.set_FocusedIndex(d);else{var e="";d==a._10548&&(e+="focused");a._1804(d,e+" hovered")}a._2650("thumbnailMouseover",{thumbnailIndex:d,originalEvent:b})}function T(b){var a=b.data.v,d=$(this).parent()[0].id,d=a.get_Images().indexOf(d);a._2650("thumbnailContextMenu",{thumbnailIndex:d,originalEvent:b})}function ua(b){var a=b.data.v,d=$(this).parent()[0].id,
d=a.get_Images().indexOf(d),e=b;"mousedown"!=b.type&&(e="touchstart"==b.type?b.originalEvent.touches[0]:b.originalEvent);e=e.button;0===e||2===e?(a._8889=!0,a.set_SelectedIndices([d])):0===a._6786.length&&a.set_SelectedIndices([d]);a._2650("thumbnailMousedown",{thumbnailIndex:d,originalEvent:b})}function va(b){var a=b.data.v,d=$(this).parent()[0].id,d=a.get_Images().indexOf(d),e="",e=d==a._10548?e+"focused":1===a._10189[d]?e+"normal":e+"notReady";B(a,d)&&(e+=" selected");a._1804(d,e);a._2650("thumbnailMouseout",
{thumbnailIndex:d,originalEvent:b})}function ka(b,a){b.data.v.set_ImageRotationAngle(a)}function p(b){b._8572=b._8680.width;b._9199=b._8680.height;b._7283=b._4515;b._1782=b._4205;b._6056=b._114;b._4428=b._512[0];b._292=b._512[1];b._6415=b._512[2];b._8855=b._512[3];b._5224=b._6545;b._3638=b._866}function L(b){b.cancelable=!0;b.preventDefault?b.preventDefault():b.returnValue=!1}var u=f.prototype;u.focusedIndexChanged=function(b,a){};u.imageRotating=function(b,a){};u.imageRotated=function(b,a){};u.thumbnailRendered=
function(b,a){};u.thumbnailPainting=function(b,a){};u.thumbnailPainted=function(b,a){};u.visibleThumbnailsPainted=function(b){};u.imageRenderingException=function(b,a){};u.scrollChanged=function(b,a){};u.thumbnailClick=function(b,a){};u.thumbnailMouseover=function(b,a){};u.thumbnailContextMenu=function(b,a){};u.thumbnailMousedown=function(b,a){};u.thumbnailMouseout=function(b,a){};u.disposed=function(b){};u._9908=function(b,a){};u._9304=function(b,a){};u._8250=function(b,a){};u._1242=function(b,a){};
u._7340=function(b,a){};u._10089=function(b){};u._940=function(b,a){};u.get_Images=function(){this._4804();var b=this._1983;return null==b?this._258:b.get_Images()};u.get_FocusedIndex=function(){this._4804();return this._10548};u.set_FocusedIndex=function(a){b.pv.n(a);(-1>a||a>this.get_Images().get_Count()-1)&&b.pv.toe();var d=this._10548;if(a!==d&&(-1!==d&&(1===this._10189[d]?this._1804(d,"normal"):this._1804(d,"notReady")),this._10548=a,-1!==a&&(this._1804(a,"focused"),this.scrollTo(a),this.set_SelectedIndices(a)),
this._2650("focusedIndexChanged",{newFocusedIndex:a,previouslyFocusedIndex:d}),null!=this._1983))try{this._1983.set_FocusedIndex(a)}catch(e){}};u.get_MasterViewer=function(){this._4804();return this._1983};u.set_MasterViewer=function(a){this._4804();if(a!=this&&this._1983!==a){if(null!=a){b.pv.ic(a,e.WebImageViewerJS)||b.pv.ic(a,f)||b.pv.tae();a._1983===this&&a.set_MasterViewer();for(var d=a;null!=(d=d._1983);)d===this&&b.pv.te("MasterViewer cannot refers to itself.")}this._1497();this._1983=a;this._7982()}};
u.get_ProgressImage=function(){this._4804();return this._9918};u.set_ProgressImage=function(a){this._4804();null!=a&&b.pv.c(a,Image);this._9918=a};u.get_ThumbnailWidth=function(){b.pv.te("This property is obsolete from version 8.8. Use the 'get_ThumbnailSize' property instead.")};u.get_ThumbnailHeight=function(){b.pv.te("This property is obsolete from version 8.8. Use the 'get_ThumbnailSize' property instead.")};u.get_ThumbnailSize=function(){this._4804();var b=this._8572,a=this._9199;0!==this._7117&&
(b=this._8680.width,a=this._8680.height);return{width:b,height:a}};u.set_ThumbnailSize=function(a,d){this._4804();var e,f;null==d?(e=a.width,f=a.height):(e=a,f=d);b.pv.n(e,f);32>e&&(e=32);1024<e&&(e=1024);32>f&&(f=32);1024<f&&(f=1024);var g=this.get_ThumbnailSize();if(g.width!==e||g.height!==f)this._6580=!0,this._8680={width:e,height:f},0===this._7117&&this.update()};u.get_ThumbnailFlowStyle=function(){this._4804();return 0!==this._7117?this._4515:this._7283};u.set_ThumbnailFlowStyle=function(a){this._4804();
a=b.pv.e(a,s.WebThumbnailFlowStyleEnumJS);a.equals(this.get_ThumbnailFlowStyle())||(this._6580=!0,this._4515=a,0===this._7117&&this.update())};u.get_ThumbnailColumnCount=function(){this._4804();return this._10399};u.get_ThumbnailFixedColumnCount=function(){this._4804();return 0!==this._7117?this._4205:this._1782};u.set_ThumbnailFixedColumnCount=function(a){this._4804();b.pv.n(a);0>=a&&b.pv.toe();a!==this.get_ThumbnailFixedColumnCount()&&(this._6580=!0,this._4205=a,0===this._7117&&this.update())};
u.get_ThumbnailScale=function(){this._4804();return 0!==this._7117?this._114:this._6056};u.set_ThumbnailScale=function(a){this._4804();a=b.pv.e(a,s.WebThumbnailScaleEnumJS);a.equals(this.get_ThumbnailScale())||(this._6580=!0,this._114=a,0===this._7117&&this.update())};u.get_GenerateOnlyVisibleThumbnails=function(){this._4804();return this._264};u.set_GenerateOnlyVisibleThumbnails=function(a){this._4804();b.pv.b(a);if(this._264!==a)if(this._264=a)this._6338.on("scroll",{v:this},R);else this._6338.off("scroll"),
0<this.get_Images().get_Count()&&M(this)};u.get_FocusOnHover=function(){this._4804();return this._611};u.set_FocusOnHover=function(a){this._4804();b.pv.b(a);this._611=a};u.get_ThumbnailMargin=function(){this._4804();return 0!==this._7117?this._6545:this._5224};u.set_ThumbnailMargin=function(a){this._4804();b.pv.n(a);0>a&&(a=0);a!==this.get_ThumbnailMargin()&&(this._6580=!0,this._6545=a,0===this._7117&&this.update())};u.get_ThumbnailPadding=function(){this._4804();var b=[this._4428,this._292,this._6415,
this._8855];0!==this._7117&&(b=this._512.slice());return b};u.set_ThumbnailPadding=function(a){this._4804();var d=[];null!=a.length?(b.pv.ad(a,b.pv.n),4!==a.length&&b.pv.tae(),d[0]=0<=a[0]?a[0]:0,d[1]=0<=a[1]?a[1]:0,d[2]=0<=a[2]?a[2]:0,d[3]=0<=a[3]?a[3]:0):(b.pv.n(a),0>a&&(a=0),d[0]=d[1]=d[2]=d[3]=a);a=this.get_ThumbnailPadding();if(a[0]!==d[0]||a[1]!==d[1]||a[2]!==d[2]||a[3]!==d[3])this._6580=!0,this._512=d,0===this._7117&&this.update()};u.get_SelectedIndices=function(){this._4804();return this._6786.slice()};
u.set_SelectedIndices=function(a){this._4804();if(null==a)this._6786=[],E(this);else{var d=[];if(null!=a.length)if(this._7186)for(var e=0;e<a.length;e++)-1===d.indexOf(a[e])&&d.push(a[e]);else d.push(a[0]);else"number"==typeof a&&d.push(a);var f=this.get_Images().get_Count();b.pv.ad(d,function(a){b.pv.n(a);(0>a||a>=f)&&b.pv.toe()});this._6786=d;E(this);for(e=0;e<d.length;e++)this._1804(d[e],"selected")}};u.get_MultiSelect=function(){this._4804();return this._7186};u.set_MultiSelect=function(a){this._4804();
b.pv.b(a);this._7186=a};u.get_ImageRotationAngle=function(){this._4804();return 0!==this._7117?this._866:this._3638};u.set_ImageRotationAngle=function(a){this._4804();b.pv.n(a);a=k._2813._3803(a);0!==a&&90!==a&&180!==a&&270!==a&&b.pv.te("Argument value exception.");var d=this.get_ImageRotationAngle();a!==d&&(this._2650("imageRotating",{currentAngle:d,newAngle:a}),this._6580=!0,this._866=a,0===this._7117&&this.update(),null!=this._1983&&this._1983.set_ImageRotationAngle(a),this._2650("imageRotated",
a))};u.get_ImageInfo=function(b){var a=this.get_Images().get_Image(b);b=a.get_Size();var d=a.get_Resolution(),a=a.get_IsVector();return null==b||null==d?null:{size:b,resolution:d,isVector:a}};u.get_ThumbnailCanvas=function(a){b.pv.n(a);var d=this.get_Images();(0>a||a>d.get_Count())&&b.pv.toe();a=d.get_Image(a).get_Guid();d=$("#"+a).parent();a=$(d).children("canvas");0===a.length&&(a=$("<canvas>").appendTo(d),a.css({"pointer-events":"none",position:"absolute",top:"0px",left:"0px","user-select":"none",
"-webkit-user-select":"none","-moz-user-select":"none"}),d=this._1915(),a[0].width=d.width,a[0].height=d.height);return a[0]};u.get_UseCache=function(){this._4804();return this._7320};u.set_UseCache=function(a){this._4804();b.pv.b(a);this._7320=a};u.get_ThumbnailsFormat=function(){this._4804();return this._5186};u.set_ThumbnailsFormat=function(a){this._4804();this._5186=b.pv.e(a,b.WebImageTypeEnumJS)};u.get_NormalThumbnailAppearance=function(){this._4804();return this._9463};u.set_NormalThumbnailAppearance=
function(a){this._4804();b.pv.c(a,s.WebThumbnailAppearanceJS);this._9463.equals(a)||(this._9463=a,C(0,this._9463,this))};u.get_FocusedThumbnailAppearance=function(){this._4804();return this._7337};u.set_FocusedThumbnailAppearance=function(a){this._4804();b.pv.c(a,s.WebThumbnailAppearanceJS);this._7337.equals(a)||(this._7337=a,C(1,this._7337,this))};u.get_HoveredThumbnailAppearance=function(){this._4804();return this._1094};u.set_HoveredThumbnailAppearance=function(a){this._4804();b.pv.c(a,s.WebThumbnailAppearanceJS);
this._1094.equals(a)||(this._1094=a,C(2,this._1094,this))};u.get_NotReadyThumbnailAppearance=function(){this._4804();return this._954};u.set_NotReadyThumbnailAppearance=function(a){this._4804();b.pv.c(a,s.WebThumbnailAppearanceJS);this._954.equals(a)||(this._954=a,C(3,this._954,this))};u.get_SelectedThumbnailAppearance=function(){this._4804();return this._3737};u.set_SelectedThumbnailAppearance=function(a){this._4804();b.pv.c(a,s.WebThumbnailAppearanceJS);this._3737.equals(a)||(this._3737=a,C(4,this._3737,
this))};u.get_ImageCacheManager=function(){this._4804();var b=this._1983;return null==b?this._4423:b.get_ImageCacheManager()};u.set_ImageCacheManager=function(a){this._4804();null!=a&&b.pv.c(a,k.WebImageCacheManagerJS);null!=this._1983&&b.pv.te("Cannot change cache manager of slave viewer.");this._4423!==a&&(this._4423=a,this._2650("_940",a))};u.get_SyncCacheWithImages=function(){this._4804();var b=this._1983;return null!=b?b.get_SyncCacheWithImages():this._1495};u.set_SyncCacheWithImages=function(a){this._4804();
b.pv.b(a);null!=this._1983&&b.pv.te("Can not change cache property of slave viewer.");this._1495=a};u.get_ControlId=function(){this._4804();return this._7761.id};u.get_Control=function(){return this._7761};u.get_ContextMenuFunc=function(){this._4804();return this._2791};u.set_ContextMenuFunc=function(a){this._4804();null!=a&&b.pv.f(a);this._2791=a;if(null!=this._6338){var d=this;d._6338[0].oncontextmenu=function(b){L(b);b.stopPropagation();var a;null!=d._2791&&(a=d._2791(b));return null!=a?a:!1}}};
u.get_IsDisposed=function(){return this._8288};u.get_DisplayThumbnailCaption=function(){this._4804();return this._8862};u.set_DisplayThumbnailCaption=function(a){this._4804();b.pv.b(a);this._8862!==a&&((this._8862=a)?this._6451():this._7664.find("div.caption").remove())};u.get_ThumbnailCaptionFormat=function(){this._4804();return this._454};u.set_ThumbnailCaptionFormat=function(a){this._4804();b.pv.s(a);this._454!==a&&(this._454=a,this._8862&&this._9170(!0,!0))};u.get_ThumbnailCaptionAnchor=function(){this._4804();
return this._1668};u.set_ThumbnailCaptionAnchor=function(a){this._4804();a=b.pv.e(a,s.WebImageAnchorTypeEnumJS);a.equals(this._1668)||(this._1668=a,this._8862&&this._9170(!1,!0))};u._422=function(){var b=this._6338[0];return{y:b.scrollTop,x:b.scrollLeft}};u._3675=function(b,a){var d=this._6338[0];d.scrollTop=a;d.scrollLeft=b};u.beginInit=function(){this._4804();this._7117++};u.endInit=function(){this._4804();this._7117--;0===this._7117?(this._6580&&this.update(),this._6580=!1):0>this._7117&&(this._7117=
0)};u.scrollTo=function(a){b.pv.n(a);var d=this.get_Images();if(!(0>a||a>d.get_Count())){var e=!1;try{var f=d.get_Image(a).get_Guid(),g=$("#"+f).parent(),h=$(g).position(),k=this._6338[0],l=this._1915(),m=h.top+this._4428,n=m+l.height,p=k.scrollTop,q=p+k.clientHeight;a=0;if(n<=q&&m>=p)a=p;else{if(n>q||m>q)a=n-q+p+2*this._5224+this._4428+this._6415;m<p&&(a=m-this._5224+this._4428)}var r=k.scrollLeft,s=r+k.clientWidth,t=h.left+this._8855,u=t+l.width,h=0;if(u<=s&&t>=r)h=r;else{if(u>s||t>s)h=u-s+r+2*
this._5224+this._8855+this._292;t<r&&(h=t-this._5224+this._8855)}k.scrollTop=a;k.scrollLeft=h}catch(v){e=!0}this._3891||e||M(this)}};u.update=function(){var b=this.get_Images().get_Count();if(0<b){if(0===this._7117&&this._6580){var a=this._8680.width!==this._8572||this._8680.height!==this._9199,d=!this._6056.equals(this._114),e=this._6545!==this._5224,f=this._512[0]!==this._4428||this._512[1]!==this._292||this._512[2]!==this._6415||this._512[3]!==this._8855,g=this._866!==this._3638,h=!1;if(a||d)var d=
this._114.valueOf()/100,h=this._8680.height*d,k=this._6056.valueOf()/100,l=this._9199*k,h=this._8680.width*d!==this._8572*k||h!==l;d=this._1915();p(this);k=this._1915();d=d.width!==k.width||d.height!==k.height;Q(this,b);b=this._7664.children("div");k=$(b).children("div");l=this._5224;e&&b.css({"margin-left":l,"margin-top":l});if(d||h||f||g)if(e=this._1915(),d&&this._1883(b,k,e.width,e.height),k=$(k).children("img:nth-child(1)"),0!==k.length&&(f&&this._803(k,this._4428,this._292,this._6415,this._8855),
h&&(f=this._6056.valueOf()/100,this._6641(k,this._8572*f,this._9199*f)),0!==this._3638?this._2578(k):g&&this._6095(k)),d)for(g=$(b).children("canvas"),f=0;f<g.length;f++)g[f].width=e.width,g[f].height=e.height;g=0;a?g=1:d&&(g=2);this._7855=g;d&&(g=this._7664.find(".border").children("img:nth-child(2)"),0!=g.length&&(f=this._1915(),d=$(g[0]).width(),e=$(g[0]).height(),d=(f.width-d)/2,g.css("top",(f.height-e)/2),g.css("left",d)),this._9170(!1,!0));if(a)for(a=0;a<this.get_Images().get_Count();a++)1===
this._10189[a]&&(this._10189[a]=2);this._6580=!1}a=this._6338[0];0!==a.clientHeight&&0!==a.clientWidth&&O(this);P(this);this._2650("_10089");this._3891||M(this)}else 0===this._7117&&(p(this),this._6580=!1,this._2650("_10089"))};u.invalidate=function(b){this._4804();var a=this._3295;b=a.getContext("2d");var d=a.width,a=a.height;b.clearRect(0,0,d,a);this._10175&&this._10175._8927(this._2351(),{width:d,height:a})};u.focus=function(){this._4804();$(this._7761).focus()};u.dispose=function(){this._4804();
clearInterval(this._3836);this._8256=this._10399=null;this._10189=[];this._10548=-1;this._6786=[];this._3891=!1;this._4423=this._9918=this._10175=null;var b="."+this._6354;$(this._258.evm).off(b);for(var a=0;a<this._258.get_Count();a++){var d=this._258.get_Image(a);$(d.evm).off(b)}if(null!=this._1983){$(this._1983._10552).off(b);for(var e=this.get_Images(),a=0;a<e.get_Count();a++)d=e.get_Image(a),$(d.evm).off(b);this._1983=null}this._9610();$("head #"+(this._6354+"_ThumbnailStyleSheet")).remove();
$(this._7761).empty();this._3295=this._7664=this._6338=this._7761=null;this._2650("disposed");this._8288=!0;$(this).off();$(this._10552).off()};u._7035=function(){var b=this._6338[0];return{width:b.scrollWidth,height:b.scrollHeight}};u._774=function(){return this._7035()};u._7542=function(){try{null==this._10175&&(this._10175=new ob._7816,this._6338.find("img").css("z-index",2),this._10175._6672(this),0!=this._6786.length&&this.set_SelectedIndices(this._6786))}catch(b){}};u._5380=function(b){function a(){s._2650("thumbnailRendered",
{thumbnailId:g,thumbnailIndex:h});s._2650("thumbnailPainted",h)}function e(){if(10>t)setTimeout(function(){p.src=q},250),t++;else{if(null!=r){var b=r._10240(s._8572,s._9199,f);r._3142(g,b)}s._10189[h]=2;M(s)}}if(!this._526){var f=b.image,g=f.get_Guid(),h=this.get_Images().indexOf(f);if(-1!==h&&d(this,h,b))if(1===this._10189[h])M(this);else{var k=$(this._7761).find("#"+g)[0],l=$(k).children("img"),n=l[1];null!=n&&$(n).remove();var p=l[0];null==p&&(p=I(this,k,h));var q=b.fileId;/^data:image\/[a-zA-Z]+;base64,/.test(q)||
(q+="?"+b.image.gi());var r=this.get_ImageCacheManager(),s=this,t=0;p.onload=a;p.onerror=e;p.src=q;this._8862&&0===$(k).find(".caption").length&&this._9231(k,h);null!=r&&(k=r._10240(this._8572,this._9199,b.image),r.containsImageData(f,k)||r.addImageData(f,k,b.fileId));this._10548==h?this._1804(h,"focused"):this._1804(h,"normal");B(this,h)&&this._1804(h,"selected");this._10189[h]=1}}};u._2467=function(a){var d=this._10175;if(null!=d&&d._2111){var e=a;"mousedown"!=a.type&&(a="touchstart"==a.type?a.originalEvent.touches[0]:
a.originalEvent,a.sourceEvent=e);var e=h(this,a),f=this._6338,g=a,k=this._6338;0===this._4386&&(this._4386=b.WebImagingEnviromentJS.get_ScrollSize(this._7761));var l=K(this,"y"),m=K(this,"x"),n=g.pageX,g=g.pageY,p=k.offset(),q,r,s,t;r=q=!1;l&&(l=p.top,s=p.left+k.width(),t=l+k.height(),r=s-this._4386,r=g>=l&&g<=t&&n>=r&&n<s);m&&(m=p.top+k.height(),p=p.left,q=m-this._4386,k=p+k.width(),q=g>=q&&g<=m&&n>=p&&n<k);q||r?f.css("touch-action","pan-x pan-y"):(L(a),f.css("touch-action","none"),ca(this,this._7035()),
$(this._3295).css("display","block"),this._7289(),d._2467(e));this.focus()}};u._4621=function(b){L(b);var a=this._10175;if(null!=a&&a._2111){if("mousemove"!=b.type){var d=b;b="touchmove"==b.type?b.originalEvent.touches[0]:b.originalEvent;b.sourceEvent=d}b=h(this,b,!1);a._4621(b)}};u._8087=function(b){var a=this._10175;if(null!=a&&a._2111){if("mouseup"!=b.type){var d=b;b="touchend"==b.type?b.originalEvent.changedTouches[0]:b.originalEvent;b.sourceEvent=d}b=h(this,b);a._8087(b);$(this._3295).css("display",
"none");this._9610()}};u._9308=function(b){L(b)};u._2351=function(b){b=this._422();var a=new k.WebMatrixJS;a.translate(-b.x,-b.y);return a};u._9168=function(b){return this._2351(b).invert()};u._4804=function(){this._8288&&b.pv.te("Viewer is disposed.")};u._2650=function(b,a){$(this._10552).triggerHandler(b,a);$(this).triggerHandler(b,a)};u._1497=function(){var b=this._1983;r({data:{v:this}},b);null!=b&&$(b._10552).off("."+this._6354)};u._7982=function(){var b=this._1983;if(null!=b){var a=this._6354,
d={v:this},e=b._10552;$(e).on("_9908."+a,d,q);$(e).on("_9304."+a,d,z);$(e).on("_8250."+a,d,v);$(e).on("focusedIndexChanged."+a,d,y);$(e).on("imageRotated."+a,d,ka);$(e).on("_940."+a,d,w);$(e).on("_1242."+a,d,r);$(e).on("_7340."+a,d,l);$(e).on("disposed."+a,d,t)}l({data:{v:this}},b)};u._1399=function(b){switch(b.actionName){case "clear":this._1505();break;case "set":this._9222(b.imageIndex,b.image,b.previousImage);break;case "removeAt":case "removeRange":var a=[],d=[];"removeRange"===b.actionName?
(a=b.imagesIndexes,d=b.images):(a.push(b.imageIndex),d.push(b.image));this._9662(a,d);this._9170(!0,!1,a[0]);break;case "insert":case "insertRange":a=b.imageIndex,d=[],"insert"===b.actionName?d.push(b.image):d=b.images,this._5817(a,d),this._9170(!0,!1,a+d.length)}};u._1505=function(){this._10548=-1;this._7664.children().remove();this._10189=[];this._6786=[];Q(this,0)};u._9222=function(b,a,d){var e=d.get_Guid(),e=$("#"+e);a!==d&&e.attr("id",a.get_Guid());e.find(".caption").remove();1===this._10189[b]&&
(this._10189[b]=2)};u._9662=function(b,a){for(var d=0;d<a.length;d++){var e=a[d].get_Guid();$("#"+e).parent().remove()}for(d=b.length-1;0<=d;d--)this._10189.splice(b[d],1);for(d=0;d<this._6786.length;){for(var f=!1,e=0;e<b.length;e++)if(this._6786[d]===b[e]){this._6786.splice(d,1);f=!0;break}f||d++}for(var f=!1,g=0,h=[],d=0;d<this._6786.length;d++)h.push(0);for(d=0;d<b.length;d++){for(e=0;e<this._6786.length;e++)this._6786[e]>b[d]&&(h[e]+=1);this._10548>b[d]?g++:this._10548===b[d]&&(f=!0)}for(d=0;d<
this._6786.length;d++)this._6786[d]-=h[d];this._10548-=g;f&&(0===this.get_Images().get_Count()?this._10548=-1:(this._10548==this.get_Images().get_Count()&&this._10548--,this._1804(this._10548,"focused"),-1!=this._6786.indexOf(this._10548)&&this._1804(this._10548,"selected")));Q(this,this.get_Images().get_Count())};u._5817=function(b,a){for(var d=this._1915(),e=d.width,f=d.height,d=[],g=0;g<a.length;g++){var h=a[g].get_Guid();d.push(J(this._5224,e,f,h))}g=this.get_Images();e=g.get_Count();if(e==a.length)for(g=
0;g<d.length;g++)$(d[g].main).appendTo(this._7664);else for(b<e-a.length?(g=g.get_Image(b+a.length).get_Guid(),g=$("#"+g).parent(),$(d[0].main).insertBefore(g)):(g=g.get_Image(b-1).get_Guid(),g=$("#"+g).parent(),$(d[0].main).insertAfter(g)),g=1;g<d.length;g++)$(d[g].main).insertAfter(d[g-1].main);for(g=0;g<d.length;g++)this._10189.splice(b+g,0,0);this._10548>=b&&(this._10548+=a.length);for(g=0;g<this._6786.length;g++)this._6786[g]>=b&&(this._6786[g]+=a.length);-1==this._10548&&0===b&&(this._10548=
b,this._1804(b,"focused"));Q(this,e);P(this);e!==a.length&&this.scrollTo(this._10548)};u._1804=function(b,a){var d=this.get_Images();0<=b&&b<d.get_Count()&&(d=d.get_Image(b).get_Guid(),d=$(this._7761).find("#"+d),0!=d.length&&(d=d[0],"selected"!==a?($(d).removeClass(),$(d).addClass("border "+a)):($(d).addClass("border"),b===this._10548&&$(d).addClass("focused"),$(d).addClass(a))))};u._4380=function(){var b=this._3638,a=this._8572*this._6056.valueOf()/100,d=this._9199*this._6056.valueOf()/100,e=0,
f=0;switch(b){case 90:e=d;break;case 180:e=a;f=d;break;case 270:f=a}b="translate("+e+"px,"+f+"px) rotate("+b+"deg)";return{transform:b,"-moz-transform":b,"-webkit-transform":b,"-o-transform":b,"-ms-transform":b,"transform-origin":"0px 0px","-moz-transform-origin":"0px 0px","-webkit-transform-origin":"0px 0px","-o-transform-origin":"0px 0px","-ms-transform-origin":"0px 0px"}};u._7574=function(){return{transform:"","-moz-transform":"","-webkit-transform":"","-o-transform":"","-ms-transform":"","transform-origin":"",
"-moz-transform-origin":"","-webkit-transform-origin":"","-o-transform-origin":"","-ms-transform-origin":""}};u._6523=function(){var b=this,a=b._6354;$(b._7761).on(D(a),function(a){b._2467(a)})};u._6604=function(){var b=this._6354;$(this._7761).off(D(b))};u._7289=function(){var b=this,a=b._6354;$(document).on(F(a),function(a){b._4621(a)});$(document).on(ba(a),function(a){b._8087(a)})};u._9610=function(){var b=this._6354;$(document).off(F(b));$(document).off(ba(b))};u._1883=function(b,a,d,e){d={width:d,
height:e};b.css(d);a.css(d)};u._803=function(b,a,d,e,f){b.css({"margin-top":a,"margin-right":d,"margin-bottom":e,"margin-left":f})};u._6641=function(b,a,d){b.css({width:a,height:d})};u._2578=function(b){var a=this._4380();b.css(a);return a};u._6095=function(b){var a=this._7574();b.css(a);return a};u._6451=function(){for(var b=this._7664.find("div.border"),a=0;a<this._10189.length;a++)if(1===this._10189[a]){var d=$(b[a]);this._9231(d,a)}};u._9231=function(b,a){if(this._8862){var d=$("<div>").appendTo(b);
d.addClass("caption");if(null==this._5884){var e=d.css("top"),f=d.css("left"),g=d.css("right"),h=d.css("bottom");this._5884="auto"!==e||"auto"!==f||"auto"!==g||"auto"!==h}d.css({position:"absolute","user-select":"none",cursor:"inherit","pointer-events":"none"});this._6792(d,a,!0,!0)}};u._9170=function(b,a,d,e){if(this._8862){null==d&&(d=0);var f=this._10189.length;null!=e&&(f=d+e,f>this._10189.length&&(f=this._10189.length));for(e=this._7664.find("div.border");d<f;d++)if(0!==this._10189[d]){var g=
$(e[d]).find(".caption");0!==g.length&&this._6792(g,d,b,a)}}};u._6792=function(b,a,d,e){d?(this._7582(b,a),this._9534(b)):e&&this._9534(b)};u._7582=function(b,a){var d=this._454;if(""!==d){var e=this.get_Images().get_Image(a),f=e.get_PageIndex(),g=e.get_ImageId(),h=e.get_Size(),e=e.get_Resolution(),d=G(d,"{FileId}",g),d=G(d,"{PageNumber}",f+1),d=G(d,"{PageIndex}",f),d=G(d,"{ImageNumber}",a+1),d=G(d,"{ImageIndex}",a);null!=h&&(f=h.width,h=h.height,g=f*h/1E6,d=G(d,"{ImageWidthPx}",f),d=G(d,"{ImageHeightPx}",
h),d=G(d,"{ImageSizeMpx}",g));null!=e&&(d=G(d,"{ImageHRes}",e.x),d=G(d,"{ImageVRes}",e.y))}b.text(d)};u._9534=function(b){if(!this._5884){var a="",d="",e="",f="";b.css({top:a,left:d,right:e,bottom:f});var g=this._1668.valueOf(),h=b.width(),k=b.height(),l=this._1915(),k=(l.height-k)/2,h=(l.width-h)/2,l="center";switch(g){case 15:a=k;d=h;break;case 1:case 13:a=0;d=h;break;case 2:case 14:d=h;f=0;break;case 4:case 7:l="left";a=k;d=0;break;case 5:l="left";d=a=0;break;case 6:l="left";f=d=0;break;case 8:case 11:l=
"right";a=k;e=0;break;case 9:l="right";e=a=0;break;case 10:l="right",f=e=0}b.css({top:a,left:d,right:e,bottom:f,"text-align":l})}};u._1915=function(){var b=this._8572*this._6056.valueOf()/100,a=this._9199*this._6056.valueOf()/100;if(90===this._3638||270===this._3638)var d=b,b=a,a=d;b+=this._292+this._8855;a+=this._4428+this._6415;return{width:b,height:a}};var H;b.pv.iss(a)?H=document.getElementById(a):(b.pv.ic(a,$)&&(a=a[0]),null!=a.tagName&&(H=a));null==H&&b.pv.te("The parent DOM element for viewer is not found.");
"DIV"!==H.tagName&&b.pv.te("The parent DOM element for viewer must be a DIV element.");H.style.setProperty("position","relative","important");this._7761=H;this._6354=b.WebImagingEnviromentJS.guid();this._4386=b.WebImagingEnviromentJS.get_ScrollSize(H);this._8256=this._10399=null;this._10189=[];this._7117=0;this._6580=!1;this._7855=0;this._10175=null;this._8889=!1;this._8326="WebThumbnailViewer";this._9918=this._1983=null;this._258=new b.WebImageCollectionJS;this._9199=this._8572=100;this._7283=new s.WebThumbnailFlowStyleEnumJS(1);
this._1782=2;this._6056=new s.WebThumbnailScaleEnumJS(100);this._10548=-1;this._264=!0;this._611=!1;this._5224=20;this._8855=this._6415=this._292=this._4428=5;this._6786=[];this._7186=!0;this._3295=null;this._3891=!1;this._3638=0;this._7320=!0;this._5186=new b.WebImageTypeEnumJS(1);this._3836=null;this._8098=500;this._4423=null;this._1495=!0;this.set_ImageCacheManager(new k.WebImageCacheManagerJS);this._10552={};this._7664=this._6338=null;this._8288=!1;this._8680={width:this._8572,height:this._9199};
this._4515=this._7283;this._4205=this._1782;this._114=this._6056;this._512=[this._4428,this._292,this._6415,this._8855];this._6545=this._5224;this._866=this._3638;this._9463=new s.WebThumbnailAppearanceJS("white","1px solid #eeeeee");this._7337=new s.WebThumbnailAppearanceJS("white","1px dotted gray");this._1094=new s.WebThumbnailAppearanceJS("#BAD2EB","2px solid #BAD2EB");this._954=new s.WebThumbnailAppearanceJS("black","0px solid black");this._3737=new s.WebThumbnailAppearanceJS("#AAEEFD","1px solid #99DEFD");
this._2791=null;this._8862=!0;this._454="{ImageNumber}";this._1668=new s.WebImageAnchorTypeEnumJS(2);this._5884=null;(function(b){var a=document.createElement("style"),d=b._6354;a.type="text/css";a.id=d+"_ThumbnailStyleSheet";var d=b._9463._633(),e=b._7337._633(),f=b._1094._633(),g=b._954._633(),h=b._3737._633();b=b.get_ControlId();var k="";""!==b&&(k="#"+b);a.innerHTML+=k+" .border.normal{"+d+"}";a.innerHTML+=k+" .border.focused{"+e+"}";a.innerHTML+=k+" .border.hovered{"+f+"}";a.innerHTML+=k+" .border.notReady{"+
g+"}";a.innerHTML+=k+" .border.selected{"+h+"}";document.getElementsByTagName("head")[0].appendChild(a)})(this);a={v:this};$(this._10552).on("_409",a,function(b){b=b.data.v;b._8889?b._8889=!1:(E(b),b._6786=[])});H=this._6354;$(this._258.evm).on("changing."+H,a,q);$(this._258.evm).on("changed."+H,a,z);(function(b){var a=b._7761;b._6523();var d=$("<div>");$(a).prepend(d);b._6338=d;d.css({width:"100%",height:"100%",position:"relative",overflow:"hidden","touch-action":"none"});var e=$("<div>").appendTo(d);
e.css("position","absolute");b._7664=e;if(b._264)$(d).on("scroll",{v:b},R);ca(b,b._7035());P(b);b._7542();b._4586={width:a.clientWidth,height:a.clientHeight};b._3836=setInterval(qa,b._8098,b)})(this);this.set_ContextMenuFunc();delete u.focusedIndexChanged;delete u.imageRotating;delete u.imageRotated;delete u.thumbnailRendered;delete u.thumbnailPainting;delete u.thumbnailPainted;delete u.visibleThumbnailsPainted;delete u.imageRenderingException;delete u.scrollChanged;delete u.thumbnailClick;delete u.thumbnailMouseover;
delete u.thumbnailContextMenu;delete u.thumbnailMousedown;delete u.thumbnailMouseout;delete u._9908;delete u._9304;delete u._8250;delete u._1242;delete u._7340;delete u._10089;delete u._940;delete u.disposed};e.WebThumbnailViewerJS=f})(w.UI);(function(e){b.WebServiceJS.defaultImageProcessingService=-1;var d=function(){var a=d.prototype;a._7697=function(b,a){};a._7002=function(b,a){};a.get_Type=function(){return this._8326};a.set_Type=function(a){a=b.pv.e(a,s.WebColorBaseJSTypeEnumJS);if(a.valueOf()!==
this._8326.valueOf()){$(this._9190).triggerHandler("_7697",{oldValue:this._8326,newValue:a});var d=this._8326;this._8326=a;switch(a.valueOf()){case 0:this._5641=0;this._3248=this._4290=this._7766=this._7924=this._105=null;break;case 1:this._105=0;this._3248=this._4290=this._7766=this._7924=this._5641=null;break;case 2:case 3:case 4:case 6:this._4290=this._7766=this._7924=0;this._3248=this._5641=this._105=null;break;case 5:case 7:this._3248=this._4290=this._7766=this._7924=0,this._5641=this._105=null}$(this._9190).triggerHandler("_7002",
{oldValue:d,newValue:a})}};a.get_Index=function(){return this._5641};a.set_Index=function(a){0===this._8326.valueOf()&&(a=parseInt(a),b.pv.n(a),0>a&&(a=0),255<a&&(a=255),this._5641=a)};a.get_Luminance=function(){return this._105};a.set_Luminance=function(a){1===this._8326.valueOf()&&(a=parseInt(a),b.pv.n(a),0>a&&(a=0),65535<a&&(a=65535),this._105=a)};a.get_Red=function(){return this._7924};a.set_Red=function(a){var d=this._8326.valueOf();if(1!==d&&0!==d){a=parseInt(a);b.pv.n(a);0>a&&(a=0);switch(d){case 2:case 3:31<
a&&(a=31);break;case 4:case 5:255<a&&(a=255);break;case 6:case 7:65535<a&&(a=65535)}this._7924=a}};a.get_Green=function(){return this._7766};a.set_Green=function(a){var d=this._8326.valueOf();if(1!==d&&0!==d){a=parseInt(a);b.pv.n(a);0>a&&(a=0);switch(d){case 2:case 3:31<a&&(a=31);break;case 4:case 5:255<a&&(a=255);break;case 6:case 7:65535<a&&(a=65535)}this._7766=a}};a.get_Blue=function(){return this._4290};a.set_Blue=function(a){var d=this._8326.valueOf();if(1!==d&&0!==d){a=parseInt(a);b.pv.n(a);
0>a&&(a=0);switch(d){case 2:case 3:31<a&&(a=31);break;case 4:case 5:255<a&&(a=255);break;case 6:case 7:65535<a&&(a=65535)}this._4290=a}};a.get_Alpha=function(){return this._3248};a.set_Alpha=function(a){var d=this._8326.valueOf();if(5===d||7===d){a=parseInt(a);b.pv.n(a);0>a&&(a=0);switch(d){case 5:255<a&&(a=255);break;case 7:65535<a&&(a=65535)}this._3248=a}};a.toString=function(){var b=this._8326.toString();switch(b){case "Indexed":b+="("+this._5641+")";break;case "Gray16":b+="("+this._105+")";break;
case "RGB555":case "RGB565":case "RGB24":case "RGB48":b+="("+this._7924+","+this._7766+","+this._4290+")";break;case "ARGB32":case "ARGB64":b+="("+this._7924+","+this._7766+","+this._4290+","+this._3248+")"}return b};a.clone=function(){var b=new d;b._8326=this._8326;b._5641=this._5641;b._105=this._105;b._7924=this._7924;b._7766=this._7766;b._4290=this._4290;b._3248=this._3248;return b};a.getParams=function(){var b={type:this._8326.toString()},a=this._105;null!=a&&(b.luminance=a);a=this._5641;null!=
a&&(b.index=a);a=this._7924;null!=a&&(b.red=a);a=this._7766;null!=a&&(b.green=a);a=this._4290;null!=a&&(b.blue=a);a=this._3248;null!=a&&(b.alpha=a);return b};this._8326=new s.WebColorBaseJSTypeEnumJS(4);this._105=this._5641=null;this._4290=this._7766=this._7924=0;this._3248=null;this._9190={};delete a._7697;delete a._7002},a=function(e,f,Ka,g){function h(a,d){var e=d.newValue.valueOf();4!==e&&5!==e&&b.pv.te("Unsupported color type.")}var k=a.prototype;k.get_Radius=function(){return this._1375};k.set_Radius=
function(a){b.pv.n(a);0>a&&(a=0);this._1375=a};k.get_Center=function(){return this._30};k.set_Center=function(a){b.pv.c(a,d);var e=a._8326.valueOf();4!==e&&5!==e&&b.pv.te("Unsupported color type.");$(this._30._9190).off();this._30=a;$(a._9190).on("_7697",h)};k.toString=function(){return"Center="+this._30.toString()+"; Radius="+this._1375};k.clone=function(){var b=new a;b.set_Center(this._30.clone());b._1375=this._1375;return b};k.getParams=function(){return{center:this._30.getParams(),radius:this._1375}};
k=new d;k.set_Type("RGB24");null!=e&&null!=f&&null!=Ka&&(k.set_Red(e),k.set_Green(f),k.set_Blue(Ka));this._30=k;try{this.set_Radius(g)}catch(l){this._1375=0}$(this._30._9190).on("_7697",h)},f=function(a,e,Ka,g){function h(a,d){var e=d.newValue.valueOf();4!==e&&5!==e&&b.pv.te("Unsupported color type.")}var k=f.superclass;k.constructor.call(this,a,e,Ka,g);a=f.prototype;a.get_InterpolationRadius=function(){return this._9408};a.set_InterpolationRadius=function(a){b.pv.n(a);0>a&&(a=0);1<a&&(a=1);this._9408=
a};a.get_NewColor=function(){return this._10337};a.set_NewColor=function(a){b.pv.c(a,d);var e=a._8326.valueOf();4!==e&&5!==e&&b.pv.te("Unsupported color type.");$(this._10337._9190).off();this._10337=a;$(a._9190).on("_7697",h)};a.toString=function(){return k.toString.call(this)+"; NewColor="+this._10337.toString()+"; InterpolationRadius="+this._9408};a.clone=function(){var b=new f;b.set_Center(this._30.clone());b._1375=this._1375;b.set_NewColor(this._10337.clone());b._9408=this._9408;return b};a.getParams=
function(){var b=k.getParams.call(this);b.newColor=this._10337.getParams();b.interpolationRadius=this._9408;return b};a=new d;a.set_Type("RGB24");this._10337=a;$(this._10337._9190).on("_7697",h);this._9408=.5};b.extend(f,a);var g=function(a,d,e,f,h){var k=g.prototype;k.get_Gamma=function(){return this._gamma};k.set_Gamma=function(a){b.pv.n(a);0>a&&(a=0);this._gamma=a};k.get_InputMax=function(){return this._inputMax};k.set_InputMax=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);255<a&&(a=255);this._inputMax=
a};k.get_InputMin=function(){return this._inputMin};k.set_InputMin=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);255<a&&(a=255);this._inputMin=a};k.get_OutputMax=function(){return this._outputMax};k.set_OutputMax=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);255<a&&(a=255);this._outputMax=a};k.get_OutputMin=function(){return this._outputMin};k.set_OutputMin=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);255<a&&(a=255);this._outputMin=a};k.getParams=function(){return{gamma:this._gamma,inputMax:this._inputMax,
inputMin:this._inputMin,outputMax:this._outputMax,outputMin:this._outputMin}};null==a&&(a=1);this.set_Gamma(a);null==d&&(d=255);this.set_InputMax(d);null==e&&(e=0);this.set_InputMin(e);null==f&&(f=255);this.set_OutputMax(f);null==h&&(h=0);this.set_OutputMin(h)},m=function(){function a(d,e){var f=d;b.pv.ic(f,b.WebEnumItemBase)&&(f=f.valueOf());if(-1===e.indexOf(f))switch(e.push(f),f){case 4:a(2,e);a(1,e);break;case 8:a(2,e);a(1,e);a(4,e);a(9,e);break;case 9:a(2,e);a(1,e);a(4,e);a(8,e);break;case 16:a(9,
e);break;case 24:a(8,e);a(9,e);a(14,e);a(15,e);a(32,e);break;case 32:a(24,e);break;case 33:a(8,e);a(24,e);break;case 48:a(16,e);a(24,e);break;case 64:a(33,e),a(48,e)}}this._8289=[];this._8778=this._7584=this._9927=!1;var d=m.prototype;d.get_ActionName=function(){b.pv.tne()};d.get_CanModifyImage=function(){return this._9927};d.get_SupportedNativePixelFormats=function(){return this._8289.slice()};d.get_SupportedPixelFormats=function(){var b=this.get_SupportedNativePixelFormats();return this._7584?b.length===
b[0].getAllAvailableNames().length?b:this._1491(b):b};d.get_ExpandSupportedPixelFormats=function(){return this._7584};d.set_ExpandSupportedPixelFormats=function(a){b.pv.b(a);this._7584=a};d.get_RestoreSourcePixelFormat=function(){return this._8778};d.set_RestoreSourcePixelFormat=function(a){b.pv.b(a);!this._9927&&a&&b.pv.te("Command does not support this property because command cannot modify image.");this._8778=a};d.getParams=function(){return{}};d.checkCommandParams=function(b){return!0};d.execute=
function(a,d,e,f){b.pv.c(a,b.WebImageJS);b.pv.ic(d,b.WebServiceJS)?(f=d,e=d=null):b.pv.ic(e,b.WebServiceJS)&&(f=e,e=null);null!=d&&b.pv.f(d,"Success callback must be defined as function.");null!=e&&b.pv.f(e,"Error callback must be defined as function.");null==f&&(f=this._9004());b.pv.c(f,b.WebServiceJS);this._103(a);return this.checkCommandParams(a)?(this._3610(a,d,e,f),!0):!1};d._8832=function(b){this._8289=this._9667(b)};d._3610=function(a,d,e,f){var g=this,h=this.getParams();h.expandSupportedPixelFormats=
g._7584;h.restoreSourcePixelFormat=g._8778;h.imageInfo=a.cto();var Ja=a.csto(),k;for(k in Ja)h[k]=Ja[k];h={type:"POST",data:h};h=new b.WebRequestJS(this.get_ActionName(),function(b,e,f){g._392(a,b);d&&d(b,e,f)},function(b,d,f){g._392(a,b);e&&e(b,d,f)},h);return f.sendRequest(h)};d._9004=function(){return b.WebServiceJS.defaultImageProcessingService};d._392=function(b,a){a.sourceImage=b};d._1491=function(b){for(var d=[],e=0;e<b.length;e++)a(b[e],d);return this._9667(d)};d._9667=function(a){a.sort(k._2813._460);
for(var d=[],e=0;e<a.length;e++)d.push(new b.WebPixelFormatEnumJS(a[e]));return d};d._103=function(a){var d=a.get_PixelFormat();if(null!=d){a=this.get_SupportedPixelFormats();for(var e=!1,f=0;f<a.length;f++)if(d.equals(a[f])){e=!0;break}if(!e){e="Please convert the image to supported pixel format first.";if(!this._7584){for(var g=this._1491(a),h=!1,f=0;f<g.length;f++)if(d.equals(g[f])){h=!0;break}h&&(e="Please enable automatic convertation using the 'set_ExpandSupportedPixelFormats' property  or convert an image to the supported pixel format manually.")}d=
this.get_ActionName()+": unsupported pixel format - "+d.toString()+". With current settings the processing command supports only the following pixel formats:";for(f=0;f<a.length;f++)d+=" "+a[f].toString();b.pv.te(d+(".\n"+e))}}}},h=function(){var a=h.superclass;a.constructor.call(this);var d=h.prototype;this._9927=this._6690=!0;d.get_ChangeSource=function(){return this._6690};d.set_ChangeSource=function(a){b.pv.b(a);this._6690=a};d.getParams=function(){return{changeSource:this._6690}};d.execute=function(b,
d,e,f){return a.execute.call(this,b,d,e,f)};d._392=function(d,e){a._392.call(this,d,e);if(!0===e.success){var f=e.imageInfo.imageId,g=e.imageInfo.pageIndex,h=d.get_PageIndex(),Ja=d.get_ImageId();if(f===Ja&&g===h)e.processedImage=d,d.ci("dc");else{var h=d.get_Source(),k,l;try{k=h.get_ImageService(),l=h.get_AnnotationService()}catch(m){}f=new b.WebImageSourceJS(f,k,l);g=new b.WebImageJS(f,g);e.processedImage=g}}}};b.extend(h,m);var r=function(){r.superclass.constructor.call(this);var a=r.prototype;
this._1445=k._2813._8313();a.get_Region=function(){return $.extend(!0,{},this._1445)};a.set_Region=function(a,d,e,f){a=null==d?{x:parseInt(a.x),y:parseInt(a.y),width:parseInt(a.width),height:parseInt(a.height)}:{x:parseInt(a),y:parseInt(d),width:parseInt(e),height:parseInt(f)};b.pv.r(a);0>a.x&&(a.x=0);0>a.y&&(a.y=0);0>a.width&&(a.width=0);0>a.height&&(a.height=0);this._1445=a};a.getParams=function(){return{region:this._1445}};a.checkCommandParams=function(b){b=b.get_Size();return null==b?!0:this._1445.x<=
b.width&&this._1445.y<=b.height}};b.extend(r,m);var l=function(){var a=l.superclass;a.constructor.call(this);var d=l.prototype;this._1445=k._2813._8313();d.get_Region=function(){return $.extend(!0,{},this._1445)};d.set_Region=function(a,d,e,f){a=null==d?{x:parseInt(a.x),y:parseInt(a.y),width:parseInt(a.width),height:parseInt(a.height)}:{x:parseInt(a),y:parseInt(d),width:parseInt(e),height:parseInt(f)};b.pv.r(a);0>a.x&&(a.x=0);0>a.y&&(a.y=0);0>a.width&&(a.width=0);0>a.height&&(a.height=0);this._1445=
a};d.getParams=function(){var b=a.getParams.call(this);b.region=this._1445;return b};d.checkCommandParams=function(b){b=b.get_Size();return null==b?!0:this._1445.x<=b.width&&this._1445.y<=b.height}};b.extend(l,h);var t=function(){var a=t.superclass;a.constructor.call(this);this._3512=new s.WebBinarizationModeEnumJS(0);this._3066=0;this._4809=1;this._7638=-115;this._533=0;this._3697=384;this._4949=15;this._8130=new s.WebLuminanceComputationModeEnumJS(1);this._8832([1,2,4,8,9,16,24,32,33,48,64]);var d=
t.prototype;d.get_ActionName=function(){return"Binarize"};d.get_BinarizationMode=function(){return this._3512};d.set_BinarizationMode=function(a){this._3512=b.pv.e(a,s.WebBinarizationModeEnumJS)};d.get_ConvertToBlackLevel=function(){return this._3066};d.set_ConvertToBlackLevel=function(a){b.pv.n(a);0>a&&(a=0);1<a&&(a=1);this._3066=a};d.get_ConvertToWhiteLevel=function(){return this._4809};d.set_ConvertToWhiteLevel=function(a){b.pv.n(a);0>a&&(a=0);1<a&&(a=1);this._4809=a};d.get_MaxLevelDifference=
function(){return this._7638};d.set_MaxLevelDifference=function(a){a=parseInt(a);b.pv.n(a);-765>a&&(a=-765);765<a&&(a=765);this._7638=a};d.get_MinLevelDifference=function(){return this._533};d.set_MinLevelDifference=function(a){a=parseInt(a);b.pv.n(a);-765>a&&(a=-765);765<a&&(a=765);this._533=a};d.get_Threshold=function(){return this._3697};d.set_Threshold=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);765<a&&(a=765);this._3697=a};d.get_WindowRadius=function(){return this._4949};d.set_WindowRadius=
function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);256<a&&(a=256);this._4949=a};d.get_LuminanceComputationMode=function(){return this._8130};d.set_LuminanceComputationMode=function(a){this._8130=b.pv.e(a,s.WebLuminanceComputationModeEnumJS)};d.getParams=function(){var b=a.getParams.call(this);b.binarizationMode=this._3512.valueOf();b.convertToBlackLevel=this._3066;b.convertToWhiteLevel=this._4809;b.maxLevelDifference=this._7638;b.minLevelDifference=this._533;b.threshold=this._3697;b.windowRadius=this._4949;
b.luminanceComputationMode=this._8130.valueOf();return b}};b.extend(t,h);var w=function(){var a=w.superclass;a.constructor.call(this);this._3613=0;this._8832([1,2,4,8,9,16,24,32,33,48,64]);var d=w.prototype;d.get_ActionName=function(){return"ChangeBrightness"};d.get_Brightness=function(){return this._3613};d.set_Brightness=function(a){a=parseInt(a);b.pv.n(a);-100>a&&(a=-100);100<a&&(a=100);this._3613=a};d.getParams=function(){var b=a.getParams.call(this);b.brightness=this._3613;return b};d.checkCommandParams=
function(b){return a.checkCommandParams.call(this,b)&&0!==this._3613}};b.extend(w,l);var C=function(){var a=C.superclass;a.constructor.call(this);this._5653=this._3613=0;this._8832([1,2,4,8,9,16,24,32,33,48,64]);var d=C.prototype;d.get_ActionName=function(){return"ChangeBrightnessContrast"};d.get_Brightness=function(){return this._3613};d.set_Brightness=function(a){a=parseInt(a);b.pv.n(a);-100>a&&(a=-100);100<a&&(a=100);this._3613=a};d.get_Contrast=function(){return this._5653};d.set_Contrast=function(a){a=
parseInt(a);b.pv.n(a);-100>a&&(a=-100);100<a&&(a=100);this._5653=a};d.getParams=function(){var b=a.getParams.call(this);b.brightness=this._3613;b.contrast=this._5653;return b};d.checkCommandParams=function(b){return a.checkCommandParams.call(this,b)&&(0!==this._3613||0!==this._5653)}};b.extend(C,l);var q=function(){var a=q.superclass;a.constructor.call(this);this._5653=0;this._8832([1,2,4,8,9,16,24,32,33,48,64]);var d=q.prototype;d.get_ActionName=function(){return"ChangeContrast"};d.get_Contrast=
function(){return this._5653};d.set_Contrast=function(a){a=parseInt(a);b.pv.n(a);-100>a&&(a=-100);100<a&&(a=100);this._5653=a};d.getParams=function(){var b=a.getParams.call(this);b.contrast=this._5653;return b};d.checkCommandParams=function(b){return a.checkCommandParams.call(this,b)&&0!==this._5653}};b.extend(q,l);var n=function(){function a(d){b.pv.n(d);0>d&&b.pv.te("Gamma value cannot be less than 0.")}var d=n.superclass;d.constructor.call(this);this._2167=this._4487=this._6432=1;this._8832([1,
2,4,8,9,16,24,32,33,48,64]);var e=n.prototype;e.get_ActionName=function(){return"ChangeGamma"};e.get_RedGamma=function(){return this._6432};e.set_RedGamma=function(b){a(b);this._6432=b};e.get_GreenGamma=function(){return this._4487};e.set_GreenGamma=function(b){a(b);this._4487=b};e.get_BlueGamma=function(){return this._2167};e.set_BlueGamma=function(b){a(b);this._2167=b};e.get_Gamma=function(){return(this._6432+this._4487+this._2167)/3};e.set_Gamma=function(b){a(b);this._2167=this._4487=this._6432=
b};e.getParams=function(){var b=d.getParams.call(this);b.redGamma=this._6432;b.greenGamma=this._4487;b.blueGamma=this._2167;return b};e.checkCommandParams=function(b){return d.checkCommandParams.call(this,b)&&(1!==this._6432||1!==this._4487||1!==this._2167)}};b.extend(n,l);var x=function(){var a=x.superclass;a.constructor.call(this);this._105=this._7062=this._3283=0;this._8832([1,2,4,8,9,16,24,32,33,48,64]);var d=x.prototype;d.get_ActionName=function(){return"ChangeHSL"};d.get_Hue=function(){return this._3283};
d.set_Hue=function(a){a=parseInt(a);b.pv.n(a);-180>a&&(a=-180);180<a&&(a=180);this._3283=a};d.get_Saturation=function(){return this._7062};d.set_Saturation=function(a){a=parseInt(a);b.pv.n(a);-100>a&&(a=-100);100<a&&(a=100);this._7062=a};d.get_Luminance=function(){return this._105};d.set_Luminance=function(a){a=parseInt(a);b.pv.n(a);-100>a&&(a=-100);100<a&&(a=100);this._105=a};d.getParams=function(){var b=a.getParams.call(this);b.hue=this._3283;b.saturation=this._7062;b.luminance=this._105;return b};
d.checkCommandParams=function(b){return a.checkCommandParams.call(this,b)&&(0!==this._3283||0!==this._7062||0!==this._105)}};b.extend(x,l);var v=function(){var a=v.superclass;a.constructor.call(this);this._3338="rgba(0,0,0,1)";this._6427=new s.WebBlendingModeEnumJS(1);this._8832([1,2,4,8,9,24,32,33]);var d=v.prototype;d.get_ActionName=function(){return"ColorBlend"};d.get_BlendColor=function(){return this._3338};d.set_BlendColor=function(a){b.pv.s(a);this._3338=a};d.get_BlendingMode=function(){return this._6427};
d.set_BlendingMode=function(a){this._6427=b.pv.e(a,s.WebBlendingModeEnumJS)};d.getParams=function(){var b=a.getParams.call(this);b.blendColor=this._3338;b.blendingMode=this._6427.valueOf();return b}};b.extend(v,l);var z=function(){function a(d,e){7!==e.newValue.valueOf()&&b.pv.te("Unsupported color type.")}var e=z.superclass;e.constructor.call(this);var f=new d;f.set_Type(7);f._7924=65535;f._7766=65535;f._4290=65535;f._3248=65535;$(f._9190).on("_7697",a);this._3338=f;this._6427=new s.WebBlendingModeEnumJS(1);
this._8832([48,64]);f=z.prototype;f.get_ActionName=function(){return"ColorBlend16"};f.get_BlendColor=function(){return this._3338};f.set_BlendColor=function(e){b.pv.c(e,d);7!==e._8326.valueOf()&&b.pv.te("Unsupported color type.");$(this._3338._9190).off();this._3338=e;$(e._9190).on("_7697",a)};f.get_BlendingMode=function(){return this._6427};f.set_BlendingMode=function(a){this._6427=b.pv.e(a,s.WebBlendingModeEnumJS)};f.getParams=function(){var b=e.getParams.call(this);b.blendColor=this._3338.getParams();
b.blendingMode=this._6427.valueOf();return b}};b.extend(z,l);var y=function(){var a=y.superclass;a.constructor.call(this);this._3612=new s.WebDesaturateMethodEnumJS(2);this._8832([1,2,4,8,9,16,24,32,33,48,64]);var d=y.prototype;d.get_ActionName=function(){return"Desaturate"};d.get_DesaturateMethod=function(){return this._3612};d.set_DesaturateMethod=function(a){this._3612=b.pv.e(a,s.WebDesaturateMethodEnumJS)};d.getParams=function(){var b=a.getParams.call(this);b.desaturateMethod=this._3612.valueOf();
return b}};b.extend(y,l);var E=function(){E.superclass.constructor.call(this);this._8832([8,33,64]);E.prototype.get_ActionName=function(){return"GetAlphaChannelMask"}};b.extend(E,l);var B=function(){B.superclass.constructor.call(this);this._8832([1,2,4,8,9,16,24,32,33,48,64]);B.prototype.get_ActionName=function(){return"Halftone"}};b.extend(B,h);var D=function(){D.superclass.constructor.call(this);this._8832([1,2,4,8,9,16,24,32,33,48,64]);D.prototype.get_ActionName=function(){return"Invert"}};b.extend(D,
l);var F=function(){var a=F.superclass;a.constructor.call(this);this._9290=new g;this._4544=new g;this._8811=new g;this._8832([1,2,4,8,9,16,24,32,33,48,64]);var d=F.prototype;d.get_ActionName=function(){return"Levels"};d.get_RedChannelSettings=function(){return this._9290};d.set_RedChannelSettings=function(a){b.pv.c(a,g);this._9290=a};d.get_GreenChannelSettings=function(){return this._4544};d.set_GreenChannelSettings=function(a){b.pv.c(a,g);this._4544=a};d.get_BlueChannelSettings=function(){return this._8811};
d.set_BlueChannelSettings=function(a){b.pv.c(a,g);this._8811=a};d.getParams=function(){var b=a.getParams.call(this);b.redChannelSettings=this._9290.getParams();b.greenChannelSettings=this._4544.getParams();b.blueChannelSettings=this._8811.getParams();return b}};b.extend(F,l);var K=function(){var a=K.superclass;a.constructor.call(this);this._1058=6;this._8832([9,16,24,32,33,48,64]);var d=K.prototype;d.get_ActionName=function(){return"Posterize"};d.get_ColorCount=function(){return this._1058};d.set_ColorCount=
function(a){a=parseInt(a);b.pv.n(a);2>a&&(a=2);256<a&&(a=256);this._1058=a};d.getParams=function(){var b=a.getParams.call(this);b.colorCount=this._1058;return b}};b.extend(K,h);var J=function(){function a(d){b.pv.n(d);0>d&&b.pv.te("Gamma value cannot be less than 0.")}var d=J.superclass;d.constructor.call(this);this._5811=256;this._4529=[];this._6703=[];this._10183=[];this._8832([2,1,4,8,9,24,32,33]);var e=J.prototype;e.get_ActionName=function(){return"RemapColors"};e.get_RedMap=function(){return this._4529.slice()};
e.set_RedMap=function(b){this._5596(b);this._4529=b.slice()};e.get_GreenMap=function(){return this._6703.slice()};e.set_GreenMap=function(b){this._5596(b);this._6703=b.slice()};e.get_BlueMap=function(){return this._10183.slice()};e.set_BlueMap=function(b){this._5596(b);this._10183=b.slice()};e.setGamma=function(b){a(b);b=this._4582(b);this._4529=b.slice();this._6703=b.slice();this._10183=b.slice()};e.setRedGamma=function(b){a(b);this._4529=this._4582(b)};e.setGreenGamma=function(b){a(b);this._6703=
this._4582(b)};e.setBlueGamma=function(b){a(b);this._10183=this._4582(b)};e.getParams=function(){var b=d.getParams.call(this);b.redMap=this._4529;b.greenMap=this._6703;b.blueMap=this._10183;return b};e._4582=function(b){for(var a=[],d=this._5811-1,e=0;e<=d;++e){var f=Math.round(d*Math.pow(e/d,1/b));0===b&&e===d&&(f=d);a[e]=f}return a};e._5596=function(a){var d=this._5811-1;b.pv.ad(a,function(a){b.pv.n(a);(0>a||a>d)&&b.pv.toe()});a.length!==this._5811&&b.pv.te("Color map must contain "+this._5811+
" elements.")};this.setGamma(1)};b.extend(J,l);var I=function(){function a(d){b.pv.n(d);0>d&&b.pv.te("Gamma value cannot be less than 0.")}var d=I.superclass;d.constructor.call(this);this._5811=65536;this._4529=[];this._6703=[];this._10183=[];this._8832([16,48,64]);var e=I.prototype;I.prototype.get_ActionName=function(){return"RemapColors16"};e.get_RedMap=function(){return this._4529.slice()};e.set_RedMap=function(b){this._5596(b);this._4529=b.slice()};e.get_GreenMap=function(){return this._6703.slice()};
e.set_GreenMap=function(b){this._5596(b);this._6703=b.slice()};e.get_BlueMap=function(){return this._10183.slice()};e.set_BlueMap=function(b){this._5596(b);this._10183=b.slice()};e.setGamma=function(b){a(b);b=this._4582(b);this._4529=b.slice();this._6703=b.slice();this._10183=b.slice()};e.setRedGamma=function(b){a(b);this._4529=this._4582(b)};e.setGreenGamma=function(b){a(b);this._6703=this._4582(b)};e.setBlueGamma=function(b){a(b);this._10183=this._4582(b)};e.getParams=function(){var b=d.getParams.call(this);
b.redMap=this._4529;b.greenMap=this._6703;b.blueMap=this._10183;return b};e._4582=function(b){for(var a=[],d=this._5811-1,e=0;e<=d;++e){var f=Math.round(d*Math.pow(e/d,1/b));0===b&&e===d&&(f=d);a[e]=f}return a};e._5596=function(a){var d=this._5811-1;b.pv.ad(a,function(a){b.pv.n(a);(0>a||a>d)&&b.pv.toe()});a.length!==this._5811&&b.pv.te("Color map must contain "+this._5811+" elements.")};this.setGamma(1)};b.extend(I,l);var N=function(){N.superclass.constructor.call(this);this._5037=new J;var b=N.prototype;
b.get_ActionName=function(){return"Curves"};b.get_SupportedNativePixelFormats=function(){return this._5037.get_SupportedNativePixelFormats()};b.get_RedMap=function(){return this._5037.get_RedMap()};b.set_RedMap=function(b){this._5037.set_RedMap(b)};b.get_GreenMap=function(){return this._5037.get_GreenMap()};b.set_GreenMap=function(b){this._5037.set_GreenMap(b)};b.get_BlueMap=function(){return this._5037.get_BlueMap()};b.set_BlueMap=function(b){this._5037.set_BlueMap(b)};b.getParams=function(){this._5037._1445=
this._1445;return this._5037.getParams()}};b.extend(N,l);var Q=function(){Q.superclass.constructor.call(this);this._5037=new I;var b=Q.prototype;Q.prototype.get_ActionName=function(){return"Curves16"};b.get_SupportedNativePixelFormats=function(){return this._5037.get_SupportedNativePixelFormats()};b.get_RedMap=function(){return this._5037.get_RedMap()};b.set_RedMap=function(b){this._5037.set_RedMap(b)};b.get_GreenMap=function(){return this._5037.get_GreenMap()};b.set_GreenMap=function(b){this._5037.set_GreenMap(b)};
b.get_BlueMap=function(){return this._5037.get_BlueMap()};b.set_BlueMap=function(b){this._5037.set_BlueMap(b)};b.getParams=function(){this._5037._1445=this._1445;return this._5037.getParams()}};b.extend(Q,l);var S=function(){var a=S.superclass;a.constructor.call(this);this._685=new s.WebColorSpaceTypeEnumJS(2);this._9062=0;this._4743="rgba(255,255,255,1)";this._10337="rgba(0,0,0,1)";this._8832([1,2,4,8,9,16,24,32,33,48,64]);var d=S.prototype;d.get_ActionName=function(){return"ReplaceColor"};d.get_ColorSpace=
function(){return this._685};d.set_ColorSpace=function(a){a=b.pv.e(a,s.WebColorSpaceTypeEnumJS);var d=a.valueOf();2!==d&&5!==d&&b.pv.te("Supported values are sRGB and CIELab.");this._685=a};d.get_MaximalColorDifference=function(){return this._9062};d.set_MaximalColorDifference=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);this._9062=a};d.get_NewColor=function(){return this._10337};d.set_NewColor=function(a){b.pv.s(a);this._10337=a};d.get_OldColor=function(){return this._4743};d.set_OldColor=function(a){b.pv.s(a);
this._4743=a};d.getParams=function(){var b=a.getParams.call(this);b.colorSpace=this._685.valueOf();b.maximalColorDifference=this._9062;b.oldColor=this._4743;b.newColor=this._10337;return b};d.checkCommandParams=function(b){return a.checkCommandParams.call(this,b)&&this._4743!==this._10337}};b.extend(S,l);var P=function(){var a=P.superclass;a.constructor.call(this);this._914="";this._8832([1,2,4,8,9,14,15,16,24,32,33,48,64]);var d=P.prototype;d.get_ActionName=function(){return"SetAlphaChannelMask"};
d.get_Mask=function(){return this._914};d.set_Mask=function(a){b.pv.s(a);this._914=a};d.checkCommandParams=function(d){""===this._914&&b.pv.te("Mask property cannot be empty.");return a.checkCommandParams.call(this,d)};d.getParams=function(){var b=a.getParams.call(this);b.mask=this._914;return b}};b.extend(P,l);var O=function(){var a=O.superclass;a.constructor.call(this);this._6872=255;this._8832([1,2,4,8,33,64]);var d=O.prototype;d.get_ActionName=function(){return"SetAlphaChannelValue"};d.get_AlphaValue=
function(){return this._6872};d.set_AlphaValue=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);255<a&&(a=255);this._6872=a};d.getParams=function(){var b=a.getParams.call(this);b.alphaValue=this._6872;return b}};b.extend(O,l);var M=function(){var a=M.superclass;a.constructor.call(this);this._2595=new b.WebPixelFormatEnumJS(0);this._8832([1,2,4,8,9,14,15,16,24,32,33,48,64]);var d=M.prototype;d.get_ActionName=function(){return"ChangePixelFormat"};d.get_PixelFormat=function(){return this._2595};d.set_PixelFormat=
function(a){this._2595=b.pv.e(a,b.WebPixelFormatEnumJS)};d.getParams=function(){var b=a.getParams.call(this);b.pixelFormat=this._2595.valueOf();return b}};b.extend(M,h);var R=function(){var a=R.superclass;a.constructor.call(this);this._2595=new b.WebPixelFormatEnumJS(24);this._3446=!1;this._8832([1,2,4,8,9,14,15,16,24,32,33,48,64]);var d=R.prototype;d.get_ActionName=function(){return"ChangePixelFormatToBgr"};d.set_PixelFormat=function(a){a=b.pv.e(a,b.WebPixelFormatEnumJS);var d=a.valueOf();14!==d&&
15!==d&&24!==d&&32!==d&&33!==d&&48!==d&&64!==d&&b.pv.te("Unsupported pixel format.");this._2595=a};d.get_KeepAlphaChannel=function(){return this._3446};d.set_KeepAlphaChannel=function(a){b.pv.b(a);this._3446=a};d.getParams=function(){var b=a.getParams.call(this);b.keepAlphaChannel=this._3446;return b}};b.extend(R,M);var U=function(){U.superclass.constructor.call(this);this._8832([1,2,4,8,9,14,15,16,24,32,33,48,64]);U.prototype.get_ActionName=function(){return"ChangePixelFormatToBlackWhite"}};b.extend(U,
t);var G=function(){G.superclass.constructor.call(this);this._2595=new b.WebPixelFormatEnumJS(9);this._8832([1,2,4,8,9,14,15,16,24,32,33,48,64]);var a=G.prototype;a.get_ActionName=function(){return"ChangePixelFormatToGrayscale"};a.set_PixelFormat=function(a){a=b.pv.e(a,b.WebPixelFormatEnumJS);var d=a.valueOf();9!==d&&16!==d&&b.pv.te("Unsupported pixel format.");this._2595=a}};b.extend(G,M);var V=function(){var a=V.superclass;a.constructor.call(this);this._2595=new b.WebPixelFormatEnumJS(8);this._2574=
new s.WebPaletteTypeJS(0);this._5943=new s.WebColorQuantizationMethodEnumJS(3);this._285=!1;this._8832([1,2,4,8,9,14,15,16,24,32,33,48,64]);var d=V.prototype;d.get_ActionName=function(){return"ChangePixelFormatToPalette"};d.set_PixelFormat=function(a){a=b.pv.e(a,b.WebPixelFormatEnumJS);var d=a.valueOf();1!==d&&4!==d&&8!==d&&b.pv.te("Unsupported pixel format.");this._2595=a};d.get_Transparency=function(){return this._285};d.set_Transparency=function(a){b.pv.b(a);this._285=a};d.get_PaletteType=function(){return this._2574};
d.set_PaletteType=function(a){this._2574=b.pv.e(a,s.WebPaletteTypeJS)};d.get_QuantizationMethod=function(){return this._5943};d.set_QuantizationMethod=function(a){this._5943=b.pv.e(a,s.WebColorQuantizationMethodEnumJS)};d.getParams=function(){var b=a.getParams.call(this);b.transparency=this._285;b.paletteType=this._2574.valueOf();b.quantizationMethod=this._5943.valueOf();return b}};b.extend(V,M);var ja=function(){var a=ja.superclass;a.constructor.call(this);this._7232="rgba(0,0,0,1)";this._8832([1,
2,4,8,9,14,15,16,24,32,33,48,64]);var d=ja.prototype;d.get_ActionName=function(){return"Clear"};d.get_Color=function(){return this._7232};d.set_Color=function(a){b.pv.s(a);this._7232=a};d.getParams=function(){var b=a.getParams.call(this);b.color=this._7232;return b}};b.extend(ja,l);var W=function(){W.superclass.constructor.call(this);this._8832([1,2,4,8,9,14,15,16,24,32,33,48,64]);var b=W.prototype;b.get_ActionName=function(){return"Crop"};b.checkCommandParams=function(b){b=b.get_Size();if(null==
b)return!0;b.x=0;b.y=0;var a=k._2813._4585(b,this._1445);return k._2813._1853(a)||k._2813._9602(a,b)?!1:!0}};b.extend(W,l);var fa=function(){var a=fa.superclass;a.constructor.call(this);this._6017=new b.WebInterpolationModeEnumJS(7);this._8946=this._593=96;this._8832([1,2,4,8,9,14,15,16,24,32,33,48,64]);var d=fa.prototype;d.get_ActionName=function(){return"Resample"};d.get_InterpolationMode=function(){return this._6017};d.set_InterpolationMode=function(a){this._6017=b.pv.e(a,b.WebInterpolationModeEnumJS)};
d.get_HorizontalResolution=function(){return this._593};d.set_HorizontalResolution=function(a){b.pv.n(a);1>a&&(a=1);12800<a&&(a=12800);this._593=a};d.get_VerticalResolution=function(){return this._8946};d.set_VerticalResolution=function(a){b.pv.n(a);1>a&&(a=1);12800<a&&(a=12800);this._8946=a};d.getParams=function(){var b=a.getParams.call(this);b.interpolationMode=this._6017.valueOf();b.horizontalResolution=this._593;b.verticalResolution=this._8946;return b}};b.extend(fa,h);var ta=function(){var a=
ta.superclass;a.constructor.call(this);this._5576={width:100,height:100};this._6017=new b.WebInterpolationModeEnumJS(7);this._8778=this._7584=!0;this._5025=this._9667([8,9,16,24,32,33,48,64]);this._5591=this._9667([9,16,24,32,33,48,64]);this._4037=this._9667([16,33,48,64]);var d=ta.prototype;d.get_ActionName=function(){return"Resize"};d.get_SupportedNativePixelFormats=function(){var b;switch(this._6017.valueOf()){case 5:b=this._5025;break;case 3:b=this._5591;break;default:b=this._4037}return b.slice()};
d.get_Size=function(){return $.extend(!0,{},this._5576)};d.set_Size=function(a,d){var e;e=null==d?{width:parseInt(a.width),height:parseInt(a.height)}:{width:parseInt(a),height:parseInt(d)};b.pv.sz(e);0>=e.width&&(e.width=1);65535<e.width&&(e.width=65535);0>=e.height&&(e.height=1);65535<e.height&&(e.height=65535);this._5576=e};d.get_InterpolationMode=function(){return this._6017};d.set_InterpolationMode=function(a){this._6017=b.pv.e(a,b.WebInterpolationModeEnumJS)};d.getParams=function(){var b=a.getParams.call(this);
b.interpolationMode=this._6017.valueOf();b.width=this._5576.width;b.height=this._5576.height;return b};d.checkCommandParams=function(b){b=b.get_Size();if(null==b)return!0;var a=this._1445;return k._2813._1853(a)?this._5576.width!==b.width||this._5576.height!==b.height:0===a.x&&0===a.y&&a.width===b.width&&a.height===b.height?!1:!0}};b.extend(ta,l);var T=function(){var a=T.superclass;a.constructor.call(this);this._8170="rgba(0,0,0,1)";this._6124={width:100,height:100};this._6589={x:0,y:0};this._8832([1,
2,4,8,9,14,15,16,24,32,33,48,64]);var d=T.prototype;d.get_ActionName=function(){return"ResizeCanvas"};d.get_CanvasColor=function(){return this._8170};d.set_CanvasColor=function(a){b.pv.s(a);this._8170=a};d.get_CanvasSize=function(){return $.extend(!0,{},this._6124)};d.set_CanvasSize=function(a,d){var e;e=null==d?{width:parseInt(a.width),height:parseInt(a.height)}:{width:parseInt(a),height:parseInt(d)};b.pv.sz(e);0>=e.width&&(e.width=1);65535<e.width&&(e.width=65535);0>=e.height&&(e.height=1);65535<
e.height&&(e.height=65535);this._6124=e};d.get_ImagePosition=function(){return $.extend(!0,{},this._6589)};d.set_ImagePosition=function(a,d){var e;e=null==d?{x:parseInt(a.x),y:parseInt(a.y)}:{x:parseInt(a),y:parseInt(d)};b.pv.p(e);this._6589=e};d.getParams=function(){var b=a.getParams.call(this);b.imagePosition=this._6589;b.width=this._6124.width;b.height=this._6124.height;b.canvasColor=this._8170;return b}};b.extend(T,h);var ua=function(){var a=ua.superclass;a.constructor.call(this);this._8941=!1;
this._3971="";this._285=!1;this._10136="rgba(255,255,255,0)";this._8832([1,2,4,8,9,14,15,16,24,32,33,48,64]);var d=ua.prototype;d.get_ActionName=function(){return"Overlay"};d.get_OverlayImage=function(){return this._3971};d.set_OverlayImage=function(a){b.pv.s(a);this._3971=a};d.get_HasTransparentColor=function(){return this._8941};d.set_HasTransparentColor=function(a){b.pv.b(a);this._8941=a};d.get_Transparency=function(){return this._285};d.set_Transparency=function(a){b.pv.b(a);this._285=a};d.get_TransparentColor=
function(){return this._10136};d.set_TransparentColor=function(a){b.pv.s(a);this._10136=a};d.checkCommandParams=function(d){""===this._3971&&b.pv.te("OverlayImage property cannot be empty.");return a.checkCommandParams.call(this,d)};d.getParams=function(){var b=a.getParams.call(this);b.hasTransparentColor=this._8941;b.overlayImage=this._3971;b.transparency=this._285;b.transparentColor=this._10136;return b}};b.extend(ua,l);var va=function(){var a=va.superclass;a.constructor.call(this);this._2146=this._3971=
"";this._8832([1,2,4,8,9,16,24,32,33,48,64]);var d=va.prototype;d.get_ActionName=function(){return"OverlayMasked"};d.get_OverlayImage=function(){return this._3971};d.set_OverlayImage=function(a){b.pv.s(a);this._3971=a};d.get_MaskImage=function(){return this._2146};d.set_MaskImage=function(a){b.pv.s(a);this._2146=a};d.checkCommandParams=function(d){""===this._3971&&b.pv.te("OverlayImage property cannot be empty.");""===this._2146&&b.pv.te("MaskImage property cannot be empty.");return a.checkCommandParams.call(this,
d)};d.getParams=function(){var b=a.getParams.call(this);b.overlayImage=this._3971;b.maskImage=this._2146;return b}};b.extend(va,l);var ka=function(){var a=ka.superclass;a.constructor.call(this);this._3971="";this._6427=new s.WebBlendingModeEnumJS(1);this._8832([9,16,24,32,33,48,64]);var d=ka.prototype;d.get_ActionName=function(){return"OverlayWithBlending"};d.get_OverlayImage=function(){return this._3971};d.set_OverlayImage=function(a){b.pv.s(a);this._3971=a};d.get_BlendingMode=function(){return this._6427};
d.set_BlendingMode=function(a){this._6427=b.pv.e(a,s.WebBlendingModeEnumJS)};d.checkCommandParams=function(d){""===this._3971&&b.pv.te("OverlayImage property cannot be empty.");return a.checkCommandParams.call(this,d)};d.getParams=function(){var b=a.getParams.call(this);b.overlayImage=this._3971;b.blendingMode=this._6427.valueOf();return b}};b.extend(ka,l);var p=function(){var a=p.superclass;a.constructor.call(this);this._7232=new d;this._5348=[];this._8832([2,9,24,32,33]);var e=p.prototype;e.get_ActionName=
function(){return"FillRectangle"};e.get_Color=function(){return this._7232};e.set_Color=function(a){b.pv.c(a,d);this._7232=a};e.get_Rectangles=function(){for(var b=[],a=0;a<this._5348.length;a++)b[a]={x:this._5348[a].x,y:this._5348[a].y,width:this._5348[a].width,height:this._5348[a].height};return b};e.set_Rectangles=function(a){b.pv.ad(a,b.pv.r);this._5348=[];for(var d=0;d<a.length;d++)this._5348[d]={x:a[d].x,y:a[d].y,width:a[d].width,height:a[d].height}};e.getParams=function(){var b=a.getParams.call(this);
b.rectangles=this._5348;b.color=this._7232.getParams();return b};e.checkCommandParams=function(b){return 0!==this._5348.length}};b.extend(p,h);var L=function(){var a=L.superclass;a.constructor.call(this);this._8757="";this._6686=new s.WebImageCompareOperatorEnumJS(0);this._8910=null;this._8832([1,2,4,8,9,14,15,16,24,32,33,48,64]);var d=L.prototype;d.get_ActionName=function(){return"ImageComparison"};d.get_Image=function(){return this._8757};d.set_Image=function(a){b.pv.s(a);this._8757=a};d.get_CompareChannelIndexes=
function(){var b=this._8910;return null!=b?b.slice():b};d.set_CompareChannelIndexes=function(a){null!=a&&b.pv.ad(a,b.pv.n);this._8910=a};d.get_CompareOperator=function(){return this._6686};d.set_CompareOperator=function(a){this._6686=b.pv.e(a,s.WebImageCompareOperatorEnumJS)};d.getParams=function(){var b=a.getParams.call(this);b.image=this._8757;b.compareOperator=this._6686.valueOf();b.compareChannelIndexes=this._8910;return b};d.checkCommandParams=function(d){""===this._8757&&b.pv.te("Image property cannot be empty.");
return a.checkCommandParams.call(this,d)}};b.extend(L,h);var u=function(){function a(d,e,f,g){d=null==e?{x:d.x,y:d.y,width:d.width,height:d.height}:{x:d,y:e,width:f,height:g};b.pv.r(d);0>d.width&&(d.width=0);0>d.height&&(d.height=0);return d}var d=u.superclass;d.constructor.call(this);this._3971="";this._3751=k._2813._8313();this._962=k._2813._8313();this._6017=new b.WebInterpolationModeEnumJS(6);this._1827="rgba(0,0,0,0)";this._8832([24,32,33]);var e=u.prototype;e.get_ActionName=function(){return"DrawImage"};
e.get_OverlayImage=function(){return this._3971};e.set_OverlayImage=function(a){b.pv.s(a);this._3971=a};e.get_SourceRect=function(){return $.extend(!0,{},this._3751)};e.set_SourceRect=function(b,d,e,f){this._3751=a(b,d,e,f)};e.get_DestRect=function(){return $.extend(!0,{},this._962)};e.set_DestRect=function(b,d,e,f){this._962=a(b,d,e,f)};e.get_InterpolationMode=function(){return this._6017};e.set_InterpolationMode=function(a){this._6017=b.pv.e(a,b.WebInterpolationModeEnumJS)};e.get_BackgroundColor=
function(){return this._1827};e.set_BackgroundColor=function(a){b.pv.s(a);this._1827=a};e.checkCommandParams=function(a){""===this._3971&&b.pv.te("OverlayImage property cannot be empty.");return d.checkCommandParams.call(this,a)};e.getParams=function(){var b=d.getParams.call(this);b.overlayImage=this._3971;b.sourceRect=this._3751;b.destRect=this._962;b.interpolationMode=this._6017.valueOf();b.backgroundColor=this._1827;return b}};b.extend(u,h);var H=function(){var a=H.superclass;a.constructor.call(this);
this._3971="";this._6651={x:0,y:0};this._7641=new s.WebOverlayBinaryOperationTypeEnumJS(0);this._8832([2]);var d=H.prototype;d.get_ActionName=function(){return"OverlayBinary"};d.get_OverlayImage=function(){return this._3971};d.set_OverlayImage=function(a){b.pv.s(a);this._3971=a};d.get_OverlayPosition=function(){return $.extend(!0,{},this._6651)};d.set_OverlayPosition=function(a,d){var e;e=null==d?{x:parseInt(a.x),y:parseInt(a.y)}:{x:parseInt(a),y:parseInt(d)};(0>e.x||0>e.y)&&b.pv.toe();b.pv.p(e);
this._6651=e};d.get_BinaryOperationType=function(){return this._7641};d.set_BinaryOperationType=function(a){this._7641=b.pv.e(a,s.WebOverlayBinaryOperationTypeEnumJS)};d.checkCommandParams=function(d){""===this._3971&&b.pv.te("OverlayImage property cannot be empty.");return a.checkCommandParams.call(this,d)};d.getParams=function(){var b=a.getParams.call(this);b.overlayImage=this._3971;b.overlayPosition=this._6651;b.binaryOperationType=this._7641.valueOf();return b}};b.extend(H,h);var X=function(){var b=
X.superclass;b.constructor.call(this);this._8832([1,2,4,8,9,16,24,32,33,48,64]);var a=X.prototype;a.get_ActionName=function(){return"GetBackgroundColor"};a.execute=function(a,d,e,f){return b.execute.call(this,a,d,e,f)}};b.extend(X,m);var Z=function(){var b=Z.superclass;b.constructor.call(this);this._8832([1,2,4,8,9,16,24,32,33,48,64]);var a=Z.prototype;a.get_ActionName=function(){return"GetBorderColor"};a.execute=function(a,d,e,f){return b.execute.call(this,a,d,e,f)}};b.extend(Z,m);var aa=function(){var a=
aa.superclass;a.constructor.call(this);this._3093=this._5413=0;this._8832([1,2,4,8,9,16,24,32,33,48,64]);var d=aa.prototype;d.get_ActionName=function(){return"GetColorCount"};d.get_MaxColorCount=function(){return this._5413};d.set_MaxColorCount=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);this._5413=a};d.get_MaxInaccuracy=function(){return this._3093};d.set_MaxInaccuracy=function(a){b.pv.n(a);0>a&&(a=0);442<a&&(a=442);this._3093=a};d.getParams=function(){var b=a.getParams.call(this);b.maxColorCount=
this._5413;b.maxInaccuracy=this._3093;return b};d.execute=function(b,d,e,f){return a.execute.call(this,b,d,e,f)}};b.extend(aa,r);var da=function(){var a=da.superclass;a.constructor.call(this);this._7238=new s.WebHistogramTypeEnumJS(15);this._8832([1,2,4,8,9,16,24,32,33,48,64]);var d=da.prototype;d.get_ActionName=function(){return"GetHistogram"};d.get_HistogramType=function(){return this._7238};d.set_HistogramType=function(a){this._7238=b.pv.e(a,s.WebHistogramTypeEnumJS)};d.getParams=function(){var b=
a.getParams.call(this);b.histogramType=this._7238.valueOf();return b};d.execute=function(b,d,e,f){return a.execute.call(this,b,d,e,f)}};b.extend(da,r);var ea=function(){var b=ea.superclass;b.constructor.call(this);this._8832([1,2,4,8,9,14,15,16,24,32,33,48,64]);var a=ea.prototype;a.get_ActionName=function(){return"GetThreshold"};a.execute=function(a,d,e,f){return b.execute.call(this,a,d,e,f)}};b.extend(ea,m);var ga=function(){var a=ga.superclass;a.constructor.call(this);this._1689=.01;this._8832([1,
2,4,8,9,16,24,32,33,48,64]);var d=ga.prototype;d.get_ActionName=function(){return"IsImageBlank"};d.get_MaxNoiseLevel=function(){return this._1689};d.set_MaxNoiseLevel=function(a){b.pv.n(a);0>a&&(a=0);1<a&&(a=1);this._1689=a};d.getParams=function(){return{maxNoiseLevel:this._1689}};d.execute=function(b,d,e,f){return a.execute.call(this,b,d,e,f)}};b.extend(ga,m);var ha=function(){var a=ha.superclass;a.constructor.call(this);this._3573=!0;this._7232=new d;this._8832([1,2,4,8,9,16,24,32,33,48,64]);var e=
ha.prototype;e.get_ActionName=function(){return"HasCertainColor"};e.get_ConsiderAlphaChannel=function(){return this._3573};e.set_ConsiderAlphaChannel=function(a){b.pv.b(a);this._3573=a};e.get_Color=function(){return this._7232};e.set_Color=function(a){b.pv.c(a,d);this._7232=a};e.getParams=function(){var b=a.getParams.call(this);b.considerAlphaChannel=this._3573;b.color=this._7232.getParams();return b};e.execute=function(b,d,e,f){return a.execute.call(this,b,d,e,f)}};b.extend(ha,m);var ia=function(){var b=
ia.superclass;b.constructor.call(this);this._8832([1,2,4,8,9,24,32,33]);var a=ia.prototype;a.get_ActionName=function(){return"GetUniqueColor"};a.execute=function(a,d,e,f){return b.execute.call(this,a,d,e,f)}};b.extend(ia,r);var la=function(){var a=la.superclass;a.constructor.call(this);this._3093=0;this._8832([8,9,24]);var d=la.prototype;d.get_ActionName=function(){return"IsImageBlackWhite"};d.get_MaxInaccuracy=function(){return this._3093};d.set_MaxInaccuracy=function(a){b.pv.n(a);0>a&&(a=0);442<
a&&(a=442);this._3093=a};d.getParams=function(){return{maxInaccuracy:this._3093}};d.execute=function(b,d,e,f){return a.execute.call(this,b,d,e,f)}};b.extend(la,m);var ma=function(){var a=ma.superclass;a.constructor.call(this);this._5942=this._3093=0;this._8832([1,8,24,33]);var d=ma.prototype;d.get_ActionName=function(){return"IsImageGrayscale"};d.get_MaxPercentOfColorPixels=function(){return this._5942};d.set_MaxPercentOfColorPixels=function(a){b.pv.n(a);0>a&&(a=0);1<a&&(a=1);this._5942=a};d.get_MaxInaccuracy=
function(){return this._3093};d.set_MaxInaccuracy=function(a){b.pv.n(a);0>a&&(a=0);442<a&&(a=442);this._3093=a};d.getParams=function(){var b=a.getParams.call(this);b.maxInaccuracy=this._3093;b.maxPercentOfColorPixels=this._5942;return b};d.execute=function(b,d,e,f){return a.execute.call(this,b,d,e,f)}};b.extend(ma,r);var na=function(){var a=na.superclass;a.constructor.call(this);this._8696=this._7028=this._6142=this._8042=this._10485=!0;this._3093=0;this._8832([8,9,24]);var d=na.prototype;d.get_ActionName=
function(){return"GetImageColorDepth"};d.get_DetectBlackWhite=function(){return this._10485};d.set_DetectBlackWhite=function(a){b.pv.b(a);this._10485=a};d.get_DetectGrayscale=function(){return this._8042};d.set_DetectGrayscale=function(a){b.pv.b(a);this._8042=a};d.get_DetectIndexed1=function(){return this._6142};d.set_DetectIndexed1=function(a){b.pv.b(a);this._6142=a};d.get_DetectIndexed4=function(){return this._7028};d.set_DetectIndexed4=function(a){b.pv.b(a);this._7028=a};d.get_DetectIndexed8=function(){return this._8696};
d.set_DetectIndexed8=function(a){b.pv.b(a);this._8696=a};d.get_MaxInaccuracy=function(){return this._3093};d.set_MaxInaccuracy=function(a){b.pv.n(a);0>a&&(a=0);442<a&&(a=442);this._3093=a};d.getParams=function(){var b=a.getParams.call(this);b.detectBlackWhite=this._10485;b.detectGrayscale=this._8042;b.detectIndexed1=this._6142;b.detectIndexed4=this._7028;b.detectIndexed8=this._8696;b.maxInaccuracy=this._3093;return b};d.execute=function(b,d,e,f){return a.execute.call(this,b,d,e,f)};d._3610=function(d,
e,f,g){a._3610.call(this,d,function(a){var d;try{d=b.pv.e(a.pixelFormat,b.WebPixelFormatEnumJS)}catch(f){d=new b.WebPixelFormatEnumJS(0)}a.pixelFormat=d;e&&e(a)},f,g)}};b.extend(na,m);var oa=function(){function a(b){b._6115.get_ActionName=null;b._6115.get_ChangeSource=null;b._6115.set_ChangeSource=null}var d=oa.superclass;d.constructor.call(this);this._6245=5;this._6348=new s.WebBorderRemovalColorTypeEnumJS(0);this._3265=0;this._10426=new s.WebImageSideEnumJS(15);this._6115=new t;a(this);this._8832([1,
2,4,8,9,16,24,32,33,48,64]);var e=oa.prototype;e.get_ActionName=function(){return"GetBorderRect"};e.get_BorderSize=function(){return this._6245};e.set_BorderSize=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);1E3<a&&(a=1E3);this._6245=a};e.get_BorderColorType=function(){return this._6348};e.set_BorderColorType=function(a){this._6348=b.pv.e(a,s.WebBorderRemovalColorTypeEnumJS)};e.get_MaxBorderNoise=function(){return this._3265};e.set_MaxBorderNoise=function(a){b.pv.n(a);0>a&&(a=0);100<a&&(a=100);this._3265=
a};e.get_Side=function(){return this._10426};e.set_Side=function(a){this._10426=b.pv.e(a,s.WebImageSideEnumJS)};e.get_Binarization=function(){return this._6115};e.set_Binarization=function(d){b.pv.c(d,t);this._6115=d;a(this)};e.getParams=function(){var b=d.getParams.call(this);b.borderSize=this._6245;b.borderColorType=this._6348.valueOf();b.maxBorderNoise=this._3265;b.side=this._10426.valueOf();b.binarization=this._6115.getParams();delete b.binarization.changeSource;return b};e.execute=function(b,
a,e,f){return d.execute.call(this,b,a,e,f)}};b.extend(oa,m);var pa=function(){var a=pa.superclass;a.constructor.call(this);this._1773=new s.WebRotateFlipTypeEnumJS(1);this._8832([1,2,4,8,9,14,15,16,24,32,33,48,64]);var d=pa.prototype;d.get_ActionName=function(){return"Flip"};d.get_RotateFlipType=function(){return this._1773};d.set_RotateFlipType=function(a){this._1773=b.pv.e(a,s.WebRotateFlipTypeEnumJS)};d.getParams=function(){var b=a.getParams.call(this);b.rotateFlipType=this._1773.valueOf();return b};
d.checkCommandParams=function(b){return 0!==this._1773.valueOf()}};b.extend(pa,h);var ra=function(){var a=ra.superclass;a.constructor.call(this);this._7007=0;this._6348=new s.WebBorderColorTypeEnumJS(0);this._578="rgba(0,0,0,1)";this._9096=this._8778=this._7584=!0;this._8832([1,2,4,8,9,16,24,32,33,48,64]);var d=ra.prototype;d.get_ActionName=function(){return"Rotate"};d.get_Angle=function(){return this._7007};d.set_Angle=function(a){b.pv.n(a);0>a&&(a=0);360<a&&(a=360);this._7007=a};d.get_BorderColorType=
function(){return this._6348};d.set_BorderColorType=function(a){this._6348=b.pv.e(a,s.WebBorderColorTypeEnumJS)};d.get_BorderColor=function(){return this._578};d.set_BorderColor=function(a){b.pv.s(a);this._578=a};d.get_IsAntialiasingEnabled=function(){return this._9096};d.set_IsAntialiasingEnabled=function(a){b.pv.b(a);this._9096=a};d.getParams=function(){var b=a.getParams.call(this);b.rotationAngle=this._7007;b.borderColorType=this._6348.valueOf();b.borderColor=this._578;b.isAntialiasingEnabled=
this._9096;return b};d.checkCommandParams=function(b){return 0!==this._7007}};b.extend(ra,h);var sa=function(){var a=sa.superclass;a.constructor.call(this);this._2391=0;this._5091="rgba(0,0,0,0)";this._5254=new s.WebImageProcessingDirectionEnumJS(1);this._8832([1,2,4,8,9,16,24,32,33,48,64]);var d=sa.prototype;d.get_ActionName=function(){return"Skew"};d.get_Offset=function(){return this._2391};d.set_Offset=function(a){a=parseInt(a);b.pv.n(a);this._2391=a};d.get_BackColor=function(){return this._5091};
d.set_BackColor=function(a){b.pv.s(a);this._5091=a};d.get_Direction=function(){return this._5254};d.set_Direction=function(a){a=b.pv.e(a,s.WebImageProcessingDirectionEnumJS);2<a.valueOf()&&b.pv.te("Direction cannot be horizontal and vertical.");this._5254=a};d.getParams=function(){var b=a.getParams.call(this);b.offset=this._2391;b.backColor=this._5091;b.direction=this._5254.valueOf();return b};d.checkCommandParams=function(b){return a.checkCommandParams.call(this,b)&&0!==this._2391}};b.extend(sa,
l);var wa=function(){var a=wa.superclass;a.constructor.call(this);this._1827="rgba(0,0,0,0)";this._9416=[];this._8832([8,9,16,24,32,33,48,64]);var d=wa.prototype;d.get_ActionName=function(){return"QuadrilateralWarp"};d.get_BackgroundColor=function(){return this._1827};d.set_BackgroundColor=function(a){b.pv.s(a);this._1827=a};d.get_DestinationPoints=function(){for(var b=[],a=0;a<this._9416.length;a++)b[a]={x:this._9416[a].x,y:this._9416[a].y};return b};d.set_DestinationPoints=function(a){b.pv.ad(a,
b.pv.p);3!==a.length&&4!==a.length&&b.pv.te("Array length is not equal 3 or 4.");a=a.slice();3==a.length&&a.push({x:a[2].x+(a[1].x-a[0].x),y:a[1].y+(a[2].y-a[0].y)});if(k._2813._9438(a[0],a[1],a[3],a[2])){this._9416=[];for(var d=0;d<a.length;d++)this._9416[d]={x:a[d].x,y:a[d].y}}else b.pv.te("The destination points are not convex.")};d.getParams=function(){var b=a.getParams.call(this);b.backgroundColor=this._1827;b.destinationPoints=this._9416;return b};d.checkCommandParams=function(d){4!==this._9416.length&&
b.pv.te("DestinationPoints property has wrong value.");return a.checkCommandParams.call(this,d)}};b.extend(wa,l);var xa=function(){var a=xa.superclass;a.constructor.call(this);this._5091="rgba(0,0,0,0)";this._6017=new b.WebInterpolationModeEnumJS(7);this._1524=k._2813._8313();this._7407=new k.WebMatrixJS;this._4312=!0;this._8832([1,2,4,8,9,14,15,16,24,32,33,48,64]);var d=xa.prototype;d.get_ActionName=function(){return"MatrixTransform"};d.get_BackColor=function(){return this._5091};d.set_BackColor=
function(a){b.pv.s(a);this._5091=a};d.get_CropRect=function(){return $.extend(!0,{},this._1524)};d.set_CropRect=function(a,d,e,f){a=null==d?{x:a.x,y:a.y,width:a.width,height:a.height}:{x:a,y:d,width:e,height:f};b.pv.r(a);0>a.x&&(a.x=0);0>a.y&&(a.y=0);0>a.width&&(a.width=0);0>a.height&&(a.height=0);this._1524=a};d.get_InterpolationMode=function(){return this._6017};d.set_InterpolationMode=function(a){this._6017=b.pv.e(a,b.WebInterpolationModeEnumJS)};d.get_Matrix=function(){return this._7407};d.set_Matrix=
function(a){b.pv.c(a,k.WebMatrixJS);this._7407=a};d.get_PreservePixelFormat=function(){return this._4312};d.set_PreservePixelFormat=function(a){b.pv.b(a);this._4312=a};d.getParams=function(){var b=a.getParams.call(this);b.backColor=this._5091;b.interpolationMode=this._6017.valueOf();b.cropRect=this._1524;b.matrix=this._7407._4798();b.preservePixelFormat=this._4312;return b};d.checkCommandParams=function(b){return a.checkCommandParams.call(this,b)&&!this._7407.compareMatrix(new k.WebMatrixJS)}};b.extend(xa,
h);var ya=function(){var a=ya.superclass;a.constructor.call(this);this._2192=new ta;this._3599=this._9105=1;this._8778=this._7584=!0;var d=ya.prototype;d.get_ActionName=function(){return"ImageScaling"};d.get_SupportedNativePixelFormats=function(){return this._2192.get_SupportedNativePixelFormats()};d.get_ScaleX=function(){return this._9105};d.set_ScaleX=function(a){b.pv.n(a);0>=a&&b.pv.toe();this._9105=a};d.get_ScaleY=function(){return this._3599};d.set_ScaleY=function(a){b.pv.n(a);0>=a&&b.pv.toe();
this._3599=a};d.get_Scale=function(){return this._9105!==this._3599?-1:this._9105};d.set_Scale=function(a){b.pv.n(a);0>=a&&b.pv.toe();this._3599=this._9105=a};d.get_InterpolationMode=function(){return this._2192.get_InterpolationMode()};d.set_InterpolationMode=function(b){this._2192.set_InterpolationMode(b)};d.getParams=function(){var b=a.getParams.call(this);b.scaleX=this._9105;b.scaleY=this._3599;b.interpolationMode=this._2192._6017.valueOf();return b}};b.extend(ya,l);var Y=function(){var a=Y.superclass;
a.constructor.call(this);this._3532=new s.WebColorChannelEnumJS(7);var d=Y.prototype;d.get_ColorChannel=function(){return this._3532};d.set_ColorChannel=function(a){this._3532=b.pv.e(a,s.WebColorChannelEnumJS)};d.getParams=function(){var b=a.getParams.call(this);b.colorChannel=this._3532.valueOf();return b}};b.extend(Y,l);var Ba=function(){var a=Ba.superclass;a.constructor.call(this);this._3532=new s.WebColorChannelEnumJS(7);this._10017=3;this._5254=new s.WebImageProcessingDirectionEnumJS(3);this._8832([9,
24,33]);var d=Ba.prototype;d.get_ColorChannel=function(){return this._3532};d.set_ColorChannel=function(a){this._3532=b.pv.e(a,s.WebColorChannelEnumJS)};d.get_WindowSize=function(){return this._10017};d.set_WindowSize=function(a){a=parseInt(a);b.pv.n(a);1>a&&(a=1);0===a%2&&b.pv.te("Value must be odd.");this._10017=a};d.get_Direction=function(){return this._5254};d.set_Direction=function(a){this._5254=b.pv.e(a,s.WebImageProcessingDirectionEnumJS)};d.getParams=function(){var b=a.getParams.call(this);
b.colorChannel=this._3532.valueOf();b.windowSize=this._10017;b.direction=this._5254.valueOf();return b}};b.extend(Ba,Y);var za=function(){za.superclass.constructor.call(this);za.prototype.get_ActionName=function(){return"Minimum"}};b.extend(za,Ba);var Aa=function(){Aa.superclass.constructor.call(this);Aa.prototype.get_ActionName=function(){return"Maximum"}};b.extend(Aa,Ba);var Ga=function(){Ga.superclass.constructor.call(this);Ga.prototype.get_ActionName=function(){return"MidPoint"}};b.extend(Ga,
Ba);var Ha=function(){Ha.superclass.constructor.call(this);Ha.prototype.get_ActionName=function(){return"Mean"}};b.extend(Ha,Ba);var Ia=function(){Ia.superclass.constructor.call(this);Ia.prototype.get_ActionName=function(){return"Median"}};b.extend(Ia,Ba);var Fa=function(){var a=Fa.superclass;a.constructor.call(this);this._10017=3;this._5254=new s.WebImageProcessingDirectionEnumJS(1);this._8832([2,9,24,33]);var d=Fa.prototype;d.get_ActionName=function(){return"Dilate"};d.get_WindowSize=function(){return this._10017};
d.set_WindowSize=function(a){a=parseInt(a);b.pv.n(a);1>a&&(a=1);0===a%2&&b.pv.te("Value must be odd.");this._10017=a};d.get_Direction=function(){return this._5254};d.set_Direction=function(a){this._5254=b.pv.e(a,s.WebImageProcessingDirectionEnumJS)};d.getParams=function(){var b=a.getParams.call(this);b.windowSize=this._10017;b.direction=this._5254.valueOf();return b}};b.extend(Fa,l);var La=function(){La.superclass.constructor.call(this);La.prototype.get_ActionName=function(){return"Erode"}};b.extend(La,
Fa);var Ma=function(){var a=Ma.superclass;a.constructor.call(this);this._10017=5;this._8832([9,16,24,32,33,48,64]);var d=Ma.prototype;d.get_ActionName=function(){return"Blur"};d.get_WindowSize=function(){return this._10017};d.set_WindowSize=function(a){a=parseInt(a);b.pv.n(a);1>a&&(a=1);255<a&&(a=255);0===a%2&&b.pv.te("Value must be odd.");this._10017=a};d.getParams=function(){var b=a.getParams.call(this);b.windowSize=this._10017;return b}};b.extend(Ma,Y);var Na=function(){var a=Na.superclass;a.constructor.call(this);
this._10017=5;this._2647=!1;this._8435=.833;this._8832([9,16,24,32,33,48,64]);var d=Na.prototype;d.get_ActionName=function(){return"GaussianBlur"};d.get_WindowSize=function(){return this._10017};d.set_WindowSize=function(a){a=parseInt(a);b.pv.n(a);3>a&&(a=3);513<a&&(a=513);0===a%2&&b.pv.te("Value must be odd.");this._10017=a};d.get_AutoCalculateSigma=function(){return this._2647};d.set_AutoCalculateSigma=function(a){b.pv.b(a);this._2647=a};d.get_Sigma=function(){return this._8435};d.set_Sigma=function(a){b.pv.n(a);
.6>a&&(a=.6);2.4<a&&(a=2.4);this._8435=a};d.getParams=function(){var b=a.getParams.call(this);b.windowSize=this._10017;b.autoCalculateSigma=this._2647;b.sigma=this._8435;return b}};b.extend(Na,Y);var Oa=function(){Oa.superclass.constructor.call(this);this._8832([9,16,24,32,33,48,64]);Oa.prototype.get_ActionName=function(){return"EdgeDetection"}};b.extend(Oa,Y);var Pa=function(){var a=Pa.superclass;a.constructor.call(this);this._3901=2;this._464=45;this._8832([9,16,24,32,33,48,64]);var d=Pa.prototype;
d.get_ActionName=function(){return"Emboss"};d.get_Depth=function(){return this._3901};d.set_Depth=function(a){a=parseInt(a);b.pv.n(a);1>a&&(a=1);10<a&&(a=10);this._3901=a};d.get_LightDirection=function(){return this._464};d.set_LightDirection=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);360<a&&(a=360);this._464=a};d.getParams=function(){var b=a.getParams.call(this);b.depth=this._3901;b.lightDirection=this._464;return b}};b.extend(Pa,Y);var Qa=function(){var a=Qa.superclass;a.constructor.call(this);
this._2227=1;this._8832([9,16,24,32,33,48,64]);var d=Qa.prototype;d.get_ActionName=function(){return"Sharpen"};d.get_Amount=function(){return this._2227};d.set_Amount=function(a){a=parseInt(a);b.pv.n(a);1>a&&(a=1);10<a&&(a=10);this._2227=a};d.getParams=function(){var b=a.getParams.call(this);b.amount=this._2227;return b}};b.extend(Qa,Y);var Ra=function(){var a=Ra.superclass;a.constructor.call(this);this._6287=!1;this._7387=!0;this._7590=0;this._1439=!1;this._6548=100;this._3421=new s.WebNoiseTypeEnumJS(3);
this._8283=this._9131=100;this._8832([1,2,4,8,9,16,24,32,33,48,64]);var d=Ra.prototype;d.get_ActionName=function(){return"AddNoise"};d.get_AutoNoiseGeneration=function(){return this._6287};d.set_AutoNoiseGeneration=function(a){b.pv.b(a);this._6287=a};d.get_AutoSeedPercentageGeneration=function(){return this._7387};d.set_AutoSeedPercentageGeneration=function(a){b.pv.b(a);this._7387=a};d.get_Mean=function(){return this._7590};d.set_Mean=function(a){b.pv.n(a);0>a&&(a=0);100<a&&(a=100);this._7590=a};
d.get_MonochromaticNoise=function(){return this._1439};d.set_MonochromaticNoise=function(a){b.pv.b(a);this._1439=a};d.get_NoisePercentage=function(){return this._6548};d.set_NoisePercentage=function(a){b.pv.n(a);0>a&&(a=0);100<a&&(a=100);this._6548=a};d.get_NoiseType=function(){return this._3421};d.set_NoiseType=function(a){this._3421=b.pv.e(a,s.WebNoiseTypeEnumJS)};d.get_SeedPercentage=function(){return this._9131};d.set_SeedPercentage=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);100<a&&(a=100);
this._9131=a};d.get_Variance=function(){return this._8283};d.set_Variance=function(a){b.pv.n(a);-1E6>a&&(a=-1E6);1E6<a&&(a=1E6);this._8283=a};d.getParams=function(){var b=a.getParams.call(this);b.autoNoiseGeneration=this._6287;b.autoSeedPercentageGeneration=this._7387;b.mean=this._7590;b.monochromaticNoise=this._1439;b.noisePercentage=this._6548;b.noiseType=this._3421.valueOf();b.seedPercentage=this._9131;b.variance=this._8283;return b}};b.extend(Ra,Y);var Sa=function(){var a=Sa.superclass;a.constructor.call(this);
this._53=3;this._10292=80;this._7105=20;this._8832([9]);var d=Sa.prototype;d.get_ActionName=function(){return"CannyEdgeDetector"};d.get_BlurRadius=function(){return this._53};d.set_BlurRadius=function(a){a=parseInt(a);b.pv.n(a);1>a&&(a=1);256<a&&(a=256);this._53=a};d.get_LowThreshold=function(){return this._7105};d.set_LowThreshold=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);255<a&&(a=255);this._7105=a};d.get_HighThreshold=function(){return this._10292};d.set_HighThreshold=function(a){a=parseInt(a);
b.pv.n(a);0>a&&(a=0);255<a&&(a=255);this._10292=a};d.getParams=function(){var b=a.getParams.call(this);b.blurRadius=this._53;b.highThreshold=this._10292;b.lowThreshold=this._7105;return b}};b.extend(Sa,l);var Ca=function(){var a=Ca.superclass;a.constructor.call(this);this._536=this._4644=.05;this._8832([24,32,33,48,64]);var d=Ca.prototype;d.get_ActionName=function(){return"AutoColors"};d.get_LowLimit=function(){return this._4644};d.set_LowLimit=function(a){b.pv.n(a);0>a&&(a=0);100<a&&(a=100);this._4644=
a};d.get_HighLimit=function(){return this._536};d.set_HighLimit=function(a){b.pv.n(a);0>a&&(a=0);100<a&&(a=100);this._536=a};d.getParams=function(){var b=a.getParams.call(this);b.lowLimit=this._4644;b.highLimit=this._536;return b}};b.extend(Ca,h);var Ta=function(){Ta.superclass.constructor.call(this);Ta.prototype.get_ActionName=function(){return"AutoContrast"}};b.extend(Ta,Ca);var Ua=function(){Ua.superclass.constructor.call(this);Ua.prototype.get_ActionName=function(){return"AutoLevels"}};b.extend(Ua,
Ca);var Va=function(){var a=Va.superclass;a.constructor.call(this);this._7082=-25;this._175=this._4418=25;this._5850=-25;this._7684=2;this._5096=15;this._8832([9,16,24,32,33,48,64]);var d=Va.prototype;d.get_ActionName=function(){return"BevelEdge"};d.get_BottomBrightness=function(){return this._7082};d.set_BottomBrightness=function(a){a=parseInt(a);b.pv.n(a);-100>a&&(a=-100);100<a&&(a=100);this._7082=a};d.get_TopBrightness=function(){return this._4418};d.set_TopBrightness=function(a){a=parseInt(a);
b.pv.n(a);-100>a&&(a=-100);100<a&&(a=100);this._4418=a};d.get_LeftBrightness=function(){return this._175};d.set_LeftBrightness=function(a){a=parseInt(a);b.pv.n(a);-100>a&&(a=-100);100<a&&(a=100);this._175=a};d.get_RightBrightness=function(){return this._5850};d.set_RightBrightness=function(a){a=parseInt(a);b.pv.n(a);-100>a&&(a=-100);100<a&&(a=100);this._5850=a};d.get_Smoothness=function(){return this._7684};d.set_Smoothness=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);256<a&&(a=256);this._7684=
a};d.get_EdgeSize=function(){return this._5096};d.set_EdgeSize=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);this._5096=a};d.getParams=function(){var b=a.getParams.call(this);b.bottomBrightness=this._7082;b.topBrightness=this._4418;b.leftBrightness=this._175;b.rightBrightness=this._5850;b.smoothness=this._7684;b.edgeSize=this._5096;return b};d.checkCommandParams=function(b){return a.checkCommandParams.call(this,b)&&!(0===this._7082&&0===this._4418&&0===this._175&&0===this._5850||0===this._5096)}};
b.extend(Va,l);var Wa=function(){var a=Wa.superclass;a.constructor.call(this);this._2712="rgba(255,255,255,0)";this._53=4;this._7232="rgba(0,0,0,1)";this._6978=15;this._464=45;this._8832([24,32,33,48,64]);var d=Wa.prototype;d.get_ActionName=function(){return"DropShadow"};d.get_BackColorOfShadow=function(){return this._2712};d.set_BackColorOfShadow=function(a){b.pv.s(a);this._2712=a};d.get_BlurRadius=function(){return this._53};d.set_BlurRadius=function(a){a=parseInt(a);b.pv.n(a);1>a&&(a=1);256<a&&
(a=256);this._53=a};d.get_Color=function(){return this._7232};d.set_Color=function(a){b.pv.s(a);this._7232=a};d.get_Distance=function(){return this._6978};d.set_Distance=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);this._6978=a};d.get_LightDirection=function(){return this._464};d.set_LightDirection=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);360<a&&(a=360);this._464=a};d.getParams=function(){var b=a.getParams.call(this);b.backColorOfShadow=this._2712;b.blurRadius=this._53;b.color=this._7232;
b.distance=this._6978;b.lightDirection=this._464;return b}};b.extend(Wa,l);var Xa=function(){var a=Xa.superclass;a.constructor.call(this);this._3901=4;this._617=45;this._8832([9,16,24,32,33,48,64]);var d=Xa.prototype;d.get_ActionName=function(){return"MotionBlur"};d.get_Depth=function(){return this._3901};d.set_Depth=function(a){a=parseInt(a);b.pv.n(a);1>a&&(a=1);10<a&&(a=10);this._3901=a};d.get_MotionDirection=function(){return this._617};d.set_MotionDirection=function(a){a=parseInt(a);b.pv.n(a);
0>a&&(a=0);180<a&&(a=180);this._617=a};d.getParams=function(){var b=a.getParams.call(this);b.depth=this._3901;b.motionDirection=this._617;return b}};b.extend(Xa,Y);var Ya=function(){var a=Ya.superclass;a.constructor.call(this);this._1991=5;this._8832([24,32,33,48,64]);var d=Ya.prototype;d.get_ActionName=function(){return"Mosaic"};d.get_TileSize=function(){return this._1991};d.set_TileSize=function(a){a=parseInt(a);b.pv.n(a);1>a&&(a=1);this._1991=a};d.getParams=function(){var b=a.getParams.call(this);
b.tileSize=this._1991;return b}};b.extend(Ya,Y);var Za=function(){var a=Za.superclass;a.constructor.call(this);this._2213=50;this._1375=3;this._8832([16,24,32,33,48,64]);var d=Za.prototype;d.get_ActionName=function(){return"OilPainting"};d.get_Radius=function(){return this._1375};d.set_Radius=function(a){a=parseInt(a);b.pv.n(a);1>a&&(a=1);64<a&&(a=64);this._1375=a};d.get_IntensityLevel=function(){return this._2213};d.set_IntensityLevel=function(a){a=parseInt(a);b.pv.n(a);3>a&&(a=3);255<a&&(a=255);
this._2213=a};d.getParams=function(){var b=a.getParams.call(this);b.radius=this._1375;b.intensityLevel=this._2213;return b}};b.extend(Za,l);var $a=function(){var a=$a.superclass;a.constructor.call(this);this._1309=5;this._8832([24,32,33,48,64]);var d=$a.prototype;d.get_ActionName=function(){return"Pixelate"};d.get_CellSize=function(){return this._1309};d.set_CellSize=function(a){a=parseInt(a);b.pv.n(a);2>a&&(a=2);100<a&&(a=100);this._1309=a};d.getParams=function(){var b=a.getParams.call(this);b.cellSize=
this._1309;return b}};b.extend($a,l);var ab=function(){var a=ab.superclass;a.constructor.call(this);this._7062=90;this._4779=70;this._8832([24,32,33,48,64]);var d=ab.prototype;d.get_ActionName=function(){return"RedEyeRemoval"};d.get_Saturation=function(){return this._7062};d.set_Saturation=function(a){a=parseInt(a);b.pv.n(a);50>a&&(a=50);100<a&&(a=100);this._7062=a};d.get_Tolerance=function(){return this._4779};d.set_Tolerance=function(a){a=parseInt(a);b.pv.n(a);35>a&&(a=35);100<a&&(a=100);this._4779=
a};d.getParams=function(){var b=a.getParams.call(this);b.saturation=this._7062;b.tolerance=this._4779;return b}};b.extend(ab,l);var bb=function(){bb.superclass.constructor.call(this);this._8832([24,32,33,48,64]);bb.prototype.get_ActionName=function(){return"Sepia"}};b.extend(bb,l);var cb=function(){cb.superclass.constructor.call(this);this._8832([24,32,33,48,64]);cb.prototype.get_ActionName=function(){return"Solarize"}};b.extend(cb,l);var db=function(){var a=db.superclass;a.constructor.call(this);
this._4939=8;this._7007=30;this._1991=40;this._8832([24,32,33,48,64]);var d=db.prototype;d.get_ActionName=function(){return"TileReflection"};d.get_Curvature=function(){return this._4939};d.set_Curvature=function(a){a=parseInt(a);b.pv.n(a);-20>a&&(a=-20);20<a&&(a=20);this._4939=a};d.get_RotationAngle=function(){return this._7007};d.set_RotationAngle=function(a){a=parseInt(a);b.pv.n(a);-45>a&&(a=-45);45<a&&(a=45);this._7007=a};d.get_TileSize=function(){return this._1991};d.set_TileSize=function(a){a=
parseInt(a);b.pv.n(a);2>a&&(a=2);200<a&&(a=200);this._1991=a};d.getParams=function(){var b=a.getParams.call(this);b.curvature=this._4939;b.rotationAngle=this._7007;b.tileSize=this._1991;return b}};b.extend(db,l);var eb=function(){var a=eb.superclass;a.constructor.call(this);this._1569=1;this._1375=12;this._10550=new s.WebFrequencyFilterTypeEnumJS(2);this._6427=new s.WebBlendingModeEnumJS(9);this._8148=!0;this._8832([24,32,33,9]);var d=eb.prototype;d.get_ActionName=function(){return"ImageSharpening"};
d.get_OverlayAlpha=function(){return this._1569};d.set_OverlayAlpha=function(a){b.pv.n(a);0>a&&(a=0);1<a&&(a=1);this._1569=a};d.get_Radius=function(){return this._1375};d.set_Radius=function(a){b.pv.n(a);0>=a&&b.pv.te("Value must be positive.");this._1375=a};d.get_Filter=function(){return this._10550};d.set_Filter=function(a){this._10550=b.pv.e(a,s.WebFrequencyFilterTypeEnumJS)};d.get_BlendingMode=function(){return this._6427};d.set_BlendingMode=function(a){this._6427=b.pv.e(a,s.WebBlendingModeEnumJS)};
d.get_GrayscaleFiltration=function(){return this._8148};d.set_GrayscaleFiltration=function(a){b.pv.b(a);this._8148=a};d.getParams=function(){var b=a.getParams.call(this);b.overlayAlpha=this._1569;b.radius=this._1375;b.filter=this._10550.valueOf();b.blendingMode=this._6427.valueOf();b.grayscaleFiltration=this._8148;return b}};b.extend(eb,l);var fb=function(){var a=fb.superclass;a.constructor.call(this);this._1569=1;this._1375=7;this._10550=new s.WebFrequencyFilterTypeEnumJS(2);this._6427=new s.WebBlendingModeEnumJS(0);
this._8148=!1;this._8832([24,32,33,9]);var d=fb.prototype;d.get_ActionName=function(){return"ImageSmoothing"};d.get_OverlayAlpha=function(){return this._1569};d.set_OverlayAlpha=function(a){b.pv.n(a);0>a&&(a=0);1<a&&(a=1);this._1569=a};d.get_Radius=function(){return this._1375};d.set_Radius=function(a){b.pv.n(a);0>=a&&b.pv.te("Value must be positive.");this._1375=a};d.get_Filter=function(){return this._10550};d.set_Filter=function(a){this._10550=b.pv.e(a,s.WebFrequencyFilterTypeEnumJS)};d.get_BlendingMode=
function(){return this._6427};d.set_BlendingMode=function(a){this._6427=b.pv.e(a,s.WebBlendingModeEnumJS)};d.get_GrayscaleFiltration=function(){return this._8148};d.set_GrayscaleFiltration=function(a){b.pv.b(a);this._8148=a};d.getParams=function(){var b=a.getParams.call(this);b.overlayAlpha=this._1569;b.radius=this._1375;b.filter=this._10550.valueOf();b.blendingMode=this._6427.valueOf();b.grayscaleFiltration=this._8148;return b}};b.extend(fb,l);var Da=function(){var a=Da.superclass;a.constructor.call(this);
this._3814=.08;this._8832([24,32,33,9]);var d=Da.prototype;d.get_ActionName=function(){b.pv.tne()};d.get_CutoffFrequency=function(){return this._3814};d.set_CutoffFrequency=function(a){b.pv.n(a);0>=a&&b.pv.te("Value must be positive.");this._3814=a};d.getParams=function(){var b=a.getParams.call(this);b.cutoffFrequency=this._3814;return b}};b.extend(Da,l);var gb=function(){gb.superclass.constructor.call(this);gb.prototype.get_ActionName=function(){return"IdealHighpass"}};b.extend(gb,Da);var hb=function(){hb.superclass.constructor.call(this);
hb.prototype.get_ActionName=function(){return"GaussianHighpass"}};b.extend(hb,Da);var ib=function(){var a=ib.superclass;a.constructor.call(this);this._2868=2;var d=ib.prototype;d.get_ActionName=function(){return"ButterworthHighpass"};d.get_Order=function(){return this._2868};d.set_Order=function(a){b.pv.n(a);0>=a&&b.pv.te("Value must be positive.");this._2868=a};d.getParams=function(){var b=a.getParams.call(this);b.order=this._2868;return b}};b.extend(ib,Da);var Ea=function(){var a=Ea.superclass;
a.constructor.call(this);this._3814=.14;this._8832([24,32,33,9]);var d=Ea.prototype;d.get_ActionName=function(){b.pv.tne()};d.get_CutoffFrequency=function(){return this._3814};d.set_CutoffFrequency=function(a){b.pv.n(a);0>=a&&b.pv.te("Value must be positive.");this._3814=a};d.getParams=function(){var b=a.getParams.call(this);b.cutoffFrequency=this._3814;return b}};b.extend(Ea,l);var jb=function(){jb.superclass.constructor.call(this);jb.prototype.get_ActionName=function(){return"IdealLowpass"}};b.extend(jb,
Ea);var kb=function(){kb.superclass.constructor.call(this);kb.prototype.get_ActionName=function(){return"GaussianLowpass"}};b.extend(kb,Ea);var lb=function(){var a=lb.superclass;a.constructor.call(this);this._2868=2;var d=lb.prototype;d.get_ActionName=function(){return"ButterworthLowpass"};d.get_Order=function(){return this._2868};d.set_Order=function(a){b.pv.n(a);0>=a&&b.pv.te("Value must be positive.");this._2868=a};d.getParams=function(){var b=a.getParams.call(this);b.order=this._2868;return b}};
b.extend(lb,Ea);e.WebColorBaseJS=d;e.WebColorSphereJS=a;e.WebColorReplaceSphereJS=f;e.WebChannelRemapSettings=g;e.WebImageProcessingCommandBaseJS=m;e.WebImageProcessingCommandWithSourceChangeJS=h;e.WebImageProcessingCommandWithRegionJS=r;e.WebImageProcessingCommandWithRegionAndSourceChangeJS=l;e.WebBinarizeCommandJS=t;e.WebChangePixelFormatCommandJS=M;e.WebChangePixelFormatToBgrCommandJS=R;e.WebChangePixelFormatToBlackWhiteCommandJS=U;e.WebChangePixelFormatToGrayscaleCommandJS=G;e.WebChangePixelFormatToPaletteCommandJS=
V;e.WebClearCommandJS=ja;e.WebCropCommandJS=W;e.WebResampleCommandJS=fa;e.WebResizeCommandJS=ta;e.WebResizeCanvasCommandJS=T;e.WebOverlayCommandJS=ua;e.WebOverlayMaskedCommandJS=va;e.WebOverlayWithBlendingCommandJS=ka;e.WebFillRectangleCommandJS=p;e.WebImageComparisonCommandJS=L;e.WebDrawImageCommandJS=u;e.WebOverlayBinaryCommandJS=H;e.WebGetBackgroundColorCommandJS=X;e.WebGetBorderColorCommandJS=Z;e.WebGetColorCountCommandJS=aa;e.WebGetHistogramCommandJS=da;e.WebGetThresholdCommandJS=ea;e.WebIsImageBlankCommandJS=
ga;e.WebHasCertainColorCommandJS=ha;e.WebGetUniqueColorCommandJS=ia;e.WebIsImageBlackWhiteCommandJS=la;e.WebIsImageGrayscaleCommandJS=ma;e.WebGetImageColorDepthCommandJS=na;e.WebGetBorderRectCommandJS=oa;e.WebFlipCommandJS=pa;e.WebRotateCommandJS=ra;e.WebSkewCommandJS=sa;e.WebQuadrilateralWarpCommandJS=wa;e.WebMatrixTransformCommandJS=xa;e.WebImageScalingCommandJS=ya;e.WebChangeBrightnessCommandJS=w;e.WebChangeBrightnessContrastCommandJS=C;e.WebChangeContrastCommandJS=q;e.WebChangeGammaCommandJS=
n;e.WebChangeHSLCommandJS=x;e.WebColorBlendCommandJS=v;e.WebColorBlend16CommandJS=z;e.WebCurvesCommandJS=N;e.WebCurves16CommandJS=Q;e.WebDesaturateCommandJS=y;e.WebGetAlphaChannelMaskCommandJS=E;e.WebHalftoneCommandJS=B;e.WebInvertCommandJS=D;e.WebLevelsCommandJS=F;e.WebPosterizeCommandJS=K;e.WebRemapColorsCommandJS=J;e.WebRemapColors16CommandJS=I;e.WebReplaceColorCommandJS=S;e.WebSetAlphaChannelMaskCommandJS=P;e.WebSetAlphaChannelValueCommandJS=O;e.WebMinimumCommandJS=za;e.WebMaximumCommandJS=Aa;
e.WebMidPointCommandJS=Ga;e.WebMeanCommandJS=Ha;e.WebMedianCommandJS=Ia;e.WebDilateCommandJS=Fa;e.WebErodeCommandJS=La;e.WebBlurCommandJS=Ma;e.WebGaussianBlurCommandJS=Na;e.WebEdgeDetectionCommandJS=Oa;e.WebEmbossCommandJS=Pa;e.WebSharpenCommandJS=Qa;e.WebAddNoiseCommandJS=Ra;e.WebCannyEdgeDetectorCommandJS=Sa;e.WebAutoColorsCommandJS=Ca;e.WebAutoContrastCommandJS=Ta;e.WebAutoLevelsCommandJS=Ua;e.WebBevelEdgeCommandJS=Va;e.WebDropShadowCommandJS=Wa;e.WebMotionBlurCommandJS=Xa;e.WebMosaicCommandJS=
Ya;e.WebOilPaintingCommandJS=Za;e.WebPixelateCommandJS=$a;e.WebRedEyeRemovalCommandJS=ab;e.WebSepiaCommandJS=bb;e.WebSolarizeCommandJS=cb;e.WebTileReflectionCommandJS=db;e.WebImageSharpeningCommandJS=eb;e.WebImageSmoothingCommandJS=fb;e.WebIdealHighpassCommandJS=gb;e.WebGaussianHighpassCommandJS=hb;e.WebButterworthHighpassCommandJS=ib;e.WebIdealLowpassCommandJS=jb;e.WebGaussianLowpassCommandJS=kb;e.WebButterworthLowpassCommandJS=lb})(w.ImageProcessing);w.WebBmpCompressionEnumJS=b.EnumGenerator.create([{None:0},
{RLE:1}],!1);w.WebPngFilterMethodEnumJS=b.EnumGenerator.create([{None:0},{Sub:1},{Up:2},{Average:3},{Paeth:4},{Adaptive:5},{Auto:31}],!1);w.WebGifCreatePageMethodEnumJS=b.EnumGenerator.create([{UseOnlyGlobalPalette:0},{UseGlobalOrLocalPalette:1}],!1);w.WebJpeg2000CompressionTypeEnumJS=b.EnumGenerator.create([{Lossless:0},{Lossy:0}],!1);w.WebTiffCompressionEnumJS=b.EnumGenerator.create([{Auto:0},{None:1},{CcittRle:2},{CcittGroup3:3},{CcittGroup4:4},{Lzw:5},{OldJpeg:6},{Jpeg:7},{Zip:8},{"Packbits ":32773},
{"Jpeg2000 ":34712},{NikonNef:34713}],!1);w.WebPdfImageCompressionEnumJS=b.EnumGenerator.create([{None:0},{CcittFax:1},{Lzw:2},{Jpeg:4},{Zip:8},{Jbig2:16},{Jpeg2000:32},{Auto:1024}],!1);w.WebPdfDocumentConformance=b.EnumGenerator.create([{Undefined:0},{PdfA_1a:1},{PdfA_1b:2},{PdfA_2a:4},{PdfA_2b:8},{PdfA_2u:16},{PdfA_3a:32},{PdfA_3b:64},{PdfA_3u:128}],!1);var K=function(){var e=K.prototype;e.get_Name=function(){if(null!=this._5735)return this._5735;b.pv.tne()};e.toObject=function(){return this._4357()};
e._4357=function(){b.pv.tne()}},wa=function(){wa.superclass.constructor.call(this);wa.prototype._4357=function(){return{}};this._5735="Pcx"};b.extend(wa,K);var xa=function(){xa.superclass.constructor.call(this);var e=xa.prototype;e.get_Compression=function(){return this._2519};e.set_Compression=function(d){this._2519=b.pv.e(d,w.WebBmpCompressionEnumJS)};e.clone=function(){var b=new this.constructor;b._2519=new w.WebBmpCompressionEnumJS(this._2519.valueOf());return b};e._4357=function(){return{compression:this._2519.valueOf()}};
this._5735="Bmp";this._2519=new w.WebBmpCompressionEnumJS(1)};b.extend(xa,K);var N=function(e,d){N.superclass.constructor.call(this);var a=N.prototype;a.get_CompressionLevel=function(){return this._10503};a.set_CompressionLevel=function(a){b.pv.n(a);0>a&&(a=0);9<a&&(a=9);this._10503=a};a.get_FilterMethod=function(){return this._4299};a.set_FilterMethod=function(a){this._4299=b.pv.e(a,w.WebPngFilterMethodEnumJS)};a.clone=function(){var a=new this.constructor;a._10503=this._10503;a._4299=new w.WebPngFilterMethodEnumJS(this._4299.valueOf());
return a};a._4357=function(){return{compressionLevel:this._10503,filterMethod:this._4299.valueOf()}};this._5735="Png";this._10503=6;this._4299=new w.WebPngFilterMethodEnumJS(31);null!=d&&this.set_CompressionLevel(d);null!=e&&this.set_FilterMethod(e)};b.extend(N,K);N.bestSpeed=function(){return new N(0,1)};N.fast=function(){return new N(31,4)};N.normal=function(){return new N};N.bestCompression=function(){return new N(31,8)};var V=function(e){V.superclass.constructor.call(this);var d=V.prototype;d.get_Quality=
function(){return this._5869};d.set_Quality=function(a){b.pv.n(a);a!==this._5869&&(1>a&&(a=1),100<a&&(a=100),this._5869=a)};d.get_SaveAsGrayscale=function(){return this._2468};d.set_SaveAsGrayscale=function(a){b.pv.b(a);this._2468=a};d.clone=function(){var a=new this.constructor;a._5869=this._5869;a._2468=this._2468;return a};d._4357=function(){return{quality:this._5869,saveAsGrayscale:this._2468}};null==e&&(e=70);b.pv.n(e);this._5869=e;this._2468=!1;this._5735="Jpeg"};b.extend(V,K);var ya=function(){ya.superclass.constructor.call(this);
var e=ya.prototype;e.get_NumberOfAnimationCycles=function(){return this._5185};e.set_NumberOfAnimationCycles=function(d){b.pv.n(d);(0>d||65535<d)&&b.pv.toe();this._5185=d};e.get_AnimationDelay=function(){return this._7522};e.set_AnimationDelay=function(d){b.pv.n(d);(0>d||65535<d)&&b.pv.toe();this._7522=d};e.get_InfiniteAnimation=function(){return this._5812};e.set_InfiniteAnimation=function(d){b.pv.b(d);this._5812=d;this._5185=0};e.get_CreatePageMethod=function(){return this._7039};e.set_CreatePageMethod=
function(d){this._7039=b.pv.e(d,w.WebGifCreatePageMethodEnumJS)};e.clone=function(){var b=new this.constructor;b._5812=this._5812;b._5185=this._5185;b._7522=this._7522;b._7039=new w.WebGifCreatePageMethodEnumJS(this._7039.valueOf());return b};e._4357=function(){return{infiniteAnimation:this._5812,numberOfAnimationCycles:this._5185,animationDelay:this._7522,createPageMethod:this._7039.valueOf()}};this._5812=!1;this._7522=this._5185=0;this._7039=new w.WebGifCreatePageMethodEnumJS(1);this._5735="Gif"};
b.extend(ya,K);var W=function(){W.superclass.constructor.call(this);var e=W.prototype;e.get_TileHeight=function(){return this._3666};e.set_TileHeight=function(d){b.pv.n(d);0>d&&b.pv.toe();this._3666=d};e.get_TileWidth=function(){return this._3184};e.set_TileWidth=function(d){b.pv.n(d);0>d&&b.pv.toe();this._3184=d};e.get_WaveletLevels=function(){return this._792};e.set_WaveletLevels=function(d){b.pv.n(d);(0>d||32<d)&&b.pv.toe();this._792=d};e.get_CompressionType=function(){return this._1359};e.set_CompressionType=
function(d){this._1359=b.pv.e(d,w.WebJpeg2000CompressionTypeEnumJS)};e.get_CompressionRatio=function(){return this._9943};e.set_CompressionRatio=function(d){b.pv.n(d);1>d&&b.pv.toe();this._9943=d};e.get_FileSize=function(){return this._2894};e.set_FileSize=function(d){b.pv.n(d);this._2894=d};e.clone=function(){var b=new this.constructor;b._3184=this._3184;b._3666=this._3666;b._792=this._792;b._1359=new w.WebJpeg2000CompressionTypeEnumJS(this._1359.valueOf());b._9943=this._9943;b._2894=this._2894;
return b};e._4357=function(){return{tileWidth:this._3184,tileHeight:this._3666,waveletLevels:this._792,compressionType:this._1359.valueOf(),compressionRatio:this._9943,fileSize:this._2894}};this._5735="Jpeg2000";this._3666=this._3184=0;this._792=5;this._1359=new w.WebJpeg2000CompressionTypeEnumJS(0);this._9943=20;this._2894=0};b.extend(W,K);var ga=function(){ga.superclass.constructor.call(this);var e=ga.prototype;e.get_UseMmr=function(){return this._7349};e.set_UseMmr=function(d){b.pv.b(d);this._7349=
d};e.get_Lossy=function(){return this._8603};e.set_Lossy=function(d){b.pv.b(d);this._8603=d};e.get_Inaccuracy=function(){return this._1871};e.set_Inaccuracy=function(d){b.pv.n(d);(0>d||100<d)&&b.pv.toe();this._1871=d};e.get_UseSymbolDictionary=function(){return this._2802};e.set_UseSymbolDictionary=function(d){b.pv.b(d);this._2802=d};e.get_SymbolDictionarySize=function(){return this._5374};e.set_SymbolDictionarySize=function(d){b.pv.n(d);10>d&&b.pv.toe();this._5374=d};e.clone=function(){var b=new this.constructor;
b._7349=this._7349;b._8603=this._8603;b._1871=this._1871;b._2802=this._2802;b._5374=this._5374;return b};e._4357=function(){return{useMmr:this._7349,lossy:this._8603,inaccuracy:this._1871,useSymbolDictionary:this._2802,symbolDictionarySize:this._5374}};this._5735="Jbig2";this._8603=this._7349=!1;this._1871=50;this._2802=!0;this._5374=6500};b.extend(ga,K);var za=function(){za.superclass.constructor.call(this);var e=za.prototype;e.get_Compression=function(){return this._2519};e.set_Compression=function(d){d=
b.pv.e(d,w.WebTiffCompressionEnumJS);switch(d.valueOf()){case 0:case 4:case 7:case 34712:case 5:case 1:case 8:break;default:b.pv.te("Compression '"+d.toString()+"' is not supported.")}this._2519=d};e.get_UsePredictor=function(){return this._1745};e.set_UsePredictor=function(d){b.pv.b(d);this._1745=d};e.get_JpegSettings=function(){return this._7563};e.set_JpegSettings=function(d){b.pv.c(d,V);this._7563=d};e.get_JpegQuality=function(){return this._7563.get_Quality()};e.set_JpegQuality=function(b){this._7563.get_Quality(b)};
e.get_SaveAsGrayscale=function(){return this._7563.get_SaveAsGrayscale()};e.set_SaveAsGrayscale=function(b){this._7563.set_SaveAsGrayscale(b)};e.get_ZipLevel=function(){return this._34};e.set_ZipLevel=function(d){b.pv.n(d);0>d&&(d=0);9<d&&(d=9);this._34=d};e.get_Jpeg2000Settings=function(){return this._9970};e.set_Jpeg2000Settings=function(d){b.pv.c(d,W);this._9970=d};e.get_BinarizationCommand=function(){return this._1034};e.set_BinarizationCommand=function(d){b.pv.c(d,Z.WebChangePixelFormatToBlackWhiteCommandJS);
this._1034=d};e.clone=function(){var b=new this.constructor;b._2519=new w.WebTiffCompressionEnumJS(this._2519.valueOf());b._1745=this._1745;b._7563=this._7563.clone();var a=new Z.WebChangePixelFormatToBlackWhiteCommandJS,e=this._1034;a._3512=new s.WebBinarizationModeEnumJS(e._3512.valueOf);a._3066=e._3066;a._4809=e._4809;a._7638=e._7638;a._533=e._533;a._3697=e._3697;a._4949=e._4949;a._8130=new s.WebLuminanceComputationModeEnumJS(e._8130.valueOf());b._1034=a;b._34=this._34;b._9970=this._9970.clone();
return b};e._4357=function(){return{compression:this._2519.valueOf(),usePredictor:this._1745,jpegSettings:this._7563._4357(),binarizarionCommand:this._1034.getParams(),zipLevel:this._34,jpeg2000Settings:this._9970._4357()}};this._5735="Tiff";this._2519=new w.WebTiffCompressionEnumJS(0);this._1745=!0;this._7563=new V;this._1034=new Z.WebChangePixelFormatToBlackWhiteCommandJS;this._34=6;this._9970=new W};b.extend(za,K);var Aa=function(){Aa.superclass.constructor.call(this);var e=Aa.prototype;e.get_Compression=
function(){return this._2519};e.set_Compression=function(d){this._2519=b.pv.e(d,w.WebPdfImageCompressionEnumJS)};e.get_Conformance=function(){return this._1593};e.set_Conformance=function(d){d=b.pv.e(d,w.WebPdfDocumentConformance);switch(d.valueOf()){case 0:case 2:case 8:case 64:break;default:b.pv.te("Conformance to '"+d.toString()+"' is not supported now.")}this._1593=d};e.get_JpegSettings=function(){return this._7563};e.set_JpegSettings=function(d){b.pv.c(d,V);this._7563=d};e.get_JpegQuality=function(){return this._7563.get_Quality()};
e.set_JpegQuality=function(b){this._7563.get_Quality(b)};e.get_SaveAsGrayscale=function(){return this._7563.get_SaveAsGrayscale()};e.set_SaveAsGrayscale=function(b){this._7563.set_SaveAsGrayscale(b)};e.get_BinarizationCommand=function(){return this._1034};e.set_BinarizationCommand=function(d){b.pv.c(d,Z.WebChangePixelFormatToBlackWhiteCommandJS);this._1034=d};e.get_Jbig2UseGlobals=function(){return this._10370};e.set_Jbig2UseGlobals=function(d){b.pv.b(d);this._10370=d};e.get_Jbig2Settings=function(){return this._2722};
e.set_Jbig2Settings=function(d){b.pv.c(d,ga);this._2722=d};e.get_Jpeg2000Settings=function(){return this._9970};e.set_Jpeg2000Settings=function(d){b.pv.c(d,W);this._9970=d};e.get_ZipLevel=function(){return this._34};e.set_ZipLevel=function(d){b.pv.n(d);0>d&&(d=0);9<d&&(d=9);this._34=d};e.get_GenerateAnnotationAppearance=function(){return this._8425};e.set_GenerateAnnotationAppearance=function(d){b.pv.b(d);this._8425=d};e.clone=function(){var b=new this.constructor;b._2519=new w.WebPdfImageCompressionEnumJS(this._2519.valueOf());
b._1593=new w.WebPdfDocumentConformance(this._1593.valueOf());b._7563=this._7563.clone();b._9970=this._9970.clone();var a=new Z.WebChangePixelFormatToBlackWhiteCommandJS,e=this._1034;a._3512=new s.WebBinarizationModeEnumJS(e._3512.valueOf);a._3066=e._3066;a._4809=e._4809;a._7638=e._7638;a._533=e._533;a._3697=e._3697;a._4949=e._4949;a._8130=new s.WebLuminanceComputationModeEnumJS(e._8130.valueOf());b._1034=a;b._10370=this._10370;b._2722=this._2722;b._34=this._34;b._8425=this._8425;return b};e._4357=
function(){return{compression:this._2519.valueOf(),conformance:this._1593.valueOf(),jpegSettings:this._7563._4357(),jpeg2000Settings:this._9970._4357(),binarizarionCommand:this._1034.getParams(),jbig2UseGlobals:this._10370,jbig2Settings:this._2722._4357(),zipLevel:this._34,generateAnnotationAppearance:this._8425}};this._5735="Pdf";this._2519=new w.WebPdfImageCompressionEnumJS(1024);this._1593=new w.WebPdfDocumentConformance(0);this._7563=new V;this._1034=new Z.WebChangePixelFormatToBlackWhiteCommandJS;
this._10370=!0;this._2722=new ga;this._9970=new W;this._34=6;this._8425=!1};b.extend(Aa,K);b.WebServiceJS.defaultConverterService=-1;var ub=function(e,d){var a=ub.prototype;a.started=function(a){};a.progress=function(a,b){};a.finished=function(a,b){};a.get_IsStarted=function(){return this._3834};a.get_IsActive=function(){return this._6860()};a.get_ConvertationStatus=function(){return this._1616};a.convertFileTo=function(a,d,e,h,k){(this._3834||this._6860())&&b.pv.te("The image file converter already has active image file converting process or already sent the request.");
b.pv.c(d,K);b.pv.s(a);b.pv.isf(e)&&(k=h,h=e,e=null);var l;try{l=d.get_Name()}catch(s){b.pv.te("Unsupported encoder settings.")}l="ConvertFileTo"+l;a={fileId:a};d=d.toObject();var w=!0,C;for(C in d){w=!1;break}w||(a.settings=d);null!=e&&(a.renderingSettings=e.toObject());var q=this;e=new b.WebRequestJS(l,function(a,b,d){q._1622=a.processId;delete a.processId;q._3834=!1;$(q).triggerHandler("started");setTimeout(function(){q._7273()},q._1063);h&&h(a,b,d)},function(a,b,d){q._3834=!1;k&&k(a,b,d)},{type:"POST",
data:a});this._1616=null;this._3834=!0;return this._8315.sendRequest(e)};a.abortConverting=function(a,d){this._6860()||b.pv.te("The active image file converting process does not exist.");var e=new b.WebRequestJS("AbortConverting",a,d,{type:"POST",data:{processId:this._1622}});return this._8315.sendRequest(e)};a._7273=function(){var a=this,d=new b.WebRequestJS("GetConvertingStatus",function(b){b=b.status;a._1616=b;var d=b.description;"Finished"===d||"Aborted"===d?(a._1622=null,$(a).triggerHandler("finished",
b)):($(a).triggerHandler("progress",b),setTimeout(function(){a._7273()},a._1063))},function(b){a._1622=null;$(a).triggerHandler("finished",a._1616)},{type:"POST",data:{processId:this._1622}});return this._8315.sendRequest(d)};a._6860=function(){return null!=this._1622};null==e&&(e=300);null==d&&(d=b.WebServiceJS.defaultConverterService);b.pv.c(d,b.WebServiceJS);b.pv.n(e);this._8315=d;this._1063=e;this._3834=!1;this._1616=this._1622=null;delete a.started;delete a.progress;delete a.finished};w.WebImageEncoderSettingsJS=
K;w.WebPcxEncoderSettingsJS=wa;w.WebBmpEncoderSettingsJS=xa;w.WebPngEncoderSettingsJS=N;w.WebJpegEncoderSettingsJS=V;w.WebGifEncoderSettingsJS=ya;w.WebJpeg2000EncoderSettingsJS=W;w.WebJbig2EncoderSettingsJS=ga;w.WebTiffEncoderSettingsJS=za;w.WebPdfEncoderSettingsJS=Aa;w.WebImageConverterJS=ub})(I.Imaging)})(Vintasoft);
